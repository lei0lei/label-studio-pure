{"version":3,"file":"911.js","mappings":"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","sources":["webpack://labelstudio/../../libs/datamanager/src/components/Common/Menu/Menu.scss?a2e8","webpack://labelstudio/../../libs/datamanager/src/components/Common/Menu/MenuContext.js","webpack://labelstudio/../../libs/datamanager/src/components/Common/Menu/Menu.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Menu/MenuItem.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/ErrorBox.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/FieldsButton.jsx","webpack://labelstudio/../../libs/datamanager/src/utils/colors.js","webpack://labelstudio/../../libs/datamanager/src/components/Common/Tag/Tag.jsx","webpack://labelstudio/../../libs/datamanager/src/utils/utils.ts","webpack://labelstudio/../../libs/datamanager/src/components/Common/Oneof/Oneof.js","webpack://labelstudio/../../libs/datamanager/src/components/Common/Form/FormContext.js","webpack://labelstudio/../../libs/datamanager/src/utils/helpers.ts","webpack://labelstudio/../../libs/datamanager/src/components/Common/Form/Validation/Validators.js","webpack://labelstudio/../../libs/datamanager/src/components/Common/Form/FormField.js","webpack://labelstudio/../../libs/datamanager/src/components/Common/Form/Utils.ts","webpack://labelstudio/../../libs/datamanager/src/components/Common/Form/Elements/Label/Label.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Form/Elements/Counter/Counter.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Form/Elements/Input/Input.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Form/Elements/Select/Select.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Form/Elements/Toggle/Toggle.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Space/Space.scss?e226","webpack://labelstudio/../../libs/datamanager/src/components/Common/Space/Space.jsx","webpack://labelstudio/../../libs/datamanager/src/providers/SDKProvider.jsx","webpack://labelstudio/../../libs/datamanager/src/providers/MultiProvider.js","webpack://labelstudio/../../libs/datamanager/src/components/Common/Form/Form.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/FilterDropdown.jsx","webpack://labelstudio/../../libs/datamanager/src/utils/debounce.js","webpack://labelstudio/../../libs/datamanager/src/components/Filters/types/Boolean.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/types/Common.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/DatePicker/DatePicker.global.scss?dc80","webpack://labelstudio/../../libs/datamanager/src/components/Common/DatePicker/DatePicker.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/types/Date.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/types/Datetime.js","webpack://labelstudio/../../libs/datamanager/src/components/Filters/types/List.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/FilterInput.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/types/Number.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/types/String.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/types/TaskStateFilter.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/types/Utility.js","webpack://labelstudio/../../libs/datamanager/src/components/Filters/FilterLine/FilterOperation.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Icon/Icon.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/FilterLine/FilterLine.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/Filters.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Badge/Badge.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/FiltersPane.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Interface.js","webpack://labelstudio/../../libs/datamanager/src/components/Common/SDKButtons.jsx","webpack://labelstudio/../../libs/datamanager/src/hooks/useActions.ts","webpack://labelstudio/../../libs/datamanager/src/utils/feature-flags.js","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/Toolbar/ActionsButton.scss?a4a0","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/Toolbar/ActionsButton.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/RadioGroup/RadioGroup.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/Toolbar/DensityToggle.tsx","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/Toolbar/GridWidthButton.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/Toolbar/LabelButton.jsx","webpack://labelstudio/../../libs/datamanager/src/assets/running.js","webpack://labelstudio/../../libs/datamanager/src/assets/Running-64.gif","webpack://labelstudio/../../libs/datamanager/src/assets/Running-64@2x.gif","webpack://labelstudio/../../libs/datamanager/src/components/Common/Spinner.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/Toolbar/LoadingPossum.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/Toolbar/OrderButton.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/Toolbar/RefreshButton.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/Toolbar/ViewToggle.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/Toolbar/instruments.jsx","webpack://labelstudio/../../libs/datamanager/src/utils/api-proxy/index.js","webpack://labelstudio/../../libs/datamanager/src/sdk/api-config.js","webpack://labelstudio/../../libs/datamanager/src/components/Common/Tabs/Tabs.scss?eb04","webpack://labelstudio/../../libs/datamanager/src/components/Common/Tabs/TabsMenu.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Tabs/Tabs.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Filters/FiltersSidebar/FilterSidebar.jsx","webpack://labelstudio/../../libs/datamanager/src/sdk/keymap.ts","webpack://labelstudio/../../libs/datamanager/src/sdk/hotkeys.ts","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/Agreement/Agreement.jsx","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/AgreementSelected.jsx","webpack://labelstudio/../../libs/ui/src/lib/select/types.ts","webpack://labelstudio/../../libs/datamanager/src/components/Common/UserSelect.tsx","webpack://labelstudio/../../libs/datamanager/src/hooks/useUsers.ts","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/Annotators/Annotators.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/MediaPlayer/MediaPlayer.scss?3d94","webpack://labelstudio/../../libs/datamanager/src/components/Common/MediaPlayer/MediaSeeker.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/MediaPlayer/Duration.js","webpack://labelstudio/../../libs/datamanager/src/components/Common/MediaPlayer/MediaPlayer.jsx","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/AudioCell.jsx","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/BooleanCell.jsx","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/DateTimeCell.jsx","webpack://labelstudio/../../libs/datamanager/src/sdk/lsf-utils.ts","webpack://labelstudio/../../libs/datamanager/src/components/Common/AnnotationPreview/AnnotationPreview.jsx","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/ImageCell.jsx","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/NumberCell.js","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/StringCell.jsx","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/TimeCell.jsx","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/VideoCell.jsx","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/ProjectCell.jsx","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/TaskState.jsx","webpack://labelstudio/../../libs/datamanager/src/components/CellViews/index.js","webpack://labelstudio/../../libs/datamanager/src/components/Common/Modal/Modal.tsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Table/Table.scss?85f3","webpack://labelstudio/../../libs/datamanager/src/components/Common/Table/TableCheckbox.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Table/TableContext.js","webpack://labelstudio/../../libs/datamanager/src/stores/types.js","webpack://labelstudio/../../libs/datamanager/src/stores/Tabs/tab_column.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Resizer/Resizer.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Table/TableCell/TableCell.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Table/utils.js","webpack://labelstudio/../../libs/datamanager/src/components/Common/Table/TableHead/TableHead.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/SkeletonLoader/SkeletonLine.tsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/SkeletonLoader/SkeletonGap.tsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/SkeletonLoader/SkeletonLoader.tsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Table/TableRow/TableRow.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/TaskSourceViewer/CodeView.module.scss?1cbc","webpack://labelstudio/../../libs/datamanager/src/components/Common/TaskSourceViewer/CodeView.tsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/TaskSourceViewer/TaskSourceViewer.module.scss?7404","webpack://labelstudio/../../libs/datamanager/src/components/Common/TaskSourceViewer/ViewToggle.tsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/TaskSourceViewer/TaskSourceViewer.tsx","webpack://labelstudio/../../libs/datamanager/src/components/Common/Table/Table.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataGroups/AudioDataGroup.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataGroups/ImageDataGroup.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataGroups/TextDataGroup.jsx","webpack://labelstudio/../../libs/datamanager/src/components/MainView/GridView/GridPreview.module.scss?1ab3","webpack://labelstudio/../../libs/datamanager/src/components/MainView/GridView/ImagePreview.tsx","webpack://labelstudio/../../libs/datamanager/src/components/MainView/GridView/GridPreview.tsx","webpack://labelstudio/../../libs/datamanager/src/components/MainView/GridView/GridView.jsx","webpack://labelstudio/../../libs/datamanager/src/components/MainView/DataView/empty-state/EmptyState.tsx","webpack://labelstudio/../../libs/datamanager/src/components/MainView/DataView/Table.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/Toolbar/Toolbar.jsx","webpack://labelstudio/../../libs/datamanager/src/components/DataManager/DataManager.jsx","webpack://labelstudio/../../libs/datamanager/src/components/Label/Label.jsx","webpack://labelstudio/../../libs/datamanager/src/components/App/App.tsx","webpack://labelstudio/../../libs/datamanager/src/utils/history.js","webpack://labelstudio/../../libs/datamanager/src/stores/Action.js","webpack://labelstudio/../../libs/datamanager/src/utils/random.js","webpack://labelstudio/../../libs/datamanager/src/hooks/useUpdateEffect.ts","webpack://labelstudio/../../libs/datamanager/src/components/Common/Pagination/Pagination.tsx","webpack://labelstudio/../../libs/datamanager/src/mixins/DataStore/DataStore.js","webpack://labelstudio/../../libs/datamanager/src/mixins/DataStore/DataStoreItem.js","webpack://labelstudio/../../libs/datamanager/src/stores/DynamicModel.js","webpack://labelstudio/../../libs/datamanager/src/stores/DataStores/annotations.js","webpack://labelstudio/../../libs/datamanager/src/stores/Users.js","webpack://labelstudio/../../libs/datamanager/src/stores/Assignee.js","webpack://labelstudio/../../libs/datamanager/src/stores/DataStores/tasks.js","webpack://labelstudio/../../libs/datamanager/src/stores/Tabs/filter_utils.ts","webpack://labelstudio/../../libs/datamanager/src/stores/Tabs/tab_filter_type.js","webpack://labelstudio/../../libs/datamanager/src/stores/Tabs/tab_filter.js","webpack://labelstudio/../../libs/datamanager/src/stores/Tabs/tab_hidden_columns.js","webpack://labelstudio/../../libs/datamanager/src/stores/Tabs/tab_selected_items.js","webpack://labelstudio/../../libs/datamanager/src/stores/Tabs/tab.js","webpack://labelstudio/../../libs/datamanager/src/stores/Tabs/store.js","webpack://labelstudio/../../libs/datamanager/src/utils/ActivityObserver.ts","webpack://labelstudio/../../libs/datamanager/src/stores/AppStore.js","webpack://labelstudio/../../libs/datamanager/src/sdk/app-create.jsx","webpack://labelstudio/../../libs/datamanager/src/sdk/comments-sdk.js","webpack://labelstudio/../../libs/datamanager/src/sdk/lsf-sdk.js","webpack://labelstudio/../../libs/datamanager/src/sdk/dm-sdk.js","webpack://labelstudio/../../libs/datamanager/src/index.js","webpack://labelstudio/../../libs/editor/src/utils/docs.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"menu-dm\":\"lsf-menu-dm\",\"menu-dm__item\":\"lsf-menu-dm__item\",\"menu-dm__item-icon\":\"lsf-menu-dm__item-icon\",\"menu-dm__item_look_danger\":\"lsf-menu-dm__item_look_danger\",\"menu-dm__item_active\":\"lsf-menu-dm__item_active\",\"sidebar__pin\":\"lsf-sidebar__pin\",\"menu-dm__item_clickable\":\"lsf-menu-dm__item_clickable\",\"menu-dm__spacer\":\"lsf-menu-dm__spacer\",\"menu-dm__divider\":\"lsf-menu-dm__divider\",\"menu-dm_size_compact\":\"lsf-menu-dm_size_compact\",\"menu-dm_size_small\":\"lsf-menu-dm_size_small\",\"menu-dm_collapsed\":\"lsf-menu-dm_collapsed\",\"menu-group-dm__title\":\"lsf-menu-group-dm__title\",\"menu-group-dm__list\":\"lsf-menu-group-dm__list\"};","import React from \"react\";\r\n\r\nexport const MenuContext = React.createContext();\r\n","import React, { useCallback, useMemo } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { useDropdown } from \"@humansignal/ui\";\r\nimport \"./Menu.scss\";\r\nimport { MenuContext } from \"./MenuContext\";\r\nimport { MenuItem } from \"./MenuItem\";\r\n\r\nconst menuCN = cn(\"menu-dm\");\r\n\r\nexport const Menu = React.forwardRef(\r\n  ({ children, className, style, size, selectedKeys, closeDropdownOnItemClick }, ref) => {\r\n    const dropdown = useDropdown();\r\n\r\n    const selected = useMemo(() => {\r\n      return new Set(selectedKeys ?? []);\r\n    }, [selectedKeys]);\r\n\r\n    const clickHandler = useCallback(\r\n      (e) => {\r\n        const elem = menuCN.elem(\"item\").closest(e.target);\r\n\r\n        if (dropdown && elem && closeDropdownOnItemClick !== false) {\r\n          dropdown.close();\r\n        }\r\n      },\r\n      [dropdown],\r\n    );\r\n\r\n    const collapsed = useMemo(() => {\r\n      return !!dropdown;\r\n    }, [dropdown]);\r\n\r\n    return (\r\n      <MenuContext.Provider value={{ selected }}>\r\n        <ul\r\n          ref={ref}\r\n          className={clsx(menuCN.toString(), menuCN.mod({ size, collapsed }).toString(), className)}\r\n          style={style}\r\n          onClick={clickHandler}\r\n        >\r\n          {children}\r\n        </ul>\r\n      </MenuContext.Provider>\r\n    );\r\n  },\r\n);\r\n\r\nMenu.Item = MenuItem;\r\nMenu.Spacer = () => <li className={cn(\"menu-dm\", { elem: \"spacer\" })} />;\r\nMenu.Divider = () => <li className={cn(\"menu-dm\", { elem: \"divider\" })} />;\r\nMenu.Builder = (url, menuItems) => {\r\n  return (menuItems ?? []).map((item, index) => {\r\n    if (item === \"SPACER\") return <Menu.Spacer key={index} />;\r\n    if (item === \"DIVIDER\") return <Menu.Divider key={index} />;\r\n\r\n    const [path, label] = item;\r\n    const location = `${url}${path}`.replace(/([/]+)/g, \"/\");\r\n\r\n    return (\r\n      <Menu.Item key={index} to={location} exact>\r\n        {label}\r\n      </Menu.Item>\r\n    );\r\n  });\r\n};\r\n\r\nMenu.Group = ({ children, title, className, style }) => {\r\n  const rootClass = cn(\"menu-group-dm\");\r\n\r\n  return (\r\n    <li className={rootClass.mix(className)} style={style}>\r\n      <div className={rootClass.elem(\"title\")}>{title}</div>\r\n      <ul className={rootClass.elem(\"list\")}>{children}</ul>\r\n    </li>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { MenuContext } from \"./MenuContext\";\r\nimport { Tooltip } from \"@humansignal/ui\";\r\n\r\nexport const MenuItem = ({\r\n  name,\r\n  children,\r\n  label,\r\n  icon,\r\n  to,\r\n  className,\r\n  href,\r\n  danger, // deprecated, use variant=\"negative\" instead\r\n  variant,\r\n  exact = false,\r\n  forceReload = false,\r\n  active = false,\r\n  onClick,\r\n  disabled,\r\n  tooltip,\r\n  tooltipAlignment = \"bottom-center\",\r\n  ...rest\r\n}) => {\r\n  const { selected } = React.useContext(MenuContext);\r\n  const rootClass = cn(\"menu-dm\", { elem: \"item\" });\r\n  const isActive = (() => {\r\n    const pathname = window.location.pathname.replace(/\\/$/, \"\");\r\n    const url = to ?? href;\r\n\r\n    if (selected.has(name)) {\r\n      return true;\r\n    }\r\n    if (exact) {\r\n      return pathname === url;\r\n    }\r\n    return pathname.includes(url);\r\n  })();\r\n\r\n  const linkContent = (\r\n    <>\r\n      {icon && <span className={rootClass.elem(\"item-icon\")}>{icon}</span>}\r\n      {children ?? label}\r\n    </>\r\n  );\r\n\r\n  // Support both deprecated danger prop and new variant prop\r\n  const isNegative = danger || variant === \"negative\";\r\n\r\n  const handleClick = (e) => {\r\n    if (disabled) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return;\r\n    }\r\n    onClick?.(e);\r\n  };\r\n\r\n  const linkAttributes = {\r\n    className: rootClass\r\n      .mod({\r\n        active: isActive || active,\r\n        look: isNegative && \"danger\", // Keep existing CSS class for compatibility\r\n      })\r\n      .mix(className),\r\n    onClick: handleClick,\r\n    disabled: disabled || undefined,\r\n    \"aria-disabled\": disabled || undefined,\r\n    ...rest,\r\n  };\r\n\r\n  if (forceReload && !disabled) {\r\n    linkAttributes.onClick = () => {\r\n      window.location.href = to ?? href;\r\n    };\r\n  }\r\n\r\n  const menuItem = (\r\n    <li>\r\n      {href ? (\r\n        <a href={disabled ? undefined : (href ?? \"#\")} {...linkAttributes}>\r\n          {linkContent}\r\n        </a>\r\n      ) : (\r\n        <div {...linkAttributes}>{linkContent}</div>\r\n      )}\r\n    </li>\r\n  );\r\n\r\n  // Only wrap in tooltip if tooltip prop is provided and should be shown\r\n  if (tooltip) {\r\n    return (\r\n      <Tooltip title={tooltip} alignment={tooltipAlignment}>\r\n        {menuItem}\r\n      </Tooltip>\r\n    );\r\n  }\r\n\r\n  return menuItem;\r\n};\r\n","import { inject } from \"mobx-react\";\r\nimport { Button } from \"@humansignal/ui\";\r\nimport { Dropdown } from \"@humansignal/ui\";\r\nimport { Menu } from \"./Menu/Menu\";\r\nimport { IconInfo } from \"@humansignal/icons\";\r\n\r\nconst ErrorRenderer = (error, i) => {\r\n  return (\r\n    <Menu.Item key={i} disabled={true}>\r\n      {error.response?.detail}\r\n    </Menu.Item>\r\n  );\r\n};\r\n\r\nconst injector = inject(({ store }) => {\r\n  return {\r\n    errors: store.serverErrors,\r\n  };\r\n});\r\n\r\nexport const ErrorBox = injector(({ errors }) => {\r\n  return errors?.size > 0 ? (\r\n    <Dropdown.Trigger content={<Menu>{Array.from(errors.values()).map(ErrorRenderer)}</Menu>}>\r\n      <Button type=\"text\" leading={<IconInfo />}>\r\n        Errors occurred\r\n      </Button>\r\n    </Dropdown.Trigger>\r\n  ) : null;\r\n});\r\n","import { Button, Checkbox, Dropdown, EnterpriseBadge } from \"@humansignal/ui\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport React from \"react\";\r\nimport { cn } from \"../../utils/bem\";\r\nimport { Menu } from \"./Menu/Menu\";\r\n\r\nconst injector = inject(({ store }) => {\r\n  return {\r\n    columns: Array.from(store.currentView?.targetColumns ?? []),\r\n  };\r\n});\r\n\r\nconst FieldsMenu = observer(({ columns, WrapperComponent, onClick, onReset, selected, resetTitle }) => {\r\n  const MenuItem = (col, onClick) => {\r\n    const enterpriseBadge = col.enterprise_badge ?? col.original?.enterprise_badge;\r\n    const shouldDisable = col.disabled || enterpriseBadge;\r\n\r\n    const titleContent = <span>{col.title}</span>;\r\n\r\n    return (\r\n      <Menu.Item key={col.key} name={col.key} onClick={onClick} disabled={shouldDisable}>\r\n        {WrapperComponent && col.wra !== false ? (\r\n          <WrapperComponent column={col} disabled={shouldDisable} enterpriseBadge={enterpriseBadge}>\r\n            {titleContent}\r\n          </WrapperComponent>\r\n        ) : (\r\n          <span className=\"flex items-center justify-between w-full gap-base\">\r\n            {titleContent}\r\n            {enterpriseBadge && <EnterpriseBadge ghost />}\r\n          </span>\r\n        )}\r\n      </Menu.Item>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Menu size=\"small\" selectedKeys={selected ? [selected] : [\"none\"]} closeDropdownOnItemClick={false}>\r\n      {onReset &&\r\n        MenuItem(\r\n          {\r\n            key: \"none\",\r\n            title: resetTitle ?? \"Default\",\r\n            wrap: false,\r\n          },\r\n          onReset,\r\n        )}\r\n\r\n      {columns.map((col) => {\r\n        if (col.children) {\r\n          return (\r\n            <Menu.Group key={col.key} title={col.title}>\r\n              {col.children.map((col) => MenuItem(col, () => onClick?.(col)))}\r\n            </Menu.Group>\r\n          );\r\n        }\r\n        if (!col.parent) {\r\n          return MenuItem(col, () => onClick?.(col));\r\n        }\r\n\r\n        return null;\r\n      })}\r\n    </Menu>\r\n  );\r\n});\r\n\r\nexport const FieldsButton = injector(\r\n  ({\r\n    columns,\r\n    size,\r\n    style,\r\n    wrapper,\r\n    title,\r\n    icon,\r\n    className,\r\n    trailingIcon,\r\n    onClick,\r\n    onReset,\r\n    resetTitle,\r\n    filter,\r\n    selected,\r\n    tooltip,\r\n    tooltipTheme = \"dark\",\r\n    openUpwardForShortViewport = true,\r\n    \"data-testid\": dataTestId,\r\n  }) => {\r\n    const content = [];\r\n\r\n    if (title) content.push(<React.Fragment key=\"f-button-title\">{title}</React.Fragment>);\r\n\r\n    const renderButton = () => {\r\n      return (\r\n        <Button\r\n          variant=\"neutral\"\r\n          size=\"small\"\r\n          look=\"outlined\"\r\n          leading={icon}\r\n          trailing={trailingIcon}\r\n          data-testid={dataTestId}\r\n        >\r\n          {content.length ? content : null}\r\n        </Button>\r\n      );\r\n    };\r\n\r\n    return (\r\n      <Dropdown.Trigger\r\n        content={\r\n          <FieldsMenu\r\n            columns={filter ? columns.filter(filter) : columns}\r\n            WrapperComponent={wrapper}\r\n            onClick={onClick}\r\n            size={size}\r\n            onReset={onReset}\r\n            selected={selected}\r\n            resetTitle={resetTitle}\r\n          />\r\n        }\r\n        style={{ maxHeight: 280, overflow: \"auto\" }}\r\n        openUpwardForShortViewport={openUpwardForShortViewport}\r\n      >\r\n        {tooltip ? (\r\n          <div className={`${cn(\"field-button\").toClassName()} h-[40px] flex items-center`} style={{ zIndex: 1000 }}>\r\n            <Button\r\n              tooltip={tooltip}\r\n              variant=\"neutral\"\r\n              size={size}\r\n              look=\"outlined\"\r\n              leading={icon}\r\n              trailing={trailingIcon}\r\n              data-testid={dataTestId}\r\n            >\r\n              {content.length ? content : null}\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          renderButton()\r\n        )}\r\n      </Dropdown.Trigger>\r\n    );\r\n  },\r\n);\r\n\r\nFieldsButton.Checkbox = observer(({ column, children, disabled, enterpriseBadge }) => {\r\n  const shouldDisable = disabled;\r\n\r\n  return (\r\n    <div style={{ width: \"100%\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", gap: \"8px\" }}>\r\n      <div style={{ flex: 1, minWidth: 0, overflow: \"hidden\" }}>\r\n        <Checkbox size=\"small\" checked={!column.is_hidden} onChange={column.toggleVisibility} disabled={shouldDisable}>\r\n          {children}\r\n        </Checkbox>\r\n      </div>\r\n      {enterpriseBadge && (\r\n        <div style={{ flexShrink: 0 }}>\r\n          <EnterpriseBadge ghost />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n","export const colors = {\r\n  red: \"#F5222D\",\r\n  volcano: \"#FA541C\",\r\n  orange: \"#FA8C16\",\r\n  gold: \"#FAAD14\",\r\n  yellow: \"#FADB14\",\r\n  lime: \"#A0D911\",\r\n  green: \"#52C41A\",\r\n  cyan: \"#13C2C2\",\r\n  blue: \"#1890FF\",\r\n  geekBlue: \"#2F54EB\",\r\n  purple: \"#722ED1\",\r\n  magenta: \"#EB2F96\",\r\n};\r\n","import color from \"chroma-js\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { colors } from \"../../../utils/colors\";\r\nimport \"./Tag.scss\";\r\n\r\nconst prepareColor = (colorString) => {\r\n  const baseColor = color(colorString);\r\n\r\n  return {\r\n    color: baseColor,\r\n    background: baseColor.desaturate(2).brighten(2.2),\r\n    \"shadow-color\": baseColor.desaturate(1).brighten(1.22),\r\n  };\r\n};\r\n\r\nconst getColor = (colorString) => {\r\n  if (colorString) {\r\n    return colors[colorString] ?? colorString;\r\n  }\r\n  return colors.blue;\r\n};\r\n\r\nexport const Tag = ({ className, style, size, color, children }) => {\r\n  const finalColor = Object.entries(prepareColor(getColor(color))).reduce(\r\n    (res, [key, color]) => ({ ...res, [`--${key}`]: color }),\r\n    {},\r\n  );\r\n\r\n  const styles = { ...(style ?? {}), ...finalColor };\r\n\r\n  return (\r\n    <span className={cn(\"tag-dm\").mod({ size }).mix(className).toClassName()} style={styles}>\r\n      {children}\r\n    </span>\r\n  );\r\n};\r\n","/**\r\n * @todo use [].every()\r\n * Returns true if all checks return true\r\n * @param {boolean[]} boolArray\r\n * @param {(any) => boolean} check\r\n */\r\nexport const all = <T>(boolArray: T[], check: (item: T) => boolean) => {\r\n  return boolArray.reduce((res, value) => {\r\n    return res && !!check(value);\r\n  }, true);\r\n};\r\n\r\n/**\r\n * Returns true if any of the checks return true\r\n * @param {boolean[]} boolArray\r\n * @param {(any) => boolean} check\r\n */\r\nexport const any = <T>(boolArray: T[], check: (item: T) => boolean) => {\r\n  return boolArray.find((value) => !!check(value)) || false;\r\n};\r\n\r\nexport const randomDate = (start: Date, end: Date) => {\r\n  return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));\r\n};\r\n\r\nexport const groupBy = <T>(list: T[], group: (item: T) => string) => {\r\n  return list.reduce<Record<string, T[]>>((res, item) => {\r\n    const property = group(item);\r\n\r\n    if (res[property]) {\r\n      res[property].push(item);\r\n    } else {\r\n      res[property] = [item];\r\n    }\r\n\r\n    return res;\r\n  }, {});\r\n};\r\n\r\nexport const unique = <T>(list: T[]): T[] => {\r\n  return Array.from(new Set<T>(list));\r\n};\r\n\r\nexport const cleanArray = <T>(array: T[]): T[] => {\r\n  return array.filter((el) => !!el);\r\n};\r\n\r\nexport const isDefined = <T>(value?: T): value is T => {\r\n  return value !== null && value !== undefined;\r\n};\r\n\r\nexport const isBlank = (value?: string) => {\r\n  if (!isDefined(value)) return true;\r\n\r\n  if (typeof value === \"string\") {\r\n    return value.trim().length === 0;\r\n  }\r\n\r\n  return false;\r\n};\r\n","import { cloneElement, useMemo } from \"react\";\r\n\r\nconst compareCase = (value, caseValue) => {\r\n  if (Array.isArray(caseValue)) {\r\n    return caseValue.includes(value);\r\n  }\r\n  return value === caseValue;\r\n};\r\n\r\nexport const Oneof = ({ value, children, className }) => {\r\n  const selectedChild = useMemo(() => {\r\n    if (Array.isArray(children)) {\r\n      return children.find((c) => compareCase(value, c.props.case)) || null;\r\n    }\r\n    if (compareCase(value, children.props.case)) {\r\n      return children;\r\n    }\r\n  }, [children, value]);\r\n\r\n  return selectedChild\r\n    ? cloneElement(selectedChild, {\r\n        ...selectedChild.props,\r\n        className: [className, selectedChild.props.className].join(\" \"),\r\n      })\r\n    : null;\r\n};\r\n","import { createContext } from \"react\";\r\n\r\nexport const FormContext = createContext();\r\nFormContext.displayName = \"FormContext\";\r\n\r\nexport const FormValidationContext = createContext();\r\nFormValidationContext.displayName = \"FormValidationContext\";\r\n\r\nexport const FormSubmissionContext = createContext();\r\nFormSubmissionContext.displayName = \"FormSubmissionContext\";\r\n\r\nexport const FormStateContext = createContext();\r\nFormStateContext.displayName = \"FormStateContext\";\r\n\r\nexport const FormResponseContext = createContext();\r\nFormResponseContext.displayName = \"FormResponseContext\";\r\n","import camelCase from \"lodash/camelCase\";\r\n\r\nexport const formDataToJPO = (formData: FormData) => {\r\n  if (formData instanceof FormData) {\r\n    const entries = formData.entries();\r\n\r\n    return Array.from(entries).reduce((res, [key, value]) => {\r\n      return { ...res, [key]: value };\r\n    }, {});\r\n  }\r\n\r\n  return formData;\r\n};\r\n\r\n/**\r\n * Hydrate JSON values that are large integers to strings.\r\n */\r\nexport const jsonReviverWithBigInt = (_key: any, value: any, context?: any) => {\r\n  if (typeof value === \"number\" && context?.source !== undefined && Math.abs(value) > Number.MAX_SAFE_INTEGER) {\r\n    // If the number would overflow the JS number precision, retain it to a string\r\n    // from the original source string.\r\n    // Leaving as a string and not a BigInt to avoid issues with JSON.stringify or other cases downstream.\r\n    return context.source;\r\n  }\r\n  return value;\r\n};\r\n/**\r\n * Parse a JSON string and convert big integers to strings.\r\n * We convert only big integers that are still integers within the JSON string\r\n * to avoid JS number precision issues when displaying them in the UI.\r\n * This is a workaround for the fact that JSON.parse does not directly support big integers and will\r\n * immediately convert them to numbers (losing precision).\r\n *\r\n * ex. { \"id\": 12345678901234567890 } => { \"id\": \"12345678901234567890\" }\r\n *     { \"id\": -12345678901234567890 } => { \"id\": \"-12345678901234567890\" }\r\n *     { \"meta\": { \"id\": 12345678901234567890 } } => { \"meta\": { \"id\": \"12345678901234567890\" } }\r\n *     { \"meta\": { \"id\": -12345678901234567890 } } => { \"meta\": { \"id\": \"-12345678901234567890\" } }\r\n **/\r\nexport const parseJson = <T = any>(jsonString: string): T => {\r\n  return JSON.parse(jsonString, jsonReviverWithBigInt) as T;\r\n};\r\n\r\nexport const objectToMap = <T extends Record<string, any>>(object: T) => {\r\n  return new Map(Object.entries(object ?? {}));\r\n};\r\n\r\nexport const mapToObject = <T extends Map<any, any>>(map: T) => {\r\n  return Object.fromEntries(map);\r\n};\r\n\r\nexport const filename = (string: string) => {\r\n  if (string) {\r\n    return (\r\n      string\r\n        .split(\"/\")\r\n        .slice(-1)[0]\r\n        .match(/([^?]+)/g)?.[0] ?? string\r\n    );\r\n  }\r\n};\r\n\r\nexport const isEmptyString = (value: any) => {\r\n  return typeof value === \"string\" && value.trim().length === 0;\r\n};\r\n\r\nexport const isEmptyObject = (value: any) => {\r\n  return (typeof value === \"object\" && !value) || Object.keys(value).length === 0;\r\n};\r\n\r\nexport const isEmptyArray = (value: any) => {\r\n  return Array.isArray(value) && value.length === 0;\r\n};\r\n\r\nexport const isEmpty = (value: any) => {\r\n  return isEmptyString(value) || isEmptyObject(value) || isEmptyArray(value);\r\n};\r\n\r\ntype CamelCase<S extends string> = S extends `${infer P1}_${infer P2}${infer P3}`\r\n  ? `${Lowercase<P1>}${Uppercase<P2>}${CamelCase<P3>}`\r\n  : Lowercase<S>;\r\n\r\ntype ObjectToCamel<T> = {\r\n  [K in keyof T as CamelCase<string & K>]: T[K] extends Record<string, any> ? KeysToCamelCase<T[K]> : T[K];\r\n};\r\n\r\ntype KeysToCamelCase<T> = {\r\n  [K in keyof T as CamelCase<string & K>]: T[K] extends Array<any>\r\n    ? KeysToCamelCase<T[K][number]>[]\r\n    : ObjectToCamel<T[K]>;\r\n};\r\n\r\nexport const camelizeKeys = <T extends AnyObject>(source: T): KeysToCamelCase<T> => {\r\n  type Pair = [string, unknown];\r\n\r\n  const split = Object.entries(source);\r\n\r\n  const pairs: Pair[] = split.map<Pair>(([key, value]) => {\r\n    if (Object.prototype.toString.call(value) === \"[object Object]\") {\r\n      return [camelCase(key), camelizeKeys(value as T)];\r\n    }\r\n\r\n    return [camelCase(key), value];\r\n  });\r\n\r\n  return Object.fromEntries(pairs) as KeysToCamelCase<T>;\r\n};\r\n\r\nexport const hasProperties = (obj: AnyObject, properties: string[], all?: boolean) => {\r\n  if (!isDefined(obj)) return false;\r\n\r\n  return all\r\n    ? properties.reduce((res, prop) => {\r\n        return res && Object.prototype.hasOwnProperty.call(obj, prop);\r\n      }, true)\r\n    : properties.findIndex((prop) => {\r\n        return Object.prototype.hasOwnProperty.call(obj, prop);\r\n      }) >= 0;\r\n};\r\n\r\nexport const objectClean = <T extends AnyObject>(source: T) => {\r\n  const cleanObject: [keyof T, unknown][] = Object.entries(source).reduce<[keyof T, unknown][]>((res, [key, value]) => {\r\n    const valueIsDefined = isDefined(value) && !isEmptyString(value);\r\n\r\n    if (!valueIsDefined) {\r\n      return res;\r\n    }\r\n\r\n    if (Object.prototype.toString.call(value) === \"[object Object]\") {\r\n      return [...res, [key, objectClean(value as AnyObject)]];\r\n    }\r\n    return [...res, [key, value]];\r\n  }, []);\r\n\r\n  return Object.fromEntries(cleanObject) as T;\r\n};\r\n\r\nexport const clamp = (value: number, min: number, max: number) => {\r\n  return Math.max(min, Math.min(value, max));\r\n};\r\n\r\nexport const absoluteURL = (path = \"\") => {\r\n  if (path.match(/^https?/) || path.match(/^\\/\\//)) {\r\n    return path;\r\n  }\r\n  return [APP_SETTINGS.hostname.replace(/([/]+)$/, \"\"), path.replace(/^([/]+)/, \"\")].join(\"/\");\r\n};\r\n\r\nexport const isDefined = <T>(value?: T): value is NonNullable<T> => {\r\n  return value !== null && value !== undefined;\r\n};\r\n","import { isEmptyString } from \"../../../../utils/helpers\";\r\nimport { isDefined } from \"../../../../utils/utils\";\r\nimport \"./Validation.scss\";\r\n\r\nexport const required = (fieldName, value) => {\r\n  if (!isDefined(value) || isEmptyString(value)) {\r\n    return `${fieldName} is required`;\r\n  }\r\n};\r\n\r\nexport const matchPattern = (pattern) => (fieldName, value) => {\r\n  pattern = typeof pattern === \"string\" ? new RegExp(pattern) : pattern;\r\n\r\n  if (!isEmptyString(value) && value.match(pattern) === null) {\r\n    return `${fieldName} must match the pattern ${pattern}`;\r\n  }\r\n};\r\n\r\nexport const json = (fieldName, value) => {\r\n  const err = `${fieldName} must be valid JSON string`;\r\n\r\n  if (!isDefined(value) || value.trim().length === 0) return;\r\n\r\n  if (/^(\\{|\\[)/.test(value) === false || /(\\}|\\])$/.test(value) === false) {\r\n    return err;\r\n  }\r\n\r\n  try {\r\n    JSON.parse(value);\r\n  } catch (e) {\r\n    return err;\r\n  }\r\n};\r\n\r\nexport const regexp = (fieldName, value) => {\r\n  try {\r\n    new RegExp(value);\r\n  } catch (err) {\r\n    return `${fieldName} must be a valid regular expression`;\r\n  }\r\n};\r\n","import { forwardRef, useCallback, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { isDefined } from \"../../../utils/utils\";\r\nimport { FormContext } from \"./FormContext\";\r\nimport * as Validators from \"./Validation/Validators\";\r\n\r\nexport const FormField = forwardRef(\r\n  (\r\n    {\r\n      label,\r\n      name,\r\n      children,\r\n      required,\r\n      validate,\r\n      skip,\r\n      allowEmpty,\r\n      skipAutofill,\r\n      setValue,\r\n      dependency,\r\n      validators,\r\n      ...props\r\n    },\r\n    ref,\r\n  ) => {\r\n    /**@type {Form} */\r\n    const context = useContext(FormContext);\r\n    const [dependencyField, setDependencyField] = useState(null);\r\n\r\n    const field = ref ?? useRef();\r\n\r\n    const validation = [...(validate ?? [])];\r\n\r\n    validators?.forEach?.((validator) => {\r\n      const [name, value] = validator.split(/:(.+)/).slice(0, 2);\r\n      const validatorFunc = Validators[name];\r\n\r\n      if (isDefined(validatorFunc)) {\r\n        if (isDefined(value)) {\r\n          validation.push(validatorFunc(value));\r\n        } else {\r\n          validation.push(validatorFunc);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (required) validation.push(Validators.required);\r\n\r\n    useEffect(() => {\r\n      if (!context || !dependency) return;\r\n\r\n      let field = null;\r\n      const dep = context.getFieldContext(dependency);\r\n\r\n      const handler = () => {\r\n        props.onDependencyChanged?.(dep.field);\r\n      };\r\n\r\n      if (dep) {\r\n        dep.field.addEventListener(\"change\", handler);\r\n        field = dep.field;\r\n      } else {\r\n        console.warn(`Dependency field not found ${dependency}`);\r\n      }\r\n\r\n      setDependencyField(field);\r\n      return () => dep.field.removeEventListener(\"change\", handler);\r\n    }, [context, field, dependency]);\r\n\r\n    const setValueCallback = useCallback(\r\n      (value) => {\r\n        if (!field || !field.current) return;\r\n\r\n        /**@type {HTMLInputElement|HTMLTextAreaElement} */\r\n        const formField = field.current;\r\n\r\n        if (!(formField instanceof HTMLElement)) console.log({ formField, value });\r\n\r\n        if (setValue instanceof Function) {\r\n          setValue(value);\r\n        } else if (formField.type === \"checkbox\" || formField.type === \"radio\") {\r\n          formField.checked = value ?? formField.checked;\r\n        } else if (value === null) {\r\n          formField.value = \"\";\r\n        } else {\r\n          formField.value = value;\r\n        }\r\n\r\n        const evt = document.createEvent(\"HTMLEvents\");\r\n\r\n        evt.initEvent(\"change\", true, false);\r\n        formField.dispatchEvent(evt);\r\n      },\r\n      [field],\r\n    );\r\n\r\n    useEffect(() => {\r\n      const isProtected = skipAutofill && !allowEmpty && field.current.type === \"password\";\r\n\r\n      context?.registerField({\r\n        label,\r\n        name,\r\n        validation,\r\n        skip,\r\n        allowEmpty,\r\n        skipAutofill,\r\n        isProtected,\r\n        field: field.current,\r\n        setValue: setValueCallback,\r\n      });\r\n      return () => context?.unregisterField(name);\r\n    }, [field, setValueCallback]);\r\n\r\n    return children({\r\n      ref: field,\r\n      dependency: dependencyField,\r\n      context,\r\n    });\r\n  },\r\n);\r\n","import { type Dispatch, type SetStateAction, useEffect, useMemo, useState } from \"react\";\r\n\r\nexport const useValueTracker = <T>(value: T, defaultValue?: T): [T, Dispatch<SetStateAction<T>>] => {\r\n  const initialValue = useMemo(() => {\r\n    return (value ?? defaultValue ?? \"\") as T;\r\n  }, [value, defaultValue]);\r\n\r\n  const [finalValue, setValue] = useState<T>(initialValue);\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue);\r\n  }, [initialValue]);\r\n\r\n  return [finalValue as T, setValue];\r\n};\r\n","import { forwardRef, createElement } from \"react\";\r\nimport { cn } from \"../../../../../utils/bem\";\r\nimport \"./Label.scss\";\r\n/** @deprecated - needs to be replaced with @humansignal/ui Label - visualizes differently currently */\r\nconst Label = forwardRef(\r\n  ({ text, children, required, placement, description, size, large, style, simple, flat }, ref) => {\r\n    const tagName = simple ? \"div\" : \"label\";\r\n    const mods = {\r\n      size,\r\n      large,\r\n      flat,\r\n      placement,\r\n      withDescription: !!description,\r\n      empty: !children,\r\n    };\r\n\r\n    return createElement(\r\n      tagName,\r\n      {\r\n        ref,\r\n        className: cn(\"label-dm\").mod(mods).toClassName(),\r\n        style,\r\n        \"data-required\": required,\r\n      },\r\n      <div className={cn(\"label-dm\").elem(\"text\").toClassName()}>\r\n        <div className={cn(\"label-dm\").elem(\"content\").toClassName()}>\r\n          {text}\r\n          {description && <div className={cn(\"label-dm\").elem(\"description\").toClassName()}>{description}</div>}\r\n        </div>\r\n      </div>,\r\n      <div className={cn(\"label-dm\").elem(\"field\").toClassName()}>{children}</div>,\r\n    );\r\n  },\r\n);\r\n\r\nexport default Label;\r\n","import { createContext, useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { IconPlus, IconMinus } from \"@humansignal/icons\";\r\nimport { cn } from \"../../../../../utils/bem\";\r\nimport { isDefined } from \"../../../../../utils/utils\";\r\nimport { Oneof } from \"../../../Oneof/Oneof\";\r\nimport { FormField } from \"../../FormField\";\r\nimport { useValueTracker } from \"../../Utils\";\r\nimport { default as Label } from \"../Label/Label\";\r\nimport \"./Counter.scss\";\r\n\r\nconst allowedKeys = [\"ArrowUp\", \"ArrowDown\", \"Backspace\", \"Delete\", /[0-9]/];\r\n\r\nconst CounterContext = createContext(null);\r\n\r\nconst Counter = ({\r\n  label,\r\n  className,\r\n  validate,\r\n  required,\r\n  skip,\r\n  labelProps,\r\n  style,\r\n  editable,\r\n  postfix,\r\n  defaultValue,\r\n  ...props\r\n}) => {\r\n  const [min, max] = [props.min ?? Number.NEGATIVE_INFINITY, props.max ?? Number.POSITIVE_INFINITY];\r\n\r\n  const normalizeValue = (value) => {\r\n    const val = Number(String(value).replace(` ${postfix}`, \"\"));\r\n\r\n    return Math.max(min, Math.min(max, val));\r\n  };\r\n  const [value] = useValueTracker(props.value, defaultValue);\r\n\r\n  const [currentValue, setCurrentValue] = useState(normalizeValue(value ?? 0));\r\n\r\n  const [focused, setFocused] = useState(props.autofocus ?? false);\r\n  const [disabled, setDisabled] = useState(props.disabled ?? null);\r\n\r\n  const setNewValue = (value) => {\r\n    const newValue = normalizeValue(Number(value));\r\n\r\n    setCurrentValue(newValue);\r\n    return newValue;\r\n  };\r\n\r\n  const increase = useCallback(() => {\r\n    return setNewValue((currentValue ?? 0) + (props.step ?? 1));\r\n  }, [currentValue, props.step]);\r\n\r\n  const decrease = useCallback(() => {\r\n    return setNewValue((currentValue ?? 0) - (props.step ?? 1));\r\n  }, [currentValue, props.step]);\r\n\r\n  /**@type {(e: import('react').SyntheticEvent<HTMLInputElement, KeyboardEvent>)} */\r\n  const onInputHandler = (e) => {\r\n    const allowedKey = allowedKeys.find((k) => (k instanceof RegExp ? k.test(e.key) : k === e.key));\r\n\r\n    if (!allowedKey && !e.metaKey) e.preventDefault();\r\n\r\n    if (allowedKey === \"ArrowUp\") {\r\n      increase();\r\n      e.preventDefault();\r\n    } else if (allowedKey === \"ArrowDown\") {\r\n      decrease();\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  /**@type {(e: import('react').SyntheticEvent<HTMLInputElement, ClipboardEvent>)} */\r\n  const onPasteHandler = (e) => {\r\n    const content = e.nativeEvent.clipboardData.getData(\"text\");\r\n    const isNumerical = /([0-9]+)/.test(content);\r\n\r\n    if (!isNumerical) e.preventDefault();\r\n  };\r\n\r\n  /**@type {(e: import('react').SyntheticEvent<HTMLInputElement>)} */\r\n  const onChangeHandler = (e) => {\r\n    if (e.target.value) {\r\n      setCurrentValue(normalizeValue(Number(e.target.value)));\r\n    } else {\r\n      setCurrentValue(\"\");\r\n    }\r\n    props.onChange?.(e);\r\n  };\r\n\r\n  const onFocusHandler = (e) => {\r\n    setFocused(true);\r\n    props.onFocus?.(e);\r\n  };\r\n\r\n  const onBlurHandler = (e) => {\r\n    setFocused(false);\r\n    props.onBlur?.(e);\r\n  };\r\n\r\n  const onClickHandler = (type, input) => (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    document.activeElement?.blur();\r\n    setFocused();\r\n    input.current.focus();\r\n    getSelection().removeAllRanges();\r\n\r\n    const value = type === \"increase\" ? increase() : type === \"decrease\" ? decrease() : 0;\r\n\r\n    if (isDefined(input.current)) {\r\n      input.current.value = value;\r\n    }\r\n\r\n    props.onChange?.({ target: input.current, type: \"change\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isDefined(value)) {\r\n      setCurrentValue(normalizeValue(Number(value)));\r\n    } else {\r\n      setCurrentValue(\"\");\r\n    }\r\n  }, [value]);\r\n\r\n  const field = (\r\n    <FormField\r\n      label={label}\r\n      name={props.name}\r\n      validate={validate}\r\n      required={required}\r\n      setValue={setNewValue}\r\n      skip={skip}\r\n      onDependencyChanged={(f) => {\r\n        if (f.type === \"checkbox\") setDisabled(!f.checked);\r\n      }}\r\n      {...props}\r\n    >\r\n      {({ ref, dependency }) => {\r\n        const depDisabled = (dependency?.type === \"checkbox\" && dependency?.checked === false) || false;\r\n        const fieldDisabled = disabled ?? depDisabled;\r\n        const contextValue = {\r\n          currentValue,\r\n          min,\r\n          max,\r\n          disabled: fieldDisabled,\r\n          ref,\r\n          onClickHandler,\r\n        };\r\n        const displayValue = [currentValue];\r\n\r\n        if (isDefined(postfix)) displayValue.push(postfix);\r\n\r\n        return (\r\n          <CounterContext.Provider value={contextValue}>\r\n            <div\r\n              className={cn(\"counter\").mod({ focused, disabled: fieldDisabled }).mix(className).toClassName()}\r\n              style={style}\r\n            >\r\n              <CounterButton type=\"decrease\" />\r\n\r\n              <input\r\n                ref={ref}\r\n                className={cn(\"counter\").elem(\"input\").mod({ withPostfix: !!postfix }).toClassName()}\r\n                type=\"text\"\r\n                readOnly={editable === false}\r\n                disabled={fieldDisabled}\r\n                value={currentValue}\r\n                onKeyDown={onInputHandler}\r\n                onPaste={onPasteHandler}\r\n                onChange={onChangeHandler}\r\n                onFocus={onFocusHandler}\r\n                onBlur={onBlurHandler}\r\n              />\r\n\r\n              {postfix && (\r\n                <div className={cn(\"counter\").elem(\"input\").mod({ under: true, withPostfix: !!postfix }).toClassName()}>\r\n                  {displayValue.join(\" \")}\r\n                </div>\r\n              )}\r\n\r\n              <CounterButton type=\"increase\" />\r\n            </div>\r\n          </CounterContext.Provider>\r\n        );\r\n      }}\r\n    </FormField>\r\n  );\r\n\r\n  return label ? <Label {...(labelProps ?? {})} text={label} required={required} children={field} /> : field;\r\n};\r\n\r\nconst CounterButton = ({ type }) => {\r\n  const { currentValue, min, max, disabled, ref, onClickHandler } = useContext(CounterContext);\r\n\r\n  const compareLimit = type === \"increase\" ? max : min;\r\n\r\n  return (\r\n    // biome-ignore lint/a11y/useValidAnchor: anchor used for styling purposes, todo after bem migration\r\n    <a\r\n      href=\"#\"\r\n      className={cn(\"counter\")\r\n        .elem(\"btn\")\r\n        .mod({\r\n          type,\r\n          disabled: currentValue === compareLimit || disabled,\r\n        })\r\n        .toClassName()}\r\n      onClick={onClickHandler(type, ref)}\r\n      onMouseDownCapture={(e) => e.preventDefault()}\r\n    >\r\n      <Oneof value={type}>\r\n        <IconMinus case=\"decrease\" />\r\n        <IconPlus case=\"increase\" />\r\n      </Oneof>\r\n    </a>\r\n  );\r\n};\r\n\r\nexport default Counter;\r\n","import { cn } from \"../../../../../utils/bem\";\r\nimport { FormField } from \"../../FormField\";\r\nimport { default as Label } from \"../Label/Label\";\r\nimport \"./Input.scss\";\r\n\r\nconst Input = ({ label, className, validate, required, skip, labelProps, ghost, ...props }) => {\r\n  const mods = {\r\n    ghost,\r\n  };\r\n  const classList = [cn(\"form-input\").mod(mods), className].join(\" \").trim();\r\n\r\n  const input = (\r\n    <FormField label={label} name={props.name} validate={validate} required={required} skip={skip} {...props}>\r\n      {({ ref }) => <input {...props} ref={ref} className={classList} />}\r\n    </FormField>\r\n  );\r\n\r\n  return label ? (\r\n    <Label {...(labelProps ?? {})} text={label} required={required}>\r\n      {input}\r\n    </Label>\r\n  ) : (\r\n    input\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { cn } from \"../../../../../utils/bem\";\r\nimport { FormField } from \"../../FormField\";\r\nimport { useValueTracker } from \"../../Utils\";\r\nimport { default as Label } from \"../Label/Label\";\r\nimport { Select as SelectUI } from \"@humansignal/ui\";\r\n\r\nconst Select = ({\r\n  label,\r\n  className,\r\n  options,\r\n  validate,\r\n  required,\r\n  skip,\r\n  labelProps,\r\n  ghost,\r\n  size = \"medium\",\r\n  defaultValue,\r\n  contentClassName,\r\n  ...props\r\n}) => {\r\n  const rootClass = cn(\"form-select\");\r\n  const [value, setValue] = useValueTracker(props.value, defaultValue);\r\n\r\n  const selectWrapper = (\r\n    <FormField\r\n      name={props.name}\r\n      label={label}\r\n      validate={validate}\r\n      required={required}\r\n      skip={skip}\r\n      setValue={(val) => {\r\n        setValue(val);\r\n      }}\r\n      {...props}\r\n    >\r\n      {({ ref }) => {\r\n        return (\r\n          <SelectUI\r\n            {...props}\r\n            ref={ref}\r\n            value={value}\r\n            onChange={(val) => {\r\n              setValue(val);\r\n              props.onChange?.(val);\r\n            }}\r\n            triggerClassName={rootClass.elem(\"list\").toString()}\r\n            options={options?.toJSON ? options.toJSON() : options}\r\n            size={size}\r\n            contentClassName={contentClassName}\r\n          />\r\n        );\r\n      }}\r\n    </FormField>\r\n  );\r\n\r\n  return label ? (\r\n    <Label {...(labelProps ?? {})} text={label} required={required}>\r\n      {selectWrapper}\r\n    </Label>\r\n  ) : (\r\n    selectWrapper\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import { forwardRef, useEffect, useMemo, useState } from \"react\";\r\nimport { Toggle as UiToggle } from \"@humansignal/ui\";\r\nimport { FormField } from \"../../FormField\";\r\nimport { default as Label } from \"../Label/Label\";\r\n\r\nconst Toggle = forwardRef(\r\n  (\r\n    {\r\n      className,\r\n      label,\r\n      labelProps,\r\n      description,\r\n      checked,\r\n      defaultChecked,\r\n      onChange,\r\n      validate,\r\n      required,\r\n      skip,\r\n      ...props\r\n    },\r\n    ref,\r\n  ) => {\r\n    const initialChecked = useMemo(() => defaultChecked ?? checked ?? false, [defaultChecked, checked]);\r\n    const [isChecked, setIsChecked] = useState(defaultChecked ?? checked ?? false);\r\n\r\n    useEffect(() => {\r\n      setIsChecked(initialChecked);\r\n    }, [initialChecked]);\r\n\r\n    const formField = (\r\n      <FormField\r\n        ref={label ? null : ref}\r\n        label={label}\r\n        name={props.name}\r\n        validate={validate}\r\n        required={required}\r\n        skip={skip}\r\n        setValue={(value) => setIsChecked(value)}\r\n        {...props}\r\n      >\r\n        {({ ref }) => (\r\n          <UiToggle\r\n            ref={ref}\r\n            {...props}\r\n            checked={isChecked}\r\n            onChange={(e) => {\r\n              setIsChecked(e.target.checked);\r\n              onChange?.(e);\r\n            }}\r\n          />\r\n        )}\r\n      </FormField>\r\n    );\r\n\r\n    return label ? (\r\n      <Label\r\n        ref={ref}\r\n        placement=\"right\"\r\n        required={required}\r\n        text={label}\r\n        children={formField}\r\n        description={description}\r\n        {...(labelProps ?? {})}\r\n      />\r\n    ) : (\r\n      formField\r\n    );\r\n  },\r\n);\r\n\r\nexport default Toggle;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"space-dm\":\"lsf-space-dm\",\"space-dm_direction_horizontal\":\"lsf-space-dm_direction_horizontal\",\"space-dm_direction_vertical\":\"lsf-space-dm_direction_vertical\",\"space-dm_spread\":\"lsf-space-dm_spread\",\"space-dm_align_start\":\"lsf-space-dm_align_start\",\"space-dm_align_end\":\"lsf-space-dm_align_end\",\"space-dm_stretch\":\"lsf-space-dm_stretch\",\"space-dm_size_large\":\"lsf-space-dm_size_large\",\"space-dm_size_small\":\"lsf-space-dm_size_small\"};","import { cn } from \"../../../utils/bem\";\r\nimport \"./Space.scss\";\r\n\r\nexport const Space = ({\r\n  direction = \"horizontal\",\r\n  size,\r\n  className,\r\n  style,\r\n  children,\r\n  spread,\r\n  stretch,\r\n  align,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <div\r\n      className={cn(\"space-dm\").mod({ direction, size, spread, stretch, align }).mix(className)}\r\n      style={style}\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const SDKContext = React.createContext(null);\r\nSDKContext.displayName = \"SDK\";\r\n\r\nexport const SDKProvider = ({ sdk, children }) => {\r\n  return <SDKContext.Provider value={sdk}>{children}</SDKContext.Provider>;\r\n};\r\n\r\nexport const useSDK = () => {\r\n  return React.useContext(SDKContext);\r\n};\r\n","import React from \"react\";\r\n\r\nexport const MultiProvider = (props) => {\r\n  let content = props.children || null;\r\n\r\n  /* Error/Validation */\r\n  if (!props.providers) {\r\n    throw \"MultiProvider: Missing providers prop\";\r\n  }\r\n\r\n  if (!props.children) {\r\n    throw \"MultiProvider: Missing children\";\r\n  }\r\n\r\n  // Turn object into an array\r\n  // const numberOfProviders = props.providers.size;\r\n  const numberOfProviders = props.providers.length;\r\n\r\n  if (!numberOfProviders) {\r\n    // Providers prop is empty, r\r\n    return content;\r\n  }\r\n\r\n  [...(props.providers ?? [])].reverse().forEach((provider) => {\r\n    content = React.cloneElement(provider, null, content);\r\n  });\r\n\r\n  return content;\r\n};\r\n","import { Component, createRef, forwardRef, useCallback, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { shallowEqualObjects } from \"shallow-equal\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { objectClean } from \"../../../utils/helpers\";\r\nimport { Button } from \"@humansignal/ui\";\r\nimport { Oneof } from \"../Oneof/Oneof\";\r\nimport { Space } from \"../Space/Space\";\r\nimport { Counter, Input, Select, Toggle } from \"./Elements\";\r\nimport \"./Form.scss\";\r\nimport {\r\n  FormContext,\r\n  FormResponseContext,\r\n  FormStateContext,\r\n  FormSubmissionContext,\r\n  FormValidationContext,\r\n} from \"./FormContext\";\r\nimport * as Validators from \"./Validation/Validators\";\r\nimport { SDKContext } from \"../../../providers/SDKProvider\";\r\nimport { isDefined } from \"../../../utils/utils\";\r\nimport { MultiProvider } from \"../../../providers/MultiProvider\";\r\n\r\nconst PASSWORD_PROTECTED_VALUE = \"got ya, suspicious hacker!\";\r\n\r\nexport default class Form extends Component {\r\n  state = {\r\n    validation: null,\r\n    showValidation: true,\r\n    submitting: false,\r\n  };\r\n\r\n  /**@type {import('react').RefObject<HTMLFormElement>} */\r\n  formElement = createRef();\r\n\r\n  apiRef = createRef();\r\n\r\n  /**@type {Set<HTMLInputElement|HTMLSelectElement>} */\r\n  fields = new Set();\r\n\r\n  validation = new Map();\r\n\r\n  /**@type {import(\"../../../utils/api-proxy\").APIProxy;} */\r\n  get api() {\r\n    return this.context.api;\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.formData) {\r\n      this.fillFormData();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const equal = shallowEqualObjects(prevProps.formData ?? {}, this.props.formData ?? {});\r\n\r\n    if (!equal) {\r\n      this.fillFormData();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const providers = [\r\n      <FormContext.Provider key=\"form-ctx\" value={this} />,\r\n      <FormValidationContext.Provider key=\"form-validation-ctx\" value={this.state.validation} />,\r\n      <FormSubmissionContext.Provider key=\"form-submission-ctx\" value={this.state.submitting} />,\r\n      <FormStateContext.Provider key=\"form-state-ctx\" value={this.state.state} />,\r\n      <FormResponseContext.Provider key=\"form-response\" value={this.state.lastResponse} />,\r\n    ];\r\n\r\n    return (\r\n      <MultiProvider providers={providers}>\r\n        <form\r\n          ref={this.formElement}\r\n          className={cn(\"form-dm\")}\r\n          action={this.props.action}\r\n          onSubmit={this.onFormSubmitted}\r\n          onChange={this.onFormChanged}\r\n          autoComplete={this.props.autoComplete}\r\n          autoSave={this.props.autoSave}\r\n          style={this.props.style}\r\n        >\r\n          {this.props.children}\r\n\r\n          {this.state.validation && this.state.showValidation && (\r\n            <ValidationRenderer validation={this.state.validation} />\r\n          )}\r\n        </form>\r\n      </MultiProvider>\r\n    );\r\n  }\r\n\r\n  registerField(field) {\r\n    const existingField = this.getFieldContext(field.name);\r\n\r\n    if (!existingField) {\r\n      this.fields.add(field);\r\n\r\n      if (field.name && this.props.formData && field.name in this.props.formData) {\r\n        setTimeout(() => {\r\n          this.fillWithFormData(field);\r\n        }, 0);\r\n      }\r\n    } else {\r\n      Object.assign(existingField, field);\r\n    }\r\n  }\r\n\r\n  unregisterField(name) {\r\n    const field = this.getFieldContext(name);\r\n\r\n    if (field) this.fields.delete(field);\r\n  }\r\n\r\n  getField(name) {\r\n    return this.getFieldContext(name)?.field;\r\n  }\r\n\r\n  getFieldContext(name) {\r\n    return Array.from(this.fields).find((f) => f.name === name);\r\n  }\r\n\r\n  disableValidationMessage() {\r\n    this.setState({ showValidation: false });\r\n  }\r\n\r\n  enableValidationMessage() {\r\n    this.setState({ showValidation: true });\r\n  }\r\n\r\n  onFormSubmitted = async (e) => {\r\n    e.preventDefault();\r\n\r\n    this.validateFields();\r\n\r\n    if (!this.validation.size) {\r\n      this.setState({ step: \"submitting\" });\r\n      this.submit();\r\n    } else {\r\n      this.setState({ step: \"invalid\" });\r\n    }\r\n  };\r\n\r\n  onAutoSubmit() {\r\n    this.validateFields();\r\n\r\n    if (!this.validation.size) {\r\n      this.submit();\r\n    }\r\n  }\r\n\r\n  onFormChanged = async (e) => {\r\n    e.stopPropagation();\r\n\r\n    this.props.onChange?.(e, this);\r\n\r\n    this.autosubmit();\r\n  };\r\n\r\n  autosubmit() {\r\n    clearTimeout(this.submittibg);\r\n\r\n    this.submittibg = setTimeout(() => {\r\n      if (this.props.autosubmit) {\r\n        this.onAutoSubmit();\r\n      }\r\n    }, this.props.debounce);\r\n  }\r\n\r\n  assembleFormData({ asJSON = false, full = false, fieldsFilter } = {}) {\r\n    let fields = Array.from(this.fields);\r\n\r\n    if (fieldsFilter instanceof Function) {\r\n      fields = fields.filter(fieldsFilter);\r\n    }\r\n\r\n    const requestBody = fields.reduce((res, { name, field, skip, allowEmpty, isProtected }) => {\r\n      const { skipEmpty } = this.props;\r\n      const skipProtected = isProtected && field.value === PASSWORD_PROTECTED_VALUE;\r\n      const skipField = skip || skipProtected || ((this.props.skipEmpty || allowEmpty === false) && !field.value);\r\n      const fieldType = field.dataset.type ?? field.type;\r\n\r\n      if (full === true || !skipField) {\r\n        const value = (() => {\r\n          const inputValue = field.value;\r\n\r\n          if (fieldType === \"checkbox\") {\r\n            return field.checked;\r\n          }\r\n          if (fieldType === \"radio\") {\r\n            return inputValue;\r\n          }\r\n          if ([\"number\", \"range\"].includes(fieldType)) {\r\n            return Number(field.value);\r\n          }\r\n\r\n          return inputValue;\r\n        })();\r\n\r\n        if (value !== null || skipEmpty !== true) {\r\n          res.push([name, value]);\r\n        }\r\n      }\r\n\r\n      return res;\r\n    }, []);\r\n\r\n    if (asJSON) {\r\n      return Object.fromEntries(requestBody);\r\n    }\r\n    const formData = new FormData();\r\n\r\n    requestBody.forEach(([key, value]) => formData.append(key, value));\r\n    return formData;\r\n  }\r\n\r\n  async submit({ fieldsFilter } = {}) {\r\n    this.setState({ submitting: true, lastResponse: null });\r\n\r\n    const rawAction = this.formElement.current.getAttribute(\"action\");\r\n    const useApi = this.api.isValidMethod(rawAction);\r\n    const data = this.assembleFormData({ asJSON: useApi, fieldsFilter });\r\n    const body = this.props.prepareData?.(data) ?? data;\r\n    let success = false;\r\n\r\n    if (useApi) {\r\n      success = await this.submitWithAPI(rawAction, body);\r\n    } else {\r\n      success = await this.submitWithFetch(body);\r\n    }\r\n\r\n    this.setState(\r\n      {\r\n        submitting: false,\r\n        state: success ? \"success\" : \"fail\",\r\n      },\r\n      () => {\r\n        setTimeout(() => {\r\n          this.setState({ state: null });\r\n        }, 1500);\r\n      },\r\n    );\r\n  }\r\n\r\n  async submitWithAPI(action, body) {\r\n    const urlParams = objectClean(this.props.params ?? {});\r\n    const response = await this.api.call(action, {\r\n      params: urlParams,\r\n      body,\r\n    });\r\n\r\n    this.setState({ lastResponse: response });\r\n\r\n    if (response === null) {\r\n      this.props.onError?.();\r\n      return false;\r\n    }\r\n    this.props.onSubmit?.(response);\r\n    return true;\r\n  }\r\n\r\n  async submitWithFetch(body) {\r\n    const action = this.formElement.current.action;\r\n    const method = (this.props.method ?? \"POST\").toUpperCase();\r\n    const response = await fetch(action, { method, body });\r\n\r\n    try {\r\n      const result = await response.json();\r\n\r\n      this.setState({ lastResponse: result });\r\n\r\n      if (result.validation_errors) {\r\n        Object.entries(result.validation_errors).forEach(([key, messages]) => {\r\n          const field = this.getField(key);\r\n\r\n          this.validation.set(field.name, {\r\n            label: field.label,\r\n            field: field.field,\r\n            messages,\r\n          });\r\n        });\r\n\r\n        this.setState({ validation: this.validation });\r\n      }\r\n\r\n      if (response.ok) {\r\n        this.props.onSubmit?.(result);\r\n        return true;\r\n      }\r\n      this.props.onError?.(result);\r\n    } catch (err) {\r\n      console.log(err);\r\n      this.props.onError?.(err);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  resetValidation() {\r\n    this.validation.clear();\r\n  }\r\n\r\n  validateFields() {\r\n    this.resetValidation();\r\n\r\n    for (const field of this.fields) {\r\n      const result = this.validateField(field);\r\n\r\n      if (result.length) {\r\n        this.validation.set(field.name, {\r\n          label: field.label,\r\n          messages: result,\r\n          field: field.field,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this.validation.size) {\r\n      this.setState({ validation: this.validation });\r\n    } else {\r\n      this.setState({ validation: null });\r\n    }\r\n\r\n    return this.validation.size === 0;\r\n  }\r\n\r\n  validateField(field) {\r\n    const messages = [];\r\n    const { validation, field: element } = field;\r\n    const value = element.value?.trim() || null;\r\n\r\n    if (field.isProtected && value === PASSWORD_PROTECTED_VALUE) {\r\n      return messages;\r\n    }\r\n\r\n    validation.forEach((validator) => {\r\n      const result = validator(field.label, value);\r\n\r\n      if (result) messages.push(result);\r\n    });\r\n\r\n    return messages;\r\n  }\r\n\r\n  fillFormData() {\r\n    if (!this.props.formData) return;\r\n    if (this.fields.size === 0) return;\r\n\r\n    Array.from(this.fields).forEach((field) => {\r\n      this.fillWithFormData(field);\r\n    });\r\n  }\r\n\r\n  fillWithFormData(field) {\r\n    const value = (this.props.formData ?? {})[field.name];\r\n\r\n    if (field.isProtected && this.props.formData) {\r\n      field.setValue(PASSWORD_PROTECTED_VALUE);\r\n    } else if (isDefined(value) && field.value !== value && !field.skipAutofill) {\r\n      field.setValue(value);\r\n    }\r\n  }\r\n}\r\n\r\nconst ValidationRenderer = ({ validation }) => {\r\n  const rootClass = cn(\"form-validation-dm\");\r\n\r\n  return (\r\n    <div className={rootClass}>\r\n      {Array.from(validation).map(([name, result]) => (\r\n        <div key={name} className={rootClass.elem(\"group\")} onClick={() => result.field.focus()}>\r\n          <div className={rootClass.elem(\"field\")}>{result.label}</div>\r\n\r\n          <div className={rootClass.elem(\"messages\")}>\r\n            {result.messages.map((message, i) => (\r\n              <div key={`${name}-${i}`} className={rootClass.elem(\"message\")}>\r\n                {message}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nForm.Validator = Validators;\r\n\r\nForm.Row = ({ columnCount, rowGap, children, style, spread = false }) => {\r\n  const styles = {};\r\n\r\n  if (columnCount) styles[\"--column-count\"] = columnCount;\r\n  if (rowGap) styles[\"--row-gap\"] = rowGap;\r\n\r\n  return (\r\n    <div className={cn(\"form-dm\").elem(\"row\").mod({ spread })} style={{ ...(style ?? {}), ...styles }}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nForm.Builder = forwardRef(\r\n  (\r\n    {\r\n      fields: defaultFields,\r\n      formData: defaultFormData,\r\n      fetchFields,\r\n      fetchFormData,\r\n      children,\r\n      formRowStyle,\r\n      onSubmit,\r\n      withActions,\r\n      triggerAction,\r\n      ...props\r\n    },\r\n    ref,\r\n  ) => {\r\n    const formRef = ref ?? useRef();\r\n    const [fields, setFields] = useState(defaultFields ?? []);\r\n    const [formData, setFormData] = useState(defaultFormData ?? {});\r\n\r\n    const renderFields = (fields) => {\r\n      return fields.map((field, index) => {\r\n        if (!field) return <div key={`spacer-${index}`} />;\r\n        const { trigger_form_update, ...restProps } = field;\r\n\r\n        const currentValue = formData?.[field.name] ?? undefined;\r\n        const triggerUpdate = props.autosubmit !== true && trigger_form_update === true;\r\n        const getValue = () => {\r\n          const isProtected = field.skipAutofill && !field.allowEmpty && field.type === \"password\";\r\n\r\n          if (isProtected) {\r\n            return PASSWORD_PROTECTED_VALUE;\r\n          }\r\n\r\n          if (field.skipAutofill) {\r\n            return null;\r\n          }\r\n\r\n          return currentValue ?? field.value;\r\n        };\r\n\r\n        const commonProps = {};\r\n\r\n        if (triggerUpdate) {\r\n          commonProps.onChange = async () => {\r\n            if (triggerAction instanceof Function) {\r\n              triggerAction(field);\r\n            }\r\n\r\n            await updateFields();\r\n            await updateFormData();\r\n          };\r\n        }\r\n\r\n        const InputComponent = (() => {\r\n          switch (field.type) {\r\n            case \"select\":\r\n              return Select;\r\n            case \"counter\":\r\n              return Counter;\r\n            case \"toggle\":\r\n              return Toggle;\r\n            default:\r\n              return Input;\r\n          }\r\n        })();\r\n\r\n        if ([\"checkbox\", \"radio\", \"toggle\"].includes(field.type)) {\r\n          commonProps.checked = getValue();\r\n        } else {\r\n          commonProps.defaultValue = getValue();\r\n        }\r\n\r\n        return <InputComponent key={field.name ?? index} {...restProps} {...commonProps} />;\r\n      });\r\n    };\r\n\r\n    const renderColumns = (columns) => {\r\n      const columnClassName = cn(\"form-dm\").elem(\"column\").toString();\r\n      return columns.map((col, index) => (\r\n        <div className={columnClassName} key={index} style={{ width: col.width }}>\r\n          {renderFields(col.fields)}\r\n        </div>\r\n      ));\r\n    };\r\n\r\n    const updateFields = useCallback(async () => {\r\n      if (fetchFields) {\r\n        const newFields = await fetchFields();\r\n\r\n        if (JSON.stringify(fields) !== JSON.stringify(newFields)) {\r\n          setFields(newFields);\r\n        }\r\n      }\r\n    }, [fetchFields]);\r\n\r\n    const updateFormData = useCallback(async () => {\r\n      if (fetchFormData) {\r\n        const newFormData = await fetchFormData();\r\n\r\n        if (shallowEqualObjects(formData, newFormData) === false) {\r\n          setFormData(newFormData);\r\n        }\r\n      }\r\n    }, [fetchFormData]);\r\n\r\n    const handleOnSubmit = useCallback(\r\n      async (...args) => {\r\n        onSubmit?.(...args);\r\n        await updateFields();\r\n        await updateFormData();\r\n      },\r\n      [onSubmit, fetchFormData],\r\n    );\r\n\r\n    useEffect(() => {\r\n      updateFields();\r\n    }, [updateFields]);\r\n\r\n    useEffect(() => {\r\n      updateFormData();\r\n    }, [updateFormData]);\r\n\r\n    useEffect(() => {\r\n      setFields(defaultFields);\r\n    }, [defaultFields]);\r\n\r\n    useEffect(() => {\r\n      setFormData(defaultFormData);\r\n    }, [defaultFormData]);\r\n\r\n    return (\r\n      <Form {...props} onSubmit={handleOnSubmit} ref={formRef}>\r\n        {(fields ?? []).map(({ columnCount, fields, columns }, index) => (\r\n          <Form.Row key={index} columnCount={columnCount} style={formRowStyle} spread>\r\n            {columns ? renderColumns(columns) : renderFields(fields)}\r\n          </Form.Row>\r\n        ))}\r\n        {children}\r\n        {props.autosubmit !== true && withActions === true && (\r\n          <Form.Actions>\r\n            <Button type=\"submit\" style={{ width: 120 }}>\r\n              Save\r\n            </Button>\r\n          </Form.Actions>\r\n        )}\r\n      </Form>\r\n    );\r\n  },\r\n);\r\n\r\nForm.contextType = SDKContext;\r\n\r\nForm.Actions = ({ children, valid, extra, size }) => {\r\n  const rootClass = cn(\"form-dm\");\r\n\r\n  return (\r\n    <div className={rootClass.elem(\"submit\").mod({ size })}>\r\n      <div className={rootClass.elem(\"info\").mod({ valid })}>{extra}</div>\r\n\r\n      <Space>{children}</Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nForm.Indicator = () => {\r\n  const state = useContext(FormStateContext);\r\n\r\n  return (\r\n    <div className={cn(\"form-indicator-dm\").toClassName()}>\r\n      <Oneof value={state}>\r\n        <span className={cn(\"form-indicator-dm\").elem(\"item\").mod({ type: state }).toClassName()} case=\"success\">\r\n          Saved!\r\n        </span>\r\n      </Oneof>\r\n    </div>\r\n  );\r\n};\r\n\r\nForm.ResponseParser = ({ children }) => {\r\n  const callback = children;\r\n\r\n  if (callback instanceof Function === false) {\r\n    throw new Error(\"Response Parser only accepts function as a child\");\r\n  }\r\n\r\n  const response = useContext(FormResponseContext);\r\n\r\n  return <>{response ? callback(response) : null}</>;\r\n};\r\n","import { observer } from \"mobx-react\";\r\nimport { Select } from \"../Common/Form\";\r\nimport { useCallback, useMemo } from \"react\";\r\n\r\nexport const FilterDropdown = observer(\r\n  ({\r\n    placeholder,\r\n    defaultValue,\r\n    items,\r\n    style,\r\n    disabled,\r\n    onChange,\r\n    multiple,\r\n    value,\r\n    optionRender,\r\n    dropdownClassName,\r\n    outputFormat,\r\n    searchFilter,\r\n  }) => {\r\n    const parseItems = useCallback(\r\n      (item) => {\r\n        const OptionVisuals =\r\n          optionRender ??\r\n          (() => {\r\n            return <>{item?.label ?? item?.title ?? item?.value ?? item}</>;\r\n          });\r\n        const option =\r\n          typeof item === \"string\" || typeof item === \"number\"\r\n            ? { label: <OptionVisuals item={item} />, value: item, original: item }\r\n            : {\r\n                ...item,\r\n                label:\r\n                  (optionRender && item?.original) || item?.original?.field?.parent ? (\r\n                    <OptionVisuals item={item} />\r\n                  ) : (\r\n                    (item?.title ?? item?.label ?? item?.name)\r\n                  ),\r\n                value: item?.value ?? item,\r\n                disabled: item?.disabled ?? false,\r\n                children: item?.options?.map(parseItems),\r\n              };\r\n        return option;\r\n      },\r\n      [optionRender],\r\n    );\r\n    const options = useMemo(() => items.map(parseItems), [items, parseItems]);\r\n\r\n    return (\r\n      <Select\r\n        multiple={multiple}\r\n        placeholder={placeholder}\r\n        defaultValue={defaultValue}\r\n        value={value}\r\n        onChange={(value) => onChange(outputFormat?.(value) ?? value)}\r\n        disabled={disabled}\r\n        size=\"small\"\r\n        options={options}\r\n        searchable={true}\r\n        triggerClassName=\"whitespace-nowrap\"\r\n        searchFilter={searchFilter}\r\n        isVirtualList={true}\r\n        contentClassName={`${dropdownClassName || \"\"} filter-dropdown-content`.trim()}\r\n      />\r\n    );\r\n  },\r\n);\r\n","/**\r\n * Returns a function, that, as long as it continues to be invoked,\r\n * will not be triggered. The function will be called after it\r\n * stops being called for N milliseconds. If `immediate` is passed,\r\n * trigger the function on the leading edge, instead of the trailing.\r\n *\r\n * @param {function} func\r\n * @param {number} wait\r\n * @param {boolean} immediate\r\n */\r\nexport const debounce = (func, wait, immediate) => {\r\n  let timeout;\r\n\r\n  return function (...args) {\r\n    const later = () => {\r\n      timeout = null;\r\n      if (!immediate) {\r\n        func.apply(this, args);\r\n      }\r\n    };\r\n    const callNow = immediate && !timeout;\r\n\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(this, args);\r\n  };\r\n};\r\n","import { FilterDropdown } from \"../FilterDropdown\";\r\n\r\nexport const BooleanFilter = [\r\n  {\r\n    key: \"equal\",\r\n    label: \"is\",\r\n    valueType: \"single\",\r\n    input: (props) => (\r\n      <FilterDropdown\r\n        defaultValue={props.value ?? false}\r\n        onChange={(value) => props.onChange(value)}\r\n        items={[\r\n          { value: true, label: \"yes\" },\r\n          { value: false, label: \"no\" },\r\n        ]}\r\n        disabled={props.disabled}\r\n      />\r\n    ),\r\n  },\r\n];\r\n","import { FilterDropdown } from \"../FilterDropdown\";\r\n\r\nexport const Common = [\r\n  {\r\n    key: \"empty\",\r\n    label: \"is empty\",\r\n    input: (props) => (\r\n      <FilterDropdown\r\n        value={props.value ?? false}\r\n        onChange={(value) => props.onChange(value)}\r\n        items={[\r\n          { value: true, label: \"yes\" },\r\n          { value: false, label: \"no\" },\r\n        ]}\r\n        disabled={props.disabled}\r\n      />\r\n    ),\r\n  },\r\n];\r\n","// extracted by mini-css-extract-plugin\nexport default {\"react-datepicker\":\"lsf-react-datepicker\",\"react-datepicker__time\":\"lsf-react-datepicker__time\",\"react-datepicker__time-container\":\"lsf-react-datepicker__time-container\",\"react-datepicker__time-box\":\"lsf-react-datepicker__time-box\",\"react-datepicker__time-list\":\"lsf-react-datepicker__time-list\",\"react-datepicker__day--outside-month\":\"lsf-react-datepicker__day--outside-month\"};","import { format, isMatch, isValid } from \"date-fns\";\r\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { default as DP } from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { isDefined } from \"../../../utils/utils\";\r\nimport { Dropdown } from \"@humansignal/ui\";\r\nimport Input from \"../Input/Input\";\r\nimport \"./DatePicker.global.scss\";\r\nimport \"./DatePicker.scss\";\r\n\r\nexport const DatePicker = ({\r\n  size,\r\n  value,\r\n  selectRange = false,\r\n  showTime = false,\r\n  dateFormat = \"MM.dd.yyyy\",\r\n  timeFormat = \"HH:mm\",\r\n  onChange,\r\n}) => {\r\n  const finalFormat = showTime ? `${dateFormat} ${timeFormat}` : dateFormat;\r\n\r\n  /**@type {import(\"react\").RefObject<DP>} */\r\n  const datepickerRef = useRef();\r\n\r\n  const dropdownRef = useRef();\r\n\r\n  const formatDate = (date) => {\r\n    if (!isDefined(date)) return \"\";\r\n\r\n    const parsedDate = new Date(date === null ? Date.now() : date);\r\n\r\n    if (isValid(parsedDate)) {\r\n      return format(parsedDate, finalFormat);\r\n    }\r\n\r\n    return \"\";\r\n  };\r\n\r\n  const [initialStartDate, initialEndDate] = selectRange ? value : [].concat(value);\r\n\r\n  const [realStartDate, setRealStartDate] = useState(initialStartDate ?? null);\r\n  const [realEndDate, setRealEndDate] = useState(initialEndDate ?? null);\r\n\r\n  const [startDate, setStartDate] = useState(formatDate(realStartDate));\r\n  const [endDate, setEndDate] = useState(formatDate(realEndDate));\r\n\r\n  const updateDate = (date, dateSetter, realDateSetter) => {\r\n    if (date.length > finalFormat.length) return;\r\n\r\n    dateSetter?.(date);\r\n\r\n    if (isDefined(date) && isMatch(date, finalFormat) && date.length === finalFormat.length) {\r\n      const realDate = new Date(date || null);\r\n\r\n      if (isValid(realDate)) realDateSetter?.(realDate);\r\n    }\r\n  };\r\n\r\n  const dateRange = useMemo(\r\n    () =>\r\n      selectRange\r\n        ? {\r\n            startDate: realStartDate,\r\n            endDate: realEndDate,\r\n          }\r\n        : {},\r\n    [selectRange, realStartDate, realEndDate],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (isValid(realStartDate)) setStartDate(formatDate(realStartDate));\r\n  }, [realStartDate]);\r\n\r\n  useEffect(() => {\r\n    if (isValid(realEndDate)) setEndDate(formatDate(realEndDate));\r\n  }, [realEndDate]);\r\n\r\n  useEffect(() => {\r\n    if (selectRange) {\r\n      onChange?.([realStartDate, realEndDate]);\r\n    } else if (realStartDate) {\r\n      onChange?.(realStartDate);\r\n    }\r\n  }, [realStartDate, realEndDate]);\r\n\r\n  const onChangeHandler = useCallback((date) => {\r\n    if (realStartDate !== null && realEndDate === null && selectRange) {\r\n      setRealEndDate(date);\r\n      dropdownRef.current?.close();\r\n    } else {\r\n      setRealStartDate(date);\r\n      if (selectRange) {\r\n        setRealEndDate(null);\r\n      } else {\r\n        dropdownRef.current?.close();\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className={cn(\"datepicker\")}>\r\n      <Dropdown.Trigger\r\n        ref={dropdownRef}\r\n        toggle={false}\r\n        content={\r\n          <div className={cn(\"datepicker\").elem(\"wrapper\")}>\r\n            <DP\r\n              {...dateRange}\r\n              ref={datepickerRef}\r\n              selected={realStartDate}\r\n              onChange={(date) => onChangeHandler(date)}\r\n              onSelect={(date) => onChangeHandler(date)}\r\n              monthsShown={2}\r\n              selectsRange={selectRange}\r\n              showTimeSelect={showTime}\r\n              inline\r\n            />\r\n          </div>\r\n        }\r\n        style={{ backgroundColor: \"transparent\", borderRadius: \"1em\" }}\r\n      >\r\n        <div className={cn(\"datepicker\").elem(\"output\").mod({ range: selectRange })}>\r\n          <Input\r\n            size={size}\r\n            value={startDate || \"\"}\r\n            onChange={(e) => updateDate(e.target.value, setStartDate, setRealStartDate)}\r\n          />\r\n          {selectRange && (\r\n            <>\r\n              <div className={cn(\"datepicker\").elem(\"separator\")}>and</div>\r\n              <Input\r\n                size={size}\r\n                value={endDate || \"\"}\r\n                onChange={(e) => updateDate(e.target.value, setEndDate, setRealEndDate)}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n      </Dropdown.Trigger>\r\n    </div>\r\n  );\r\n};\r\n","import { isValid } from \"date-fns\";\r\nimport { observer } from \"mobx-react\";\r\nimport React from \"react\";\r\nimport { DatePicker } from \"../../Common/DatePicker/DatePicker\";\r\n\r\nexport const DateTimeInput = observer(({ value, range, time, onChange }) => {\r\n  const onValueChange = React.useCallback(\r\n    (selectedDate) => {\r\n      let value;\r\n\r\n      if (Array.isArray(selectedDate)) {\r\n        const [min, max] = selectedDate\r\n          .map((d) => (d ? new Date(d) : null))\r\n          .map((d) => (isValid(d) ? d.toISOString() : null));\r\n\r\n        value = { min, max };\r\n      } else {\r\n        value = selectedDate?.toISOString();\r\n      }\r\n\r\n      onChange(value);\r\n    },\r\n    [onChange],\r\n  );\r\n\r\n  const dateValue = React.useMemo(() => {\r\n    if (range) {\r\n      const { min, max } = value ?? {};\r\n\r\n      return [min, max]\r\n        .map((d) => (d === null ? undefined : d))\r\n        .map((d) => new Date(d))\r\n        .map((d) => (isValid(d) ? d : undefined));\r\n    }\r\n    const date = new Date(value === null ? undefined : value);\r\n\r\n    return isValid(date) ? date : undefined;\r\n  }, [range, value]);\r\n\r\n  return (\r\n    <DatePicker value={dateValue} selectRange={range} showTime={time === true} onChange={onValueChange} size=\"small\" />\r\n  );\r\n});\r\n\r\nexport const DateFields = (extraProps) => {\r\n  return [\r\n    {\r\n      key: \"less\",\r\n      label: \"is before\",\r\n      valueType: \"single\",\r\n      input: (props) => <DateTimeInput {...props} {...(extraProps ?? {})} />,\r\n    },\r\n    {\r\n      key: \"greater\",\r\n      label: \"is after\",\r\n      valueType: \"single\",\r\n      input: (props) => <DateTimeInput {...props} {...(extraProps ?? {})} />,\r\n    },\r\n    {\r\n      key: \"in\",\r\n      label: \"is between\",\r\n      valueType: \"range\",\r\n      input: (props) => <DateTimeInput range {...props} {...(extraProps ?? {})} />,\r\n    },\r\n    {\r\n      key: \"not_in\",\r\n      label: \"not between\",\r\n      valueType: \"range\",\r\n      input: (props) => <DateTimeInput range {...props} {...(extraProps ?? {})} />,\r\n    },\r\n  ];\r\n};\r\n\r\nexport const DateFilter = [...DateFields()];\r\n","import { DateFields } from \"./Date\";\r\n\r\nexport const DatetimeFilter = [...DateFields({ time: true })];\r\n","import { observer } from \"mobx-react\";\r\nimport { FilterDropdown } from \"../FilterDropdown\";\r\nimport { useMemo } from \"react\";\r\n// import { Common } from \"./Common\";\r\n\r\nfunction defaultFilterItems(items) {\r\n  return items?.toJSON ? items.toJSON() : items;\r\n}\r\n\r\nexport const VariantSelect = observer(({ filter, schema, onChange, multiple, value, placeholder, disabled }) => {\r\n  if (!schema) return <></>;\r\n  const { items } = schema;\r\n\r\n  const selectedValue = useMemo(() => {\r\n    if (!multiple) {\r\n      return Array.isArray(value) ? value[0] : value;\r\n    }\r\n    return Array.isArray(value) ? value : (value ?? []);\r\n  }, [multiple, value]);\r\n  const filterItems = filter.cellView?.filterItems || defaultFilterItems;\r\n  const FilterItem = filter.cellView?.FilterItem;\r\n  return (\r\n    <FilterDropdown\r\n      items={filterItems(items)}\r\n      value={selectedValue}\r\n      multiple={multiple}\r\n      optionRender={FilterItem}\r\n      outputFormat={\r\n        multiple\r\n          ? (value) => {\r\n              return value ? [].concat(value) : [];\r\n            }\r\n          : undefined\r\n      }\r\n      searchFilter={filter.cellView?.searchFilter}\r\n      onChange={(value) => onChange(value)}\r\n      placeholder={placeholder ?? \"Select value\"}\r\n      disabled={disabled}\r\n    />\r\n  );\r\n});\r\n\r\nexport const ListFilter = [\r\n  {\r\n    key: \"contains\",\r\n    label: \"contains\",\r\n    valueType: \"single\",\r\n    input: (props) => <VariantSelect {...props} multiple={props.schema?.multiple} />,\r\n  },\r\n  {\r\n    key: \"not_contains\",\r\n    label: \"not contains\",\r\n    valueType: \"single\",\r\n    input: (props) => <VariantSelect {...props} multiple={props.schema?.multiple} />,\r\n  },\r\n  // ... Common,\r\n];\r\n","import React from \"react\";\r\nimport Input from \"../Common/Input/Input\";\r\n\r\nexport const FilterInput = ({ value, type, onChange, placeholder, schema, style }) => {\r\n  const inputRef = React.useRef();\r\n  const onChangeHandler = () => {\r\n    const value = inputRef.current?.value ?? inputRef.current?.input?.value;\r\n\r\n    onChange(value);\r\n  };\r\n\r\n  return (\r\n    <Input\r\n      rawClassName=\"min-w-[100px]\"\r\n      size=\"small\"\r\n      type={type}\r\n      value={value ?? \"\"}\r\n      ref={inputRef}\r\n      placeholder={placeholder}\r\n      onChange={onChangeHandler}\r\n      style={style}\r\n      {...(schema ?? {})}\r\n    />\r\n  );\r\n};\r\n","import { observer } from \"mobx-react\";\r\nimport { isDefined } from \"../../../utils/utils\";\r\nimport { FilterInput } from \"../FilterInput\";\r\n\r\nconst valueFilter = (value) => {\r\n  if (isDefined(value)) {\r\n    if (typeof value === \"number\") {\r\n      return value;\r\n    }\r\n    if (typeof value === \"string\") {\r\n      const cleaned = value.replace(/([^\\d.,]+)/, \"\");\r\n      return cleaned ? Number(cleaned) : null;\r\n    }\r\n    return value || null;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst NumberInput = observer(({ onChange, ...rest }) => {\r\n  return <FilterInput {...rest} type=\"number\" onChange={(value) => onChange(valueFilter(value))} />;\r\n});\r\n\r\nconst RangeInput = observer(({ schema, value, onChange }) => {\r\n  const min = value?.min ?? null;\r\n  const max = value?.max ?? null;\r\n\r\n  const onValueChange = (newValue) => {\r\n    onChange(newValue);\r\n  };\r\n\r\n  const onChangeMin = (newValue) => {\r\n    onValueChange({ min: Number(newValue), max });\r\n  };\r\n\r\n  const onChangeMax = (newValue) => {\r\n    onValueChange({ min, max: Number(newValue) });\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex w-full min-w-[100px]\">\r\n      <NumberInput placeholder=\"Min\" value={min} onChange={onChangeMin} schema={schema} style={{ flex: 1 }} />\r\n      <span style={{ padding: \"0 10px\" }}>and</span>\r\n      <NumberInput placeholder=\"Max\" value={max} onChange={onChangeMax} schema={schema} style={{ flex: 1 }} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const NumberFilter = [\r\n  {\r\n    key: \"equal\",\r\n    label: \"=\",\r\n    valueType: \"single\",\r\n    input: (props) => <NumberInput {...props} />,\r\n  },\r\n  {\r\n    key: \"not_equal\",\r\n    label: \"\",\r\n    valueType: \"single\",\r\n    input: (props) => <NumberInput {...props} />,\r\n  },\r\n  {\r\n    key: \"less\",\r\n    label: \"<\",\r\n    valueType: \"single\",\r\n    input: (props) => <NumberInput {...props} />,\r\n  },\r\n  {\r\n    key: \"greater\",\r\n    label: \">\",\r\n    valueType: \"single\",\r\n    input: (props) => <NumberInput {...props} />,\r\n  },\r\n  {\r\n    key: \"less_or_equal\",\r\n    label: \"\",\r\n    valueType: \"single\",\r\n    input: (props) => <NumberInput {...props} />,\r\n  },\r\n  {\r\n    key: \"greater_or_equal\",\r\n    label: \"\",\r\n    valueType: \"single\",\r\n    input: (props) => <NumberInput {...props} />,\r\n  },\r\n  {\r\n    key: \"in\",\r\n    label: \"is between\",\r\n    valueType: \"range\",\r\n    input: (props) => <RangeInput {...props} />,\r\n  },\r\n  {\r\n    key: \"not_in\",\r\n    label: \"not between\",\r\n    valueType: \"range\",\r\n    input: (props) => <RangeInput {...props} />,\r\n  },\r\n];\r\n","import { observer } from \"mobx-react\";\r\nimport { FilterInput } from \"../FilterInput\";\r\n\r\nconst BaseInput = observer(({ value, onChange, placeholder }) => {\r\n  return <FilterInput type=\"text\" value={value} onChange={onChange} placeholder={placeholder} />;\r\n});\r\n\r\nexport const StringFilter = [\r\n  {\r\n    key: \"contains\",\r\n    label: \"contains\",\r\n    valueType: \"single\",\r\n    input: (props) => <BaseInput {...props} />,\r\n  },\r\n  {\r\n    key: \"not_contains\",\r\n    label: \"not contains\",\r\n    valueType: \"single\",\r\n    input: (props) => <BaseInput {...props} />,\r\n  },\r\n  {\r\n    key: \"regex\",\r\n    label: \"regex\",\r\n    valueType: \"single\",\r\n    input: (props) => <BaseInput {...props} />,\r\n  },\r\n  {\r\n    key: \"equal\",\r\n    label: \"equal\",\r\n    valueType: \"single\",\r\n    input: (props) => <BaseInput {...props} />,\r\n  },\r\n  {\r\n    key: \"not_equal\",\r\n    label: \"not equal\",\r\n    valueType: \"single\",\r\n    input: (props) => <BaseInput {...props} />,\r\n  },\r\n];\r\n","import { observer } from \"mobx-react\";\r\nimport { Select, Badge } from \"@humansignal/ui\";\r\nimport { stateRegistry, formatStateName, getStateColorClass } from \"@humansignal/app-common\";\r\nimport { useMemo } from \"react\";\r\n\r\nconst BaseInput = observer(({ value, onChange, placeholder }) => {\r\n  const options = useMemo(() => {\r\n    return stateRegistry.getStatesByEntityType(\"task\").map((state) => {\r\n      const textLabel = formatStateName(state);\r\n      const colorClasses = getStateColorClass(state);\r\n\r\n      return {\r\n        value: state,\r\n        textLabel,\r\n        label: <Badge className={colorClasses}>{textLabel}</Badge>,\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Select\r\n      options={options}\r\n      value={value}\r\n      onChange={onChange}\r\n      placeholder={placeholder}\r\n      searchable={true}\r\n      onSearch={(value) => {\r\n        // Search against textLabel which should match any of the state labels\r\n        return options.filter((option) => option.textLabel.toLowerCase().includes(value.toLowerCase()));\r\n      }}\r\n      selectedValueRenderer={(option) => {\r\n        if (!option) return null;\r\n\r\n        const colorClasses = getStateColorClass(option.value);\r\n\r\n        return <Badge className={`${colorClasses} h-[18px] text-[12px]`}>{option.textLabel}</Badge>;\r\n      }}\r\n      size=\"small\"\r\n      triggerClassName=\"min-w-[100px]\"\r\n    />\r\n  );\r\n});\r\n\r\nexport const TaskStateFilter = [\r\n  {\r\n    key: \"contains\",\r\n    label: \"contains\",\r\n    valueType: \"list\",\r\n    input: (props) => <BaseInput {...props} />,\r\n  },\r\n  {\r\n    key: \"not_contains\",\r\n    label: \"not contains\",\r\n    valueType: \"list\",\r\n    input: (props) => <BaseInput {...props} />,\r\n  },\r\n];\r\n","const EXCLUDED_FILTER_OPERATIONS = {\r\n  DE: [\"contains\", \"not_contains\", \"regex\"],\r\n  dm: [\"similar_to\"],\r\n};\r\n\r\nexport const allowedFilterOperations = (operationsList, context = \"\") => {\r\n  return context in EXCLUDED_FILTER_OPERATIONS\r\n    ? operationsList.filter((op) => !EXCLUDED_FILTER_OPERATIONS[context].includes(op.key))\r\n    : operationsList;\r\n};\r\n","import { observer } from \"mobx-react\";\r\nimport { getRoot } from \"mobx-state-tree\";\r\nimport { useCallback, useMemo } from \"react\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { debounce } from \"../../../utils/debounce\";\r\nimport { FilterDropdown } from \"../FilterDropdown\";\r\nimport * as FilterInputs from \"../types\";\r\nimport { allowedFilterOperations } from \"../types/Utility\";\r\nimport { Common } from \"../types/Common\";\r\n\r\n/** @typedef {{\r\n * type: keyof typeof FilterInputs,\r\n * width: number\r\n * }} FieldConfig */\r\n\r\n/**\r\n *\r\n * @param {{field: FieldConfig}} param0\r\n */\r\nexport const FilterOperation = observer(({ filter, field, operator, value, disabled }) => {\r\n  const cellView = filter.cellView;\r\n  const types = cellView?.customOperators ?? [\r\n    ...(FilterInputs[filter.filter.currentType] ?? FilterInputs.String),\r\n    ...Common,\r\n  ];\r\n\r\n  const selected = useMemo(() => {\r\n    let result;\r\n\r\n    if (operator) {\r\n      result = types.find((t) => t.key === operator);\r\n    }\r\n\r\n    if (!result) {\r\n      result = types[0];\r\n    }\r\n\r\n    filter.setOperator(result.key);\r\n    return result;\r\n  }, [operator, types, filter]);\r\n\r\n  const saveFilter = useCallback(\r\n    debounce(() => {\r\n      filter.save(true);\r\n    }, 300),\r\n    [filter],\r\n  );\r\n\r\n  const onChange = (newValue) => {\r\n    filter.setValue(newValue);\r\n    saveFilter();\r\n  };\r\n\r\n  const onOperatorSelected = (selectedKey) => {\r\n    filter.setOperator(selectedKey);\r\n  };\r\n  const availableOperators = filter.cellView?.filterOperators;\r\n  const Input = selected?.input;\r\n  let operatorList = allowedFilterOperations(types, getRoot(filter)?.SDK?.type);\r\n  if (filter.filter.field.isAnnotationResultsFilterColumn) {\r\n    // We want at most one of \"equal\" or \"contains\" per filter type\r\n    // They resolve to the same backend query in this custom case\r\n    const hasEqualOperators = operatorList.some((o) => [\"equal\", \"not_equal\"].includes(o.key));\r\n    const allowedOperators = hasEqualOperators ? [\"equal\", \"not_equal\"] : [\"contains\", \"not_contains\"];\r\n    operatorList = operatorList.filter((op) => allowedOperators.includes(op.key));\r\n  }\r\n  const operators = operatorList.map(({ key, label }) => {\r\n    if (filter.filter.field.isAnnotationResultsFilterColumn) {\r\n      if (filter.schema?.multiple ?? false) {\r\n        if (key === \"contains\") label = \"includes all\";\r\n        if (key === \"not_contains\") label = \"does not include all\";\r\n      } else {\r\n        if (key === \"contains\") label = \"is\";\r\n        if (key === \"not_contains\") label = \"is not\";\r\n      }\r\n    }\r\n    return { value: key, label };\r\n  });\r\n  const columnClass = cn(\"filterLine\").elem(\"column\");\r\n\r\n  return Input ? (\r\n    <>\r\n      <div className={columnClass.mix(\"operation\").toString()}>\r\n        <FilterDropdown\r\n          placeholder=\"Condition\"\r\n          value={filter.operator}\r\n          disabled={types.length === 1 || disabled}\r\n          items={availableOperators ? operators.filter((op) => availableOperators.includes(op.value)) : operators}\r\n          onChange={onOperatorSelected}\r\n        />\r\n      </div>\r\n      <div className={columnClass.mix(\"value\").toString()}>\r\n        <Input\r\n          {...field}\r\n          key={`${filter.filter.id}-${filter.filter.currentType}`}\r\n          schema={filter.schema}\r\n          filter={filter}\r\n          multiple={filter.schema?.multiple ?? false}\r\n          value={value}\r\n          onChange={onChange}\r\n          size=\"small\"\r\n          disabled={disabled}\r\n        />\r\n      </div>\r\n    </>\r\n  ) : null;\r\n});\r\n","import React from \"react\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport \"./Icon.scss\";\r\n\r\nexport const Icon = React.forwardRef(({ icon, ...props }, ref) => {\r\n  return (\r\n    <span className={cn(\"icon\").toString()} ref={ref}>\r\n      {React.createElement(icon, props)}\r\n    </span>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { Button, EnterpriseBadge } from \"@humansignal/ui\";\r\nimport { IconClose } from \"@humansignal/icons\";\r\nimport { Tag } from \"../../Common/Tag/Tag\";\r\nimport { FilterDropdown } from \"../FilterDropdown\";\r\nimport \"./FilterLine.scss\";\r\nimport { FilterOperation } from \"./FilterOperation\";\r\nimport { Icon } from \"../../Common/Icon/Icon\";\r\n\r\nconst Conjunction = observer(({ index, view }) => {\r\n  return (\r\n    <FilterDropdown\r\n      items={[\r\n        { value: \"and\", label: \"And\" },\r\n        { value: \"or\", label: \"Or\" },\r\n      ]}\r\n      disabled={index > 1}\r\n      value={view.conjunction}\r\n      style={{ textAlign: \"right\" }}\r\n      onChange={(value) => view.setConjunction(value)}\r\n    />\r\n  );\r\n});\r\n\r\nexport const FilterLine = observer(({ filter, availableFilters, index, view, sidebar, dropdownClassName }) => {\r\n  const childFilter = filter.child_filter;\r\n\r\n  if (sidebar) {\r\n    // Sidebar layout uses grid structure like main layout\r\n    return (\r\n      <div className={cn(\"filterLine\").mod({ hasChild: !!childFilter })}>\r\n        {/* Main filter row */}\r\n        <div className={cn(\"filterLine\").elem(\"column\").mix(\"conjunction\")}>\r\n          {index === 0 ? (\r\n            <span style={{ fontSize: 12, paddingRight: 5 }}>Where</span>\r\n          ) : (\r\n            <Conjunction index={index} view={view} />\r\n          )}\r\n        </div>\r\n\r\n        <div className={cn(\"filterLine\").elem(\"column\").mix(\"field\")}>\r\n          <FilterDropdown\r\n            placeholder=\"Column\"\r\n            defaultValue={filter.filter.id}\r\n            items={availableFilters}\r\n            dropdownClassName={dropdownClassName}\r\n            searchFilter={(option, query) => {\r\n              const original = option?.original ?? option;\r\n              const title = original?.field?.title ?? original?.title ?? \"\";\r\n              const parentTitle = original?.field?.parent?.title ?? \"\";\r\n              return `${title} ${parentTitle}`.toLowerCase().includes(query.toLowerCase());\r\n            }}\r\n            onChange={(value) => filter.setFilterDelayed(value)}\r\n            optionRender={({ item: { original: filter } }) => {\r\n              const showEnterpriseBadge = filter.field.enterprise_badge;\r\n              return (\r\n                <div\r\n                  className={cn(\"filterLine\").elem(\"selector\")}\r\n                  style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}\r\n                >\r\n                  <span>{filter.field.title}</span>\r\n                  {showEnterpriseBadge && <EnterpriseBadge ghost />}\r\n                  {filter.field.parent && (\r\n                    <Tag size=\"small\" className=\"filters-data-tag\" color=\"#1d91e4\" style={{ marginLeft: 7 }}>\r\n                      {filter.field.parent.title}\r\n                    </Tag>\r\n                  )}\r\n                </div>\r\n              );\r\n            }}\r\n            disabled={filter.field.disabled}\r\n          />\r\n        </div>\r\n\r\n        <FilterOperation\r\n          filter={filter}\r\n          value={filter.currentValue}\r\n          operator={filter.operator}\r\n          field={filter.field}\r\n          disabled={filter.field.disabled}\r\n        />\r\n\r\n        {/* Column 5: Remove button - only show if no child filter, otherwise empty space */}\r\n        {!childFilter ? (\r\n          <div className={cn(\"filterLine\").elem(\"remove\")}>\r\n            <Button\r\n              look=\"string\"\r\n              size=\"small\"\r\n              style={{ border: \"none\" }}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                filter.delete();\r\n              }}\r\n              icon={<Icon icon={IconClose} size={12} />}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div className={cn(\"filterLine\").elem(\"remove\")} />\r\n        )}\r\n\r\n        {/* Child filter row */}\r\n        {childFilter && (\r\n          <>\r\n            {/* Column 1: Conjunction */}\r\n            <div className={cn(\"filterLine\").elem(\"column\").mix(\"conjunction\")}>\r\n              <span style={{ fontSize: 12, paddingRight: 5 }}>and</span>\r\n            </div>\r\n\r\n            {/* Column 2: Field */}\r\n            <div className={cn(\"filterLine\").elem(\"column\").mix(\"field child-field\")}>\r\n              <FilterDropdown\r\n                placeholder={childFilter.field.title}\r\n                value={childFilter.field.title}\r\n                items={[{ value: childFilter.field.title, label: childFilter.field.title }]}\r\n                disabled={true}\r\n                onChange={() => {}} // No-op since it's disabled\r\n                style={{ minWidth: \"80px\" }}\r\n              />\r\n            </div>\r\n\r\n            {/* Column 3 & 4: Operation and Value */}\r\n            <FilterOperation\r\n              filter={childFilter}\r\n              value={childFilter.currentValue}\r\n              operator={childFilter.operator}\r\n              field={childFilter.field}\r\n              disabled={filter.field.disabled}\r\n            />\r\n\r\n            {/* Column 5: Remove */}\r\n            <div className={cn(\"filterLine\").elem(\"remove\")}>\r\n              <Button\r\n                look=\"danger\"\r\n                size=\"smaller\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  filter.delete(); // Remove the main filter (which includes child)\r\n                }}\r\n                icon={<Icon icon={IconClose} size={12} />}\r\n              />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Main layout uses parent grid structure - render children as direct grid items\r\n  return (\r\n    <div className={cn(\"filterLine\").mod({ hasChild: !!childFilter })}>\r\n      <div className={cn(\"filterLine\").elem(\"column\").mix(\"conjunction\")}>\r\n        {index === 0 ? (\r\n          <span style={{ fontSize: 12, paddingRight: 5 }}>Where</span>\r\n        ) : (\r\n          <Conjunction index={index} view={view} />\r\n        )}\r\n      </div>\r\n\r\n      <div className={cn(\"filterLine\").elem(\"column\").mix(\"field\")}>\r\n        <FilterDropdown\r\n          placeholder=\"Column\"\r\n          defaultValue={filter.filter.id}\r\n          items={availableFilters}\r\n          width={80}\r\n          dropdownWidth={170}\r\n          dropdownClassName={dropdownClassName}\r\n          searchFilter={(option, query) => {\r\n            const original = option?.original ?? option;\r\n            const title = original?.field?.title ?? original?.title ?? \"\";\r\n            const parentTitle = original?.field?.parent?.title ?? \"\";\r\n            return `${title} ${parentTitle}`.toLowerCase().includes(query.toLowerCase());\r\n          }}\r\n          onChange={(value) => filter.setFilterDelayed(value)}\r\n          optionRender={({ item: { original: filter } }) => {\r\n            const showEnterpriseBadge = filter.field.enterprise_badge;\r\n            return (\r\n              <div\r\n                className={cn(\"filterLine\").elem(\"selector\")}\r\n                style={{ display: \"flex\", alignItems: \"center\", gap: \"8px\" }}\r\n              >\r\n                <span>{filter.field.title}</span>\r\n                {showEnterpriseBadge && <EnterpriseBadge ghost />}\r\n                {filter.field.parent && (\r\n                  <Tag size=\"small\" className=\"filters-data-tag\" color=\"#1d91e4\" style={{ marginLeft: 7 }}>\r\n                    {filter.field.parent.title}\r\n                  </Tag>\r\n                )}\r\n              </div>\r\n            );\r\n          }}\r\n          disabled={filter.field.disabled}\r\n        />\r\n      </div>\r\n\r\n      <FilterOperation\r\n        filter={filter}\r\n        value={filter.currentValue}\r\n        operator={filter.operator}\r\n        field={filter.field}\r\n        disabled={filter.field.disabled}\r\n      />\r\n\r\n      {/* Only show remove button if there's no child filter, or show it on the last column of the main filter */}\r\n      {!childFilter && (\r\n        <div className={cn(\"filterLine\").elem(\"remove\")}>\r\n          <Button\r\n            look=\"string\"\r\n            size=\"small\"\r\n            style={{ border: \"none\" }}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              filter.delete();\r\n            }}\r\n            icon={<Icon icon={IconClose} size={12} />}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Render child filters as additional grid items on new row */}\r\n      {childFilter && (\r\n        <>\r\n          {/* Empty column to maintain grid alignment for main filter row */}\r\n          <div className={cn(\"filterLine\").elem(\"remove\")} />\r\n\r\n          <div className={cn(\"filterLine\").elem(\"column\").mix(\"conjunction\")}>\r\n            <span style={{ fontSize: 12, paddingRight: 5 }}>and</span>\r\n          </div>\r\n\r\n          <div className={cn(\"filterLine\").elem(\"column\").mix(\"field child-field\")}>\r\n            <FilterDropdown\r\n              placeholder={childFilter.field.title}\r\n              value={childFilter.field.title}\r\n              items={[{ value: childFilter.field.title, label: childFilter.field.title }]}\r\n              disabled={true}\r\n              onChange={() => {}} // No-op since it's disabled\r\n            />\r\n          </div>\r\n\r\n          <FilterOperation\r\n            filter={childFilter}\r\n            value={childFilter.currentValue}\r\n            operator={childFilter.operator}\r\n            field={childFilter.field}\r\n            disabled={filter.field.disabled}\r\n          />\r\n\r\n          {/* Show remove button on child filter row - removes the entire filter group */}\r\n          <div className={cn(\"filterLine\").elem(\"remove\")}>\r\n            <Button\r\n              look=\"string\"\r\n              size=\"small\"\r\n              style={{ border: \"none\" }}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                filter.delete(); // Remove the main filter (which includes child)\r\n              }}\r\n              icon={<Icon icon={IconClose} size={12} />}\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n","import { inject } from \"mobx-react\";\r\nimport React from \"react\";\r\nimport { cn } from \"../../utils/bem\";\r\nimport { Button } from \"@humansignal/ui\";\r\nimport { FilterLine } from \"./FilterLine/FilterLine\";\r\nimport { IconChevronRight, IconPlus } from \"@humansignal/icons\";\r\nimport \"./Filters.scss\";\r\n\r\nconst injector = inject(({ store }) => ({\r\n  store,\r\n  views: store.viewsStore,\r\n  currentView: store.currentView,\r\n  filters: store.currentView?.currentFilters ?? [],\r\n}));\r\n\r\nexport const Filters = injector(({ views, currentView, filters }) => {\r\n  const { sidebarEnabled } = views;\r\n\r\n  const fields = React.useMemo(\r\n    () =>\r\n      currentView.availableFilters.reduce((res, filter) => {\r\n        const target = filter.field.target;\r\n        const groupTitle = target\r\n          .split(\"_\")\r\n          .map((s) =>\r\n            s\r\n              .split(\"\")\r\n              .map((c, i) => (i === 0 ? c.toUpperCase() : c))\r\n              .join(\"\"),\r\n          )\r\n          .join(\" \");\r\n\r\n        const group = res[target] ?? {\r\n          id: target,\r\n          title: groupTitle,\r\n          options: [],\r\n        };\r\n\r\n        group.options.push({\r\n          value: filter.id,\r\n          title: filter.field.title,\r\n          original: filter,\r\n          disabled: filter.field.disabled,\r\n        });\r\n\r\n        return { ...res, [target]: group };\r\n      }, {}),\r\n    [currentView.availableFilters],\r\n  );\r\n\r\n  return (\r\n    <div className={cn(\"filters\").mod({ sidebar: sidebarEnabled }).toClassName()}>\r\n      <div className={cn(\"filters\").elem(\"list\").mod({ withFilters: !!filters.length }).toClassName()}>\r\n        {filters.length ? (\r\n          filters.map((filter, i) => (\r\n            <FilterLine\r\n              index={i}\r\n              filter={filter}\r\n              view={currentView}\r\n              sidebar={sidebarEnabled}\r\n              value={filter.currentValue}\r\n              key={`${filter.filter.id}-${i}`}\r\n              availableFilters={Object.values(fields)}\r\n              dropdownClassName={cn(\"filters\").elem(\"selector\").toClassName()}\r\n            />\r\n          ))\r\n        ) : (\r\n          <div className={cn(\"filters\").elem(\"empty\").toClassName()}>No filters applied</div>\r\n        )}\r\n      </div>\r\n      <div className={cn(\"filters\").elem(\"actions\").toClassName()}>\r\n        <Button\r\n          size=\"small\"\r\n          look=\"string\"\r\n          onClick={() => currentView.createFilter()}\r\n          leading={<IconPlus className=\"!h-3 !w-3\" />}\r\n        >\r\n          Add {filters.length ? \"Another Filter\" : \"Filter\"}\r\n        </Button>\r\n\r\n        {!sidebarEnabled ? (\r\n          <Button\r\n            look=\"string\"\r\n            type=\"link\"\r\n            size=\"small\"\r\n            tooltip=\"Pin to sidebar\"\r\n            onClick={() => views.expandFilters()}\r\n            aria-label=\"Pin filters to sidebar\"\r\n          >\r\n            <IconChevronRight className=\"!w-4 !h-4\" />\r\n          </Button>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import { cn } from \"../../../utils/bem\";\r\nimport \"./Badge.scss\";\r\n\r\nexport const Badge = ({ children, size, className, color, style }) => {\r\n  return (\r\n    <div\r\n      className={cn(\"badge-dm\").mod({ size }).mix(className).toClassName()}\r\n      style={{ ...(style ?? {}), backgroundColor: color }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import { inject, observer } from \"mobx-react\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { IconChevronDown } from \"@humansignal/icons\";\r\nimport { Filters } from \"../Filters/Filters\";\r\nimport { Badge } from \"./Badge/Badge\";\r\nimport { Button } from \"@humansignal/ui\";\r\nimport { Dropdown } from \"@humansignal/ui\";\r\nimport { Icon } from \"./Icon/Icon\";\r\n\r\nconst buttonInjector = inject(({ store }) => {\r\n  const { viewsStore, currentView } = store;\r\n\r\n  return {\r\n    viewsStore,\r\n    sidebarEnabled: viewsStore?.sidebarEnabled ?? false,\r\n    activeFiltersNumber: currentView?.filtersApplied ?? false,\r\n  };\r\n});\r\n\r\nexport const FiltersButton = buttonInjector(\r\n  observer(\r\n    React.forwardRef(({ activeFiltersNumber, size, sidebarEnabled, viewsStore, ...rest }, ref) => {\r\n      const hasFilters = activeFiltersNumber > 0;\r\n\r\n      return (\r\n        <Button\r\n          ref={ref}\r\n          size=\"small\"\r\n          variant=\"neutral\"\r\n          look=\"outlined\"\r\n          onClick={() => sidebarEnabled && viewsStore.toggleSidebar()}\r\n          trailing={<Icon icon={IconChevronDown} />}\r\n          aria-label=\"Filters\"\r\n          {...rest}\r\n        >\r\n          Filters{\" \"}\r\n          {hasFilters && (\r\n            <Badge size=\"small\" style={{ marginLeft: 5 }}>\r\n              {activeFiltersNumber}\r\n            </Badge>\r\n          )}\r\n        </Button>\r\n      );\r\n    }),\r\n  ),\r\n);\r\n\r\nconst injector = inject(({ store }) => {\r\n  return {\r\n    sidebarEnabled: store?.viewsStore?.sidebarEnabled ?? false,\r\n  };\r\n});\r\n\r\nexport const FiltersPane = injector(\r\n  observer(({ sidebarEnabled, size, ...rest }) => {\r\n    const dropdown = useRef();\r\n\r\n    useEffect(() => {\r\n      if (sidebarEnabled === true) {\r\n        dropdown?.current?.close();\r\n      }\r\n    }, [sidebarEnabled]);\r\n\r\n    return (\r\n      <Dropdown.Trigger\r\n        ref={dropdown}\r\n        disabled={sidebarEnabled}\r\n        content={<Filters />}\r\n        openUpwardForShortViewport={false}\r\n        isChildValid={(ele) => {\r\n          return !!ele.closest(\"[data-radix-popper-content-wrapper]\");\r\n        }}\r\n      >\r\n        <FiltersButton {...rest} size={size} />\r\n      </Dropdown.Trigger>\r\n    );\r\n  }),\r\n);\r\n","import { inject, observer } from \"mobx-react\";\r\n\r\nconst injector = inject(({ store }) => {\r\n  return {\r\n    interfaces: store.interfaces,\r\n  };\r\n});\r\n\r\nexport const Interface = injector(\r\n  observer(({ name, interfaces, children }) => {\r\n    return interfaces.get(name) === true ? children : null;\r\n  }),\r\n);\r\n","import { useSDK } from \"../../providers/SDKProvider\";\r\nimport { Button } from \"@humansignal/ui\";\r\n\r\nconst SDKButton = ({ eventName, testId, ...props }) => {\r\n  const sdk = useSDK();\r\n\r\n  return sdk.hasHandler(eventName) ? (\r\n    <Button\r\n      {...props}\r\n      size={props.size ?? \"small\"}\r\n      look={props.look ?? \"outlined\"}\r\n      variant={props.variant ?? \"neutral\"}\r\n      aria-label={`${eventName.replace(\"Clicked\", \"\")} button`}\r\n      data-testid={testId}\r\n      onClick={() => {\r\n        sdk.invoke(eventName);\r\n      }}\r\n    />\r\n  ) : null;\r\n};\r\n\r\nexport const SettingsButton = ({ ...props }) => {\r\n  return <SDKButton {...props} eventName=\"settingsClicked\" />;\r\n};\r\n\r\nexport const ImportButton = ({ ...props }) => {\r\n  return <SDKButton {...props} eventName=\"importClicked\" testId=\"dm-import-button\" />;\r\n};\r\n\r\nexport const ExportButton = ({ ...props }) => {\r\n  return <SDKButton {...props} eventName=\"exportClicked\" testId=\"dm-export-button\" />;\r\n};\r\n","import { useQuery } from \"@tanstack/react-query\";\r\n\r\n// Extend Window interface to include DataManager properties\r\ndeclare global {\r\n  interface Window {\r\n    DM?: {\r\n      store?: {\r\n        apiCall: (method: string, params?: any) => Promise<any>;\r\n      };\r\n      apiCall?: (method: string, params?: any) => Promise<any>;\r\n    };\r\n  }\r\n}\r\n\r\ninterface Action {\r\n  id: string;\r\n  title: string;\r\n  order: number;\r\n  hidden?: boolean;\r\n  dialog?: {\r\n    type?: string;\r\n    text?: string;\r\n    form?: any;\r\n    title?: string;\r\n  };\r\n  children?: Action[];\r\n  disabled?: boolean;\r\n  disabledReason?: string;\r\n  isSeparator?: boolean;\r\n  isTitle?: boolean;\r\n  callback?: (selection: any, action: Action) => void;\r\n}\r\n\r\ninterface UseActionsOptions {\r\n  projectId?: string;\r\n  enabled?: boolean;\r\n  staleTime?: number;\r\n  cacheTime?: number;\r\n}\r\n\r\n/**\r\n * Hook to fetch available actions from the DataManager API\r\n * Uses TanStack Query for data fetching and caching\r\n *\r\n * @param options - Configuration options for the query\r\n * @returns Object containing actions data, loading state, error state, and refetch function\r\n */\r\nexport const useActions = (options: UseActionsOptions = {}) => {\r\n  const {\r\n    enabled = true,\r\n    staleTime = 5 * 60 * 1000, // 5 minutes\r\n    cacheTime = 10 * 60 * 1000, // 10 minutes\r\n    projectId,\r\n  } = options;\r\n\r\n  const queryKey = [\"actions\", projectId];\r\n\r\n  const { data, isLoading, isError, error, refetch, isFetching } = useQuery({\r\n    queryKey,\r\n    queryFn: async () => {\r\n      // Use the correct DataManager API pattern - window.DM is the AppStore\r\n      const store = window?.DM?.store || window?.DM;\r\n\r\n      if (!store) {\r\n        throw new Error(\"DataManager store not available\");\r\n      }\r\n\r\n      const response = await store.apiCall?.(\"actions\");\r\n\r\n      if (!response) {\r\n        throw new Error(\"No actions found in response or response is invalid\");\r\n      }\r\n\r\n      return response as Action[];\r\n    },\r\n    enabled,\r\n    staleTime,\r\n    cacheTime,\r\n  });\r\n\r\n  const actions = data ?? [];\r\n\r\n  return {\r\n    actions,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    refetch,\r\n    isFetching,\r\n  };\r\n};\r\n","/**\r\n * Support for notification links in the Label Steam and the Review Stream.\r\n * @link https://app.launchdarkly.com/default/branch/features/feat_front_dev_1752_notification_links_in_label_and_review_streams\r\n */\r\nexport const FF_DEV_1752 = \"feat_front_dev_1752_notification_links_in_label_and_review_streams\";\r\n\r\n// Ask for comment during update in label stream\r\nexport const FF_DEV_2186 = \"ff_front_dev_2186_comments_for_update\";\r\n\r\nexport const FF_DEV_2536 = \"fflag_feat_front_dev-2536_comment_notifications_short\";\r\n\r\n// Comments for annotation editor\r\nexport const FF_DEV_2887 = \"fflag-feat-dev-2887-comments-ui-editor-short\";\r\n\r\nexport const FF_DEV_3034 = \"fflag-feat-dev-3034-comments-with-drafts-short\";\r\n\r\nexport const FF_DEV_3873 = \"fflag_feat_front_dev_3873_labeling_ui_improvements_short\";\r\n\r\n/**\r\n * Support for Datasets functionality.\r\n */\r\nexport const FF_LOPS_E_3 = \"fflag_feat_all_lops_e_3_datasets_short\";\r\n\r\n/**\r\n * Fixes memory leaks in label studio frontend relative to mobx-state-tree and react usage\r\n *\r\n * @link https://app.launchdarkly.com/default/production/features/fflag_fix_front_lsdv_4620_memory_leaks_100723_short\r\n */\r\nexport const FF_LSDV_4620_3_ML = \"fflag_fix_front_lsdv_4620_memory_leaks_100723_short\";\r\n\r\n/** Add ability to preview image tasks in Data Manager Grid View */\r\nexport const FF_GRID_PREVIEW = \"fflag_feat_front_leap_1424_grid_preview_short\";\r\n\r\n/**\r\n * Allow to filter tasks in Data Manager by control tag labels used in annotation results\r\n * @link https://app.launchdarkly.com/projects/default/flags/fflag_root_13_annotation_results_filtering\r\n */\r\nexport const FF_ANNOTATION_RESULTS_FILTERING = \"fflag_root_13_annotation_results_filtering\";\r\n\r\n/**\r\n * Allow to filter tasks in Data Manager by annotation results and user annotated on the same annotation\r\n * @link https://app.launchdarkly.com/projects/default/flags/fflag_root_45_better_user_filter\r\n */\r\nexport const FF_BETTER_USER_FILTER = \"fflag_root_45_better_user_filter\";\r\n\r\n/**\r\n * Disable global user fetching for large-scale deployments\r\n * @link https://app.launchdarkly.com/projects/default/flags/fflag_all_feat_utc_204_users_performance_improvements_in_dm_for_large_orgs\r\n */\r\nexport const FF_DISABLE_GLOBAL_USER_FETCHING =\r\n  \"fflag_all_feat_utc_204_users_performance_improvements_in_dm_for_large_orgs\";\r\n\r\n/**\r\n * Enable interactive JSON viewer for task source in Data Manager\r\n * @link TBD - LaunchDarkly flag to be created\r\n */\r\nexport const FF_INTERACTIVE_JSON_VIEWER = \"fflag_feat_front_interactive_json_viewer_short\";\r\n\r\n/**\r\n * Strict task overlap enforcement - prevents annotators from submitting\r\n * annotations when task overlap limit has been reached\r\n */\r\nexport const FF_FIT_1304_STRICT_OVERLAP = \"fflag_feat_all_fit_1304_strict_overlap\";\r\n\r\n// Customize flags\r\nconst flags = {};\r\n\r\nfunction getFeatureFlags() {\r\n  return Object.assign(window.APP_SETTINGS?.feature_flags || {}, flags);\r\n}\r\n\r\nexport function isFF(id) {\r\n  const featureFlags = getFeatureFlags();\r\n  // TODO: remove the override + if statement once LSE and LSO start building react the same way and fflag_fix_front_lsdv_4620_memory_leaks_100723_short is removed\r\n  const override = {\r\n    fflag_fix_front_lsdv_4620_memory_leaks_100723_short: false,\r\n  };\r\n  if (window?.APP_SETTINGS?.sentry_environment === \"opensource\" && id in override) {\r\n    return override[id];\r\n  }\r\n\r\n  if (id in featureFlags) {\r\n    return featureFlags[id] === true;\r\n  }\r\n  return window.APP_SETTINGS?.feature_flags_default_value === true;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"actionButton\":\"lsf-actionButton\",\"actionButton__titleContainer\":\"lsf-actionButton__titleContainer\",\"actionButton_isTitle\":\"lsf-actionButton_isTitle\",\"actionButton__title\":\"lsf-actionButton__title\",\"actionButton_isSeparator\":\"lsf-actionButton_isSeparator\",\"menu__item\":\"lsf-menu__item\",\"actionButton_hasSeperator\":\"lsf-actionButton_hasSeperator\",\"actionButton_hasSubMenu\":\"lsf-actionButton_hasSubMenu\",\"actionButton_danger\":\"lsf-actionButton_danger\",\"actionButton-submenu\":\"lsf-actionButton-submenu\"};","import { IconChevronDown, IconChevronRight, IconTrash } from \"@humansignal/icons\";\r\nimport { Button, Spinner, EnterpriseBadge } from \"@humansignal/ui\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useActions } from \"../../../hooks/useActions\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { FF_LOPS_E_3, isFF } from \"../../../utils/feature-flags\";\r\nimport { Dropdown } from \"@humansignal/ui\";\r\nimport Form from \"../../Common/Form/Form\";\r\nimport { Menu } from \"../../Common/Menu/Menu\";\r\nimport { Modal } from \"../../Common/Modal/ModalPopup\";\r\nimport \"./ActionsButton.scss\";\r\n\r\nconst isFFLOPSE3 = isFF(FF_LOPS_E_3);\r\nconst injector = inject(({ store }) => ({\r\n  store,\r\n  hasSelected: store.currentView?.selected?.hasSelected ?? false,\r\n}));\r\n\r\nconst DialogContent = ({ text, form, formRef, store, action }) => {\r\n  const [formData, setFormData] = useState(form);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!formData) {\r\n      setIsLoading(true);\r\n      store\r\n        .fetchActionForm(action.id)\r\n        .then((form) => {\r\n          setFormData(form);\r\n        })\r\n        .finally(() => {\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  }, [formData, store, action.id]);\r\n\r\n  const fields = formData?.toJSON ? formData.toJSON() : formData;\r\n\r\n  return (\r\n    <div className={cn(\"dialog-content\").toClassName()}>\r\n      <div className={cn(\"dialog-content\").elem(\"text\").toClassName()}>{text}</div>\r\n      {isLoading && (\r\n        <div\r\n          className={cn(\"dialog-content\").elem(\"loading\").toClassName()}\r\n          style={{ display: \"flex\", justifyContent: \"center\", marginTop: 16 }}\r\n        >\r\n          <Spinner />\r\n        </div>\r\n      )}\r\n      {formData && (\r\n        <div className={cn(\"dialog-content\").elem(\"form\").toClassName()} style={{ paddingTop: 16 }}>\r\n          <Form.Builder ref={formRef} fields={fields} autosubmit={false} withActions={false} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ActionButton = ({ action, parentRef, store, formRef }) => {\r\n  const isDeleteAction = action.id.includes(\"delete\");\r\n  const hasChildren = !!action.children?.length;\r\n  const submenuRef = useRef();\r\n\r\n  const onClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      if (action.disabled) return;\r\n      action?.callback\r\n        ? action?.callback(store.currentView?.selected?.snapshot, action)\r\n        : invokeAction(action, isDeleteAction, store, formRef);\r\n      parentRef?.current?.close?.();\r\n    },\r\n    [store.currentView?.selected, action, isDeleteAction, parentRef, store, formRef],\r\n  );\r\n\r\n  const titleContainer = (\r\n    <Menu.Item\r\n      key={action.id}\r\n      className={cn(\"actionButton\")\r\n        .mod({\r\n          hasSeperator: isDeleteAction,\r\n          hasSubMenu: action.children?.length > 0,\r\n          isSeparator: action.isSeparator,\r\n          isTitle: action.isTitle,\r\n          danger: isDeleteAction,\r\n          disabled: action.disabled,\r\n        })\r\n        .toClassName()}\r\n      size=\"small\"\r\n      onClick={onClick}\r\n      aria-label={action.title}\r\n    >\r\n      <div\r\n        className={cn(\"actionButton\").elem(\"titleContainer\").toClassName()}\r\n        {...(action.disabled ? { title: action.disabledReason } : {})}\r\n      >\r\n        <div className={cn(\"actionButton\").elem(\"title\").toClassName()}>\r\n          {action.title}\r\n          {action.enterprise_badge && <EnterpriseBadge className=\"ml-1\" ghost />}\r\n        </div>\r\n        {hasChildren ? <IconChevronRight className={cn(\"actionButton\").elem(\"icon\").toClassName()} /> : null}\r\n      </div>\r\n    </Menu.Item>\r\n  );\r\n\r\n  if (hasChildren) {\r\n    return (\r\n      <Dropdown.Trigger\r\n        key={action.id}\r\n        align=\"top-right-outside\"\r\n        toggle={false}\r\n        ref={submenuRef}\r\n        content={\r\n          <ul className={cn(\"actionButton-submenu\").toClassName()}>\r\n            {action.children.map((childAction) => (\r\n              <ActionButton\r\n                key={childAction.id}\r\n                action={childAction}\r\n                parentRef={parentRef}\r\n                store={store}\r\n                formRef={formRef}\r\n              />\r\n            ))}\r\n          </ul>\r\n        }\r\n      >\r\n        {titleContainer}\r\n      </Dropdown.Trigger>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Menu.Item\r\n      size=\"small\"\r\n      key={action.id}\r\n      variant={isDeleteAction ? \"negative\" : undefined}\r\n      onClick={onClick}\r\n      className={`actionButton${action.isSeparator ? \"_isSeparator\" : action.isTitle ? \"_isTitle\" : \"\"} ${\r\n        action.disabled ? \"actionButton_disabled\" : \"\"\r\n      }`}\r\n      icon={isDeleteAction && <IconTrash />}\r\n      title={action.disabled ? action.disabledReason : null}\r\n      aria-label={action.title}\r\n      disabled={action.disabled}\r\n      tooltip={action.disabled_reason}\r\n      tooltipAlignment=\"bottom-center\"\r\n    >\r\n      <span className=\"flex items-center justify-between gap-base w-full\">\r\n        {action.title}\r\n        {action.enterprise_badge && <EnterpriseBadge ghost />}\r\n      </span>\r\n    </Menu.Item>\r\n  );\r\n};\r\n\r\nconst invokeAction = (action, destructive, store, formRef) => {\r\n  if (action.dialog) {\r\n    const { type: dialogType, text, form, title } = action.dialog;\r\n    const dialog = Modal[dialogType] ?? Modal.confirm;\r\n\r\n    // Generate dynamic content for destructive actions\r\n    let dialogTitle = title;\r\n    let dialogText = text;\r\n    let okButtonText = \"OK\";\r\n\r\n    if (destructive && !title) {\r\n      // Extract object type from action ID and title\r\n      const objectMap = {\r\n        delete_tasks: \"tasks\",\r\n        delete_annotations: \"annotations\",\r\n        delete_predictions: \"predictions\",\r\n        delete_reviews: \"reviews\",\r\n        delete_reviewers: \"review assignments\",\r\n        delete_annotators: \"annotator assignments\",\r\n        delete_ground_truths: \"ground truths\",\r\n      };\r\n\r\n      const objectType = objectMap[action.id] || action.title.toLowerCase().replace(\"delete \", \"\");\r\n      dialogTitle = `Delete selected ${objectType}?`;\r\n\r\n      // Convert to title case for button text\r\n      const titleCaseObject = objectType\r\n        .split(\" \")\r\n        .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\r\n        .join(\" \");\r\n      okButtonText = `Delete ${titleCaseObject}`;\r\n    }\r\n\r\n    if (destructive && !form) {\r\n      // Use standardized warning message for simple delete actions\r\n      const objectType = dialogTitle ? dialogTitle.replace(\"Delete selected \", \"\").replace(\"?\", \"\") : \"items\";\r\n      dialogText = `You are about to delete the selected ${objectType}.\\n\\nThis can't be undone.`;\r\n    }\r\n\r\n    dialog({\r\n      title: dialogTitle ? dialogTitle : destructive ? \"Destructive action\" : \"Confirm action\",\r\n      body: <DialogContent text={dialogText} form={form} formRef={formRef} store={store} action={action} />,\r\n      buttonLook: destructive ? \"negative\" : \"primary\",\r\n      okText: destructive ? okButtonText : undefined,\r\n      onOk() {\r\n        const body = formRef.current?.assembleFormData({ asJSON: true });\r\n\r\n        store.SDK.invoke(\"actionDialogOk\", action.id, { body });\r\n        store.invokeAction(action.id, { body });\r\n      },\r\n      closeOnClickOutside: false,\r\n    });\r\n  } else {\r\n    store.invokeAction(action.id);\r\n  }\r\n};\r\n\r\nexport const ActionsButton = injector(\r\n  observer(({ store, size, hasSelected, ...rest }) => {\r\n    const formRef = useRef();\r\n    const selectedCount = store.currentView.selectedCount;\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    // Use TanStack Query hook for fetching actions\r\n    const {\r\n      actions: serverActions,\r\n      isLoading,\r\n      isFetching,\r\n    } = useActions({\r\n      enabled: isOpen,\r\n      projectId: store.SDK.projectId,\r\n    });\r\n\r\n    const actions = useMemo(() => {\r\n      return [...store.availableActions, ...serverActions].filter((a) => !a.hidden).sort((a, b) => a.order - b.order);\r\n    }, [store.availableActions, serverActions]);\r\n    const actionButtons = actions.map((action) => (\r\n      <ActionButton key={action.id} action={action} parentRef={formRef} store={store} formRef={formRef} />\r\n    ));\r\n    const recordTypeLabel = isFFLOPSE3 && store.SDK.type === \"DE\" ? \"Record\" : \"Task\";\r\n\r\n    return (\r\n      <Dropdown.Trigger\r\n        content={\r\n          <Menu size=\"compact\">\r\n            {isLoading || isFetching ? (\r\n              <Menu.Item data-testid=\"loading-actions\" disabled>\r\n                Loading actions...\r\n              </Menu.Item>\r\n            ) : (\r\n              actionButtons\r\n            )}\r\n          </Menu>\r\n        }\r\n        openUpwardForShortViewport={false}\r\n        disabled={!hasSelected}\r\n        onToggle={setIsOpen}\r\n      >\r\n        <Button\r\n          size={size}\r\n          variant=\"neutral\"\r\n          look=\"outlined\"\r\n          disabled={!hasSelected}\r\n          trailing={<IconChevronDown />}\r\n          aria-label=\"Tasks Actions\"\r\n          {...rest}\r\n        >\r\n          {selectedCount > 0 ? `${selectedCount} ${recordTypeLabel}${selectedCount > 1 ? \"s\" : \"\"}` : \"Actions\"}\r\n        </Button>\r\n      </Dropdown.Trigger>\r\n    );\r\n  }),\r\n);\r\n","import React from \"react\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport \"./RadioGroup.scss\";\r\n\r\nconst RadioContext = React.createContext();\r\n\r\nexport const RadioGroup = ({ size, value, onChange, children, ...rest }) => {\r\n  const onRadioChange = (e) => {\r\n    onChange?.(e);\r\n  };\r\n\r\n  return (\r\n    <RadioContext.Provider\r\n      value={{\r\n        value,\r\n        onChange: onRadioChange,\r\n      }}\r\n    >\r\n      <div className={cn(\"radio-group-dm\").mod({ size }).toClassName()} {...rest}>\r\n        <div className={cn(\"radio-group-dm\").elem(\"buttons\").toClassName()}>{children}</div>\r\n      </div>\r\n    </RadioContext.Provider>\r\n  );\r\n};\r\n\r\nconst RadioButton = ({ value, disabled, children, ...props }) => {\r\n  const { onChange, value: currentValue } = React.useContext(RadioContext);\r\n  const checked = value === currentValue;\r\n\r\n  return (\r\n    <label {...props} className={cn(\"radio-group-dm\").elem(\"button\").mod({ checked, disabled }).toClassName()}>\r\n      <input\r\n        className={cn(\"radio-group-dm\").elem(\"input\").toClassName()}\r\n        type=\"radio\"\r\n        value={value}\r\n        checked={value === currentValue}\r\n        onChange={onChange}\r\n        disabled={disabled}\r\n      />\r\n      {children}\r\n    </label>\r\n  );\r\n};\r\n\r\nRadioGroup.Button = RadioButton;\r\n","import { inject, observer } from \"mobx-react\";\r\nimport { useEffect, useState } from \"react\";\r\n// @ts-ignore - RadioGroup is a .jsx file without types\r\nimport { RadioGroup } from \"../../Common/RadioGroup/RadioGroup\";\r\nimport { IconRows3, IconRows4 } from \"@humansignal/icons\";\r\nimport { Tooltip } from \"@humansignal/ui\";\r\n\r\n// Density constants - exported for use in other components\r\nexport const DENSITY_STORAGE_KEY = \"dm:table:density\";\r\nexport const DENSITY_COMFORTABLE = \"comfortable\" as const;\r\nexport const DENSITY_COMPACT = \"compact\" as const;\r\n\r\n// Row height values for each density\r\nexport const ROW_HEIGHT_COMFORTABLE = 70;\r\nexport const ROW_HEIGHT_COMPACT = 50;\r\n\r\nexport type Density = typeof DENSITY_COMFORTABLE | typeof DENSITY_COMPACT;\r\n\r\ninterface DensityToggleProps {\r\n  size?: \"small\" | \"medium\" | \"large\";\r\n  onChange?: (density: Density) => void;\r\n  storageKey?: string;\r\n  view?: { type: string };\r\n}\r\n\r\nconst densityInjector = inject(({ store }: any) => ({\r\n  view: store.currentView,\r\n}));\r\n\r\nexport const DensityToggle = densityInjector(\r\n  observer(({ size, onChange, storageKey, view, ...rest }: DensityToggleProps) => {\r\n    const key = storageKey ?? DENSITY_STORAGE_KEY;\r\n    const [density, setDensity] = useState<Density>(() => {\r\n      return (localStorage.getItem(key) as Density) ?? DENSITY_COMFORTABLE;\r\n    });\r\n\r\n    useEffect(() => {\r\n      localStorage.setItem(key, density);\r\n      onChange?.(density);\r\n\r\n      // Notify other components about density change\r\n      window.dispatchEvent(new CustomEvent(\"dm:density:changed\", { detail: density }));\r\n    }, [density, onChange, key]);\r\n\r\n    // Hide density toggle when in grid view\r\n    if (view?.type === \"grid\") {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <RadioGroup\r\n        size={size}\r\n        value={density}\r\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => setDensity(e.target.value as Density)}\r\n        {...rest}\r\n        style={{ \"--button-padding\": \"0 var(--spacing-tighter)\" } as React.CSSProperties}\r\n        data-testid=\"density-toggle\"\r\n      >\r\n        <Tooltip title=\"Comfortable density\">\r\n          <div>\r\n            <RadioGroup.Button\r\n              value={DENSITY_COMFORTABLE}\r\n              aria-label=\"Comfortable density\"\r\n              data-testid=\"density-comfortable\"\r\n            >\r\n              <IconRows3 />\r\n            </RadioGroup.Button>\r\n          </div>\r\n        </Tooltip>\r\n        <Tooltip title=\"Compact density\">\r\n          <div>\r\n            <RadioGroup.Button value={DENSITY_COMPACT} aria-label=\"Compact density\" data-testid=\"density-compact\">\r\n              <IconRows4 />\r\n            </RadioGroup.Button>\r\n          </div>\r\n        </Tooltip>\r\n      </RadioGroup>\r\n    );\r\n  }),\r\n);\r\n","import { inject } from \"mobx-react\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { Button, ButtonGroup } from \"@humansignal/ui\";\r\nimport { Dropdown } from \"@humansignal/ui\";\r\nimport { Toggle } from \"../../Common/Form\";\r\nimport { IconSettings, IconMinus, IconPlus } from \"@humansignal/icons\";\r\nimport debounce from \"lodash/debounce\";\r\n\r\nconst injector = inject(({ store }) => {\r\n  const view = store?.currentView;\r\n\r\n  const cols = view.fieldsAsColumns ?? [];\r\n  const hasImage = cols.some(({ type }) => type === \"Image\") ?? false;\r\n\r\n  return {\r\n    view,\r\n    isGrid: view.type === \"grid\",\r\n    gridWidth: view?.gridWidth,\r\n    fitImagesToWidth: view?.gridFitImagesToWidth,\r\n    hasImage,\r\n  };\r\n});\r\n\r\nexport const GridWidthButton = injector(({ view, isGrid, gridWidth, fitImagesToWidth, hasImage, size }) => {\r\n  const [width, setWidth] = useState(gridWidth);\r\n\r\n  const setGridWidthStore = debounce((value) => {\r\n    view.setGridWidth(value);\r\n  }, 200);\r\n\r\n  const setGridWidth = useCallback(\r\n    (width) => {\r\n      const newWidth = Math.max(1, Math.min(width, 10));\r\n\r\n      setWidth(newWidth);\r\n      setGridWidthStore(newWidth);\r\n    },\r\n    [view],\r\n  );\r\n\r\n  const handleFitImagesToWidthToggle = useCallback(\r\n    (e) => {\r\n      view.setFitImagesToWidth(e.target.checked);\r\n    },\r\n    [view],\r\n  );\r\n\r\n  return isGrid ? (\r\n    <Dropdown.Trigger\r\n      content={\r\n        <div className=\"p-tight min-w-wide space-y-base\">\r\n          <div className=\"grid grid-cols-[1fr_min-content] gap-base items-center\">\r\n            <span>Columns: {width}</span>\r\n            <ButtonGroup collapsed={false}>\r\n              <Button\r\n                onClick={() => setGridWidth(width - 1)}\r\n                disabled={width === 1}\r\n                variant=\"neutral\"\r\n                look=\"outlined\"\r\n                leading={<IconMinus />}\r\n                size=\"small\"\r\n                aria-label=\"Decrease columns number\"\r\n              />\r\n              <Button\r\n                onClick={() => setGridWidth(width + 1)}\r\n                disabled={width === 10}\r\n                variant=\"neutral\"\r\n                look=\"outlined\"\r\n                leading={<IconPlus />}\r\n                size=\"small\"\r\n                aria-label=\"Increase columns number\"\r\n              />\r\n            </ButtonGroup>\r\n          </div>\r\n          {hasImage && (\r\n            <div className=\"grid grid-cols-[1fr_min-content] gap-base items-center\">\r\n              <span>Fit images to width</span>\r\n              <Toggle checked={fitImagesToWidth} onChange={handleFitImagesToWidthToggle} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      }\r\n    >\r\n      <Button size={size} variant=\"neutral\" look=\"outlined\" aria-label=\"Grid settings\">\r\n        <IconSettings />\r\n      </Button>\r\n    </Dropdown.Trigger>\r\n  ) : null;\r\n});\r\n","import { inject } from \"mobx-react\";\r\nimport { Button, ButtonGroup } from \"@humansignal/ui\";\r\nimport { Interface } from \"../../Common/Interface\";\r\nimport { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { IconChevronDown } from \"@humansignal/icons\";\r\nimport { Dropdown } from \"@humansignal/ui\";\r\nimport { Menu } from \"../../Common/Menu/Menu\";\r\n\r\nconst injector = inject(({ store }) => {\r\n  const { dataStore, currentView } = store;\r\n  const totalTasks = store.project?.task_count ?? store.project?.task_number ?? 0;\r\n  const foundTasks = dataStore?.total ?? 0;\r\n\r\n  return {\r\n    store,\r\n    canLabel: totalTasks > 0 || foundTasks > 0,\r\n    target: currentView?.target ?? \"tasks\",\r\n    selectedCount: currentView?.selectedCount,\r\n    allSelected: currentView?.allSelected,\r\n  };\r\n});\r\n\r\nexport const LabelButton = injector(({ store, canLabel, size, target, selectedCount }) => {\r\n  const disabled = target === \"annotations\";\r\n  const triggerRef = useRef();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleClickOutside = useCallback((e) => {\r\n    const el = triggerRef.current;\r\n\r\n    if (el && !el.contains(e.target)) {\r\n      setIsOpen(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClickOutside, { capture: true });\r\n\r\n    return () => {\r\n      document.removeEventListener(\"click\", handleClickOutside, {\r\n        capture: true,\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  const onLabelAll = () => {\r\n    localStorage.setItem(\"dm:labelstream:mode\", \"all\");\r\n    store.startLabelStream();\r\n  };\r\n\r\n  const onLabelVisible = () => {\r\n    localStorage.setItem(\"dm:labelstream:mode\", \"filtered\");\r\n    store.startLabelStream();\r\n  };\r\n\r\n  const triggerStyle = {\r\n    width: 24,\r\n    padding: 0,\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    borderBottomRightRadius: isOpen ? 0 : undefined,\r\n    boxShadow: \"none\",\r\n  };\r\n\r\n  const primaryStyle = {\r\n    width: 160,\r\n    padding: 0,\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    borderBottomLeftRadius: isOpen ? 0 : undefined,\r\n  };\r\n\r\n  const secondStyle = {\r\n    width: triggerStyle.width + primaryStyle.width,\r\n    padding: 0,\r\n    display: isOpen ? \"flex\" : \"none\",\r\n    position: \"absolute\",\r\n    zIndex: 10,\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 0,\r\n  };\r\n\r\n  selectedCount;\r\n\r\n  return canLabel ? (\r\n    <Interface name=\"labelButton\">\r\n      <div>\r\n        <ButtonGroup>\r\n          <Button\r\n            size={size ?? \"small\"}\r\n            variant=\"primary\"\r\n            look=\"outlined\"\r\n            disabled={disabled}\r\n            style={primaryStyle}\r\n            onClick={onLabelAll}\r\n          >\r\n            Label {selectedCount ? selectedCount : \"All\"} Task\r\n            {!selectedCount || selectedCount > 1 ? \"s\" : \"\"}\r\n          </Button>\r\n          <Dropdown.Trigger\r\n            alignment=\"bottom-right\"\r\n            content={\r\n              <Menu size=\"compact\">\r\n                <Menu.Item onClick={onLabelVisible}>Label Tasks As Displayed</Menu.Item>\r\n              </Menu>\r\n            }\r\n          >\r\n            <Button size={size} look=\"outlined\" variant=\"primary\" aria-label={\"Toggle open\"}>\r\n              <IconChevronDown />\r\n            </Button>\r\n          </Dropdown.Trigger>\r\n        </ButtonGroup>\r\n      </div>\r\n    </Interface>\r\n  ) : null;\r\n});\r\n","import Running64 from \"!!url-loader!./Running-64.gif\";\r\nimport Running64x2 from \"!!url-loader!./Running-64@2x.gif\";\r\n\r\nconst sizes = {\r\n  default: {\r\n    x1: Running64,\r\n    x2: Running64x2,\r\n  },\r\n};\r\n\r\nexport default sizes;\r\n","export default \"data:image/gif;base64,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\"","export default \"data:image/gif;base64,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\"","import { inject } from \"mobx-react\";\r\nimport React from \"react\";\r\nimport Running from \"../../assets/running\";\r\n\r\nconst injector = inject(({ store }) => {\r\n  return {\r\n    SDK: store?.SDK,\r\n  };\r\n});\r\n\r\nexport const Spinner = injector(({ SDK, visible = true, ...props }) => {\r\n  const size = React.useMemo(() => {\r\n    switch (props.size) {\r\n      case \"large\":\r\n        return SDK?.spinnerSize?.large ?? 128;\r\n      case \"middle\":\r\n        return SDK?.spinnerSize?.middle ?? 48;\r\n      case \"small\":\r\n        return SDK?.spinnerSize?.small ?? 24;\r\n      default:\r\n        return SDK?.spinnerSize?.middle ?? 48;\r\n    }\r\n  }, [props.size]);\r\n\r\n  const source = Running.default;\r\n\r\n  const videoStyles = {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    objectFit: \"contain\",\r\n  };\r\n\r\n  const ExternalSpinner = SDK?.spinner;\r\n\r\n  return visible ? (\r\n    <div\r\n      {...props}\r\n      style={{ width: size, height: size }}\r\n      children={\r\n        <div style={{ width: \"100%\", height: \"100%\" }}>\r\n          {ExternalSpinner ? (\r\n            <ExternalSpinner size={size} />\r\n          ) : (\r\n            <img\r\n              src={source.x1}\r\n              srcSet={[`${source.x1} 1x`, `${source.x2} 2x`].join(\",\")}\r\n              style={videoStyles}\r\n              alt=\"opossum loader\"\r\n            />\r\n          )}\r\n        </div>\r\n      }\r\n    />\r\n  ) : null;\r\n});\r\n","import { inject } from \"mobx-react\";\r\nimport { Spinner } from \"../../Common/Spinner\";\r\n\r\nconst injector = inject(({ store }) => {\r\n  const { dataStore, currentView } = store;\r\n\r\n  return {\r\n    loading: dataStore?.loading || currentView?.locked,\r\n  };\r\n});\r\n\r\nexport const LoadingPossum = injector(({ loading }) => {\r\n  return <Spinner size=\"small\" visible={loading} />;\r\n});\r\n","import { IconSortDown, IconSortUp } from \"@humansignal/icons\";\r\nimport { Button, ButtonGroup, EnterpriseBadge } from \"@humansignal/ui\";\r\nimport { inject } from \"mobx-react\";\r\nimport { FieldsButton } from \"../../Common/FieldsButton\";\r\nimport { Space } from \"../../Common/Space/Space\";\r\n\r\nconst injector = inject(({ store }) => {\r\n  const view = store?.currentView;\r\n\r\n  return {\r\n    view,\r\n    ordering: view?.currentOrder,\r\n  };\r\n});\r\n\r\nexport const OrderButton = injector(({ size, ordering, view, ...rest }) => {\r\n  return (\r\n    <Space style={{ fontSize: 12 }}>\r\n      <ButtonGroup collapsed {...rest}>\r\n        <FieldsButton\r\n          size={size}\r\n          style={{ minWidth: 67, textAlign: \"left\", marginRight: -1 }}\r\n          title={ordering ? ordering.column?.title : \"Order by\"}\r\n          onClick={(col) => view.setOrdering(col.id)}\r\n          onReset={() => view.setOrdering(null)}\r\n          resetTitle=\"Default\"\r\n          selected={ordering?.field}\r\n          filter={(col) => {\r\n            return col.orderable ?? col.original?.orderable;\r\n          }}\r\n          wrapper={({ column, children, enterpriseBadge }) => (\r\n            <Space style={{ width: \"100%\", justifyContent: \"space-between\" }}>\r\n              {children}\r\n\r\n              <div className=\"flex items-center gap-tight\">\r\n                {enterpriseBadge && <EnterpriseBadge ghost />}\r\n                {column?.icon && <div className=\"w-6 h-6 flex items-center justify-center\">{column.icon}</div>}\r\n              </div>\r\n            </Space>\r\n          )}\r\n          openUpwardForShortViewport={false}\r\n        />\r\n\r\n        <Button\r\n          size={size}\r\n          look=\"outlined\"\r\n          variant=\"neutral\"\r\n          disabled={!!ordering === false}\r\n          onClick={() => view.setOrdering(ordering?.field)}\r\n          aria-label={ordering?.desc ? \"Sort ascending\" : \"Sort descending\"}\r\n        >\r\n          {ordering?.desc ? <IconSortUp /> : <IconSortDown />}\r\n        </Button>\r\n      </ButtonGroup>\r\n    </Space>\r\n  );\r\n});\r\n","import { inject } from \"mobx-react\";\r\nimport { IconRefresh } from \"@humansignal/icons\";\r\nimport { Button } from \"@humansignal/ui\";\r\n\r\nconst injector = inject(({ store }) => {\r\n  return {\r\n    store,\r\n    needsDataFetch: store.needsDataFetch,\r\n    projectFetch: store.projectFetch,\r\n  };\r\n});\r\n\r\nexport const RefreshButton = injector(({ store, needsDataFetch, projectFetch, size, style, ...rest }) => {\r\n  return (\r\n    <Button\r\n      size={size ?? \"small\"}\r\n      look={needsDataFetch ? \"filled\" : \"outlined\"}\r\n      variant={needsDataFetch ? \"primary\" : \"neutral\"}\r\n      waiting={projectFetch}\r\n      aria-label=\"Refresh data\"\r\n      onClick={async () => {\r\n        await store.fetchProject({ force: true, interaction: \"refresh\" });\r\n        await store.currentView?.reload();\r\n      }}\r\n    >\r\n      <IconRefresh />\r\n    </Button>\r\n  );\r\n});\r\n","import { inject, observer } from \"mobx-react\";\r\nimport { RadioGroup } from \"../../Common/RadioGroup/RadioGroup\";\r\nimport { IconGrid, IconList } from \"@humansignal/icons\";\r\nimport { Tooltip } from \"@humansignal/ui\";\r\n\r\nconst viewInjector = inject(({ store }) => ({\r\n  view: store.currentView,\r\n}));\r\n\r\nexport const ViewToggle = viewInjector(\r\n  observer(({ view, size, ...rest }) => {\r\n    return (\r\n      <RadioGroup\r\n        size={size}\r\n        value={view.type}\r\n        onChange={(e) => view.setType(e.target.value)}\r\n        {...rest}\r\n        style={{ \"--button-padding\": \"0 var(--spacing-tighter)\" }}\r\n      >\r\n        <Tooltip title=\"List view\">\r\n          <div>\r\n            <RadioGroup.Button value=\"list\" aria-label=\"Switch to list view\">\r\n              <IconList />\r\n            </RadioGroup.Button>\r\n          </div>\r\n        </Tooltip>\r\n        <Tooltip title=\"Grid view\">\r\n          <div>\r\n            <RadioGroup.Button value=\"grid\" aria-label=\"Switch to grid view\">\r\n              <IconGrid />\r\n            </RadioGroup.Button>\r\n          </div>\r\n        </Tooltip>\r\n      </RadioGroup>\r\n    );\r\n  }),\r\n);\r\n\r\nexport const DataStoreToggle = viewInjector(({ view, size, ...rest }) => {\r\n  return (\r\n    <RadioGroup value={view.target} size={size} onChange={(e) => view.setTarget(e.target.value)} {...rest}>\r\n      <RadioGroup.Button value=\"tasks\">Tasks</RadioGroup.Button>\r\n      <RadioGroup.Button value=\"annotations\" disabled>\r\n        Annotations\r\n      </RadioGroup.Button>\r\n    </RadioGroup>\r\n  );\r\n});\r\n","import { IconChevronDown } from \"@humansignal/icons\";\r\nimport { isStarterCloudPlan } from \"@humansignal/core\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { ErrorBox } from \"../../Common/ErrorBox\";\r\nimport { FieldsButton } from \"../../Common/FieldsButton\";\r\nimport { FiltersPane } from \"../../Common/FiltersPane\";\r\nimport { Icon } from \"../../Common/Icon/Icon\";\r\nimport { Interface } from \"../../Common/Interface\";\r\nimport { ExportButton, ImportButton } from \"../../Common/SDKButtons\";\r\nimport { Tooltip } from \"@humansignal/ui\";\r\nimport { ActionsButton } from \"./ActionsButton\";\r\nimport { DensityToggle } from \"./DensityToggle\";\r\nimport { GridWidthButton } from \"./GridWidthButton\";\r\nimport { LabelButton } from \"./LabelButton\";\r\nimport { LoadingPossum } from \"./LoadingPossum\";\r\nimport { OrderButton } from \"./OrderButton\";\r\nimport { RefreshButton } from \"./RefreshButton\";\r\nimport { ViewToggle } from \"./ViewToggle\";\r\n\r\nconst style = {\r\n  minWidth: \"80px\",\r\n  justifyContent: \"space-between\",\r\n};\r\n\r\n/**\r\n * Checks for Starter Cloud trial expiration.\r\n * If expired it renders disabled Import button with a tooltip.\r\n */\r\nconst ImportButtonWithChecks = ({ size }) => {\r\n  const simpleButton = <ImportButton size={size}>Import</ImportButton>;\r\n  const isOpenSource = !window.APP_SETTINGS.billing;\r\n  // Check if user is on Starter Cloud plan\r\n  const isStarterCloud = isStarterCloudPlan();\r\n\r\n  if (isOpenSource || !isStarterCloud) return simpleButton;\r\n\r\n  // Check if user is on trial\r\n  const isTrialExpired = window.APP_SETTINGS.billing.checks?.is_license_expired;\r\n  // Check the subscription period end date\r\n  const subscriptionPeriodEnd = window.APP_SETTINGS.subscription?.current_period_end;\r\n  // Check if user is on Starter Cloud and has expired trial\r\n  const isStarterCloudExpiredTrial = isStarterCloud && isTrialExpired && !subscriptionPeriodEnd;\r\n  // Check if user is on Starter Cloud and has expired subscription\r\n  const isStarterCloudExpiredSubscription =\r\n    isStarterCloud && subscriptionPeriodEnd && new Date(subscriptionPeriodEnd) < new Date();\r\n  // Check if user is on Starter Cloud and has expired trial or subscription\r\n  const isStarterCloudExpired = isStarterCloudExpiredTrial || isStarterCloudExpiredSubscription;\r\n\r\n  if (!isStarterCloudExpired) return simpleButton;\r\n\r\n  // Disabled buttons ignore hover, so we use wrapper to properly handle a tooltip\r\n  return (\r\n    <Tooltip\r\n      title=\"You must upgrade your plan to import data\"\r\n      style={{\r\n        maxWidth: 200,\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <div className={cn(\"button-wrapper\").toClassName()}>\r\n        <ImportButton disabled size={size}>\r\n          Import\r\n        </ImportButton>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport const instruments = {\r\n  \"view-toggle\": ({ size }) => {\r\n    return <ViewToggle size={size} style={style} />;\r\n  },\r\n  \"density-toggle\": ({ size }) => {\r\n    return <DensityToggle size={size} />;\r\n  },\r\n  columns: ({ size }) => {\r\n    const iconProps = {\r\n      style: {\r\n        marginRight: 4,\r\n      },\r\n      icon: IconChevronDown,\r\n    };\r\n    return (\r\n      <FieldsButton\r\n        wrapper={FieldsButton.Checkbox}\r\n        trailingIcon={<Icon {...iconProps} />}\r\n        title={\"Columns\"}\r\n        size={size}\r\n        style={style}\r\n        openUpwardForShortViewport={false}\r\n      />\r\n    );\r\n  },\r\n  filters: ({ size }) => {\r\n    return <FiltersPane size={size} style={style} />;\r\n  },\r\n  ordering: ({ size }) => {\r\n    return <OrderButton size={size} style={style} />;\r\n  },\r\n  \"grid-size\": ({ size }) => {\r\n    return <GridWidthButton size={size} />;\r\n  },\r\n  refresh: ({ size }) => {\r\n    return <RefreshButton size={size} />;\r\n  },\r\n  \"loading-possum\": () => {\r\n    return <LoadingPossum />;\r\n  },\r\n  \"label-button\": ({ size }) => {\r\n    return <LabelButton size={size} />;\r\n  },\r\n  actions: ({ size }) => {\r\n    return <ActionsButton size={size} style={style} />;\r\n  },\r\n  \"error-box\": () => {\r\n    return <ErrorBox />;\r\n  },\r\n  \"import-button\": ({ size }) => {\r\n    return (\r\n      <Interface name=\"import\">\r\n        <ImportButtonWithChecks size={size} />\r\n      </Interface>\r\n    );\r\n  },\r\n  \"export-button\": ({ size }) => {\r\n    return (\r\n      <Interface name=\"export\">\r\n        <ExportButton size={size}>Export</ExportButton>\r\n      </Interface>\r\n    );\r\n  },\r\n};\r\n","/**\r\n * @typedef {string | {\r\n * path: string,\r\n * method: RequestMethod,\r\n * convert: ResponseConverter,\r\n * mock: (url: string, request: Request) => Dict\r\n * body: Dict,\r\n * headers: Headers,\r\n * }} EndpointConfig\r\n */\r\n\r\nimport { formDataToJPO, parseJson } from \"../helpers\";\r\nimport statusCodes from \"./status-codes.json\";\r\nimport { queryClient, shouldBypassCache } from \"@humansignal/core/lib/utils/query-client\";\r\n\r\n/**\r\n * @typedef {Dict<string, EndpointConfig>} Endpoints\r\n */\r\n\r\n/**\r\n * @typedef {{\r\n * gateway: string | URL,\r\n * endpoints: Dict<EndpointConfig>,\r\n * commonHeaders: Dict<string>,\r\n * mockDelay: number,\r\n * mockDisabled: boolean,\r\n * sharedParams: Dict<any>,\r\n * alwaysExpectJSON: boolean,\r\n * }} APIProxyOptions\r\n */\r\n\r\n/**\r\n * Proxy layer for any type of API's\r\n */\r\nexport class APIProxy {\r\n  /** @type {string} */\r\n  gateway = null;\r\n\r\n  /** @type {Dict<string>} */\r\n  commonHeaders = {};\r\n\r\n  /** @type {number} */\r\n  mockDelay = 0;\r\n\r\n  /** @type {boolean} */\r\n  mockDisabled = false;\r\n\r\n  /** @type {\"same-origin\"|\"cors\"} */\r\n  requestMode = \"same-origin\";\r\n\r\n  /** @type {Dict} */\r\n  sharedParams = {};\r\n\r\n  /**\r\n   * Constructor\r\n   * @param {APIProxyOptions} options\r\n   */\r\n  constructor(options) {\r\n    this.commonHeaders = options.commonHeaders ?? {};\r\n    this.gateway = this.resolveGateway(options.gateway);\r\n    this.requestMode = this.detectMode();\r\n    this.mockDelay = options.mockDelay ?? 0;\r\n    this.mockDisabled = options.mockDisabled ?? false;\r\n    this.sharedParams = options.sharedParams ?? {};\r\n    this.alwaysExpectJSON = options.alwaysExpectJSON ?? true;\r\n    this.endpoints = options.endpoints;\r\n\r\n    this.resolveMethods(options.endpoints);\r\n  }\r\n\r\n  call(method, { params, body, headers }) {\r\n    if (this.isValidMethod(method)) {\r\n      return this[method](params ?? {}, { body, headers });\r\n    }\r\n    console.warn(`Unknown API method \"${method}\"`);\r\n  }\r\n\r\n  /**\r\n   * Check if method exists\r\n   * @param {String} method\r\n   */\r\n  isValidMethod(method) {\r\n    return this[method] instanceof Function;\r\n  }\r\n\r\n  /**\r\n   * Resolves gateway to a full URL\r\n   * @returns {string}\r\n   */\r\n  resolveGateway(url) {\r\n    if (url instanceof URL) {\r\n      return url.toString();\r\n    }\r\n\r\n    try {\r\n      return new URL(url).toString();\r\n    } catch (e) {\r\n      const gateway = new URL(window.location.href);\r\n\r\n      gateway.search = \"\";\r\n      gateway.hash = \"\";\r\n\r\n      if (url[0] === \"/\") {\r\n        gateway.pathname = url.replace(/([/])$/, \"\");\r\n      } else {\r\n        gateway.pathname = `${gateway.pathname}/${url}`.replace(/([/]+)/g, \"/\").replace(/([/])$/, \"\");\r\n      }\r\n\r\n      return gateway.toString();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Detect RequestMode.\r\n   * @returns {\"same-origin\"|\"cors\"}\r\n   */\r\n  detectMode() {\r\n    const currentOrigin = window.location.origin;\r\n    const gatewayOrigin = new URL(this.gateway).origin;\r\n\r\n    return currentOrigin === gatewayOrigin ? \"same-origin\" : \"cors\";\r\n  }\r\n\r\n  /**\r\n   * Build methods list from endpoints\r\n   * @private\r\n   */\r\n  resolveMethods(endpoints, parentPath) {\r\n    if (endpoints) {\r\n      const methods = new Map(Object.entries(endpoints));\r\n\r\n      methods.forEach((settings, methodName) => {\r\n        const { scope, ...restSettings } = this.getSettings(settings);\r\n\r\n        Object.defineProperty(this, methodName, {\r\n          value: this.createApiCallExecutor(restSettings, [parentPath]),\r\n        });\r\n\r\n        Object.defineProperty(this, `${methodName}Raw`, {\r\n          value: this.createApiCallExecutor(restSettings, [parentPath], true),\r\n        });\r\n\r\n        if (scope) this.resolveMethods(scope, [...(parentPath ?? []), restSettings.path]);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Actual API call\r\n   * @param {EndpointConfig} settings\r\n   * @private\r\n   */\r\n  createApiCallExecutor(methodSettings, parentPath, raw = false) {\r\n    return async (urlParams, { headers, body, options } = {}) => {\r\n      let responseResult;\r\n      let responseMeta;\r\n      const alwaysExpectJSON = options?.alwaysExpectJSON === undefined ? true : options.alwaysExpectJSON;\r\n\r\n      /**\r\n       * Object to be used to control the cache for the request\r\n       * @type {Object}\r\n       * @property {number} [staleTime]\r\n       * @property {string} [keyPrefix]\r\n       */\r\n      let queryCacheParams = null;\r\n      try {\r\n        const finalParams = {\r\n          ...(methodSettings.params ?? {}),\r\n          ...(urlParams ?? {}),\r\n          ...(this.sharedParams ?? {}),\r\n        };\r\n\r\n        const { __useQueryCache, ...paramsForRequest } = finalParams;\r\n\r\n        if (__useQueryCache) {\r\n          queryCacheParams = {\r\n            staleTime: __useQueryCache.staleTime ?? undefined,\r\n            keyPrefix: __useQueryCache.prefixKey ?? methodSettings.path,\r\n          };\r\n        }\r\n\r\n        const { method, url: apiCallURL } = this.createUrl(\r\n          methodSettings.path,\r\n          paramsForRequest,\r\n          parentPath,\r\n          methodSettings.gateway,\r\n        );\r\n\r\n        const requestMethod = method ?? (methodSettings.method ?? \"get\").toUpperCase();\r\n\r\n        const initialheaders = Object.assign(\r\n          this.getDefaultHeaders(requestMethod),\r\n          this.commonHeaders ?? {},\r\n          methodSettings.headers ?? {},\r\n          headers ?? {},\r\n        );\r\n\r\n        const requestHeaders = new Headers(initialheaders);\r\n\r\n        const requestParams = {\r\n          method: requestMethod,\r\n          headers: requestHeaders,\r\n          mode: this.requestMode,\r\n          credentials: this.requestMode === \"cors\" ? \"omit\" : \"same-origin\",\r\n        };\r\n\r\n        // Helper to perform the actual fetch (mock or real)\r\n        const doFetch = async () => {\r\n          if (requestMethod !== \"GET\" && requestMethod !== \"HEAD\") {\r\n            const contentType = requestHeaders.get(\"Content-Type\");\r\n            const { sharedParams } = this;\r\n            const extendedBody = body ?? {};\r\n\r\n            if (extendedBody instanceof FormData) {\r\n              Object.entries(sharedParams ?? {}).forEach(([key, value]) => {\r\n                extendedBody.append(key, value);\r\n              });\r\n            } else {\r\n              Object.assign(extendedBody, {\r\n                ...(sharedParams ?? {}),\r\n                ...(body ?? {}),\r\n              });\r\n            }\r\n\r\n            if (extendedBody instanceof FormData) {\r\n              requestParams.body = extendedBody;\r\n            } else if (contentType === \"multipart/form-data\") {\r\n              requestParams.body = this.createRequestBody(extendedBody);\r\n            } else if (contentType === \"application/json\") {\r\n              requestParams.body = this.bodyToJSON(extendedBody);\r\n            } else {\r\n              requestParams.body = extendedBody;\r\n            }\r\n\r\n            // @todo better check for files maybe?\r\n            if (contentType === \"multipart/form-data\") {\r\n              // fetch will set correct header with boundaries\r\n              requestHeaders.delete(\"Content-Type\");\r\n            }\r\n          }\r\n\r\n          /** @type {Response} */\r\n          let rawResponse;\r\n\r\n          if (methodSettings.mock && process.env.NODE_ENV === \"development\" && !this.mockDisabled) {\r\n            rawResponse = await this.mockRequest(apiCallURL, urlParams, requestParams, methodSettings);\r\n          } else {\r\n            rawResponse = await fetch(apiCallURL, requestParams);\r\n          }\r\n\r\n          if (raw || rawResponse.isCanceled) return rawResponse;\r\n\r\n          responseMeta = {\r\n            headers: new Map(Array.from(rawResponse.headers)),\r\n            status: rawResponse.status,\r\n            url: rawResponse.url,\r\n          };\r\n\r\n          if (rawResponse.ok && rawResponse.status !== 401) {\r\n            const responseText = await rawResponse.text();\r\n\r\n            try {\r\n              const responseData =\r\n                rawResponse.status !== 204\r\n                  ? parseJson(this.alwaysExpectJSON && alwaysExpectJSON ? responseText : responseText || \"{}\")\r\n                  : { ok: true };\r\n\r\n              if (methodSettings.convert instanceof Function) {\r\n                const convertedData = await methodSettings.convert(responseData);\r\n\r\n                return convertedData;\r\n              }\r\n\r\n              responseResult = responseData;\r\n            } catch (err) {\r\n              responseResult = this.generateException(err, responseText);\r\n            }\r\n          } else {\r\n            responseResult = await this.generateError(rawResponse);\r\n          }\r\n\r\n          Object.defineProperty(responseResult, \"$meta\", {\r\n            value: responseMeta,\r\n            configurable: false,\r\n            enumerable: false,\r\n            writable: false,\r\n          });\r\n\r\n          return responseResult;\r\n        };\r\n\r\n        // Use TanStack Query cache for GET requests only if queryCacheParams is present\r\n        if (requestMethod === \"GET\" && queryCacheParams) {\r\n          const cacheKey = [queryCacheParams.keyPrefix, paramsForRequest];\r\n          return queryClient.fetchQuery({\r\n            queryKey: cacheKey,\r\n            queryFn: doFetch,\r\n            staleTime: shouldBypassCache ? undefined : queryCacheParams.staleTime,\r\n          });\r\n        }\r\n        // Non-GET requests or no __useQueryCache: no cache\r\n        return doFetch();\r\n      } catch (exception) {\r\n        responseResult = this.generateException(exception);\r\n      }\r\n\r\n      return responseResult;\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Retrieve method-specific settings\r\n   * @private\r\n   * @param {EndpointConfig} settings\r\n   * @returns {EndpointConfig}\r\n   */\r\n  getSettings(settings) {\r\n    if (typeof settings === \"string\") {\r\n      settings = {\r\n        path: settings,\r\n      };\r\n    }\r\n\r\n    return {\r\n      method: \"GET\",\r\n      mock: undefined,\r\n      convert: undefined,\r\n      scope: undefined,\r\n      ...settings,\r\n    };\r\n  }\r\n\r\n  getSettingsByMethodName(methodName) {\r\n    return this.endpoints && methodName && this.endpoints[methodName];\r\n  }\r\n\r\n  getDefaultHeaders(method) {\r\n    switch (method) {\r\n      case \"POST\":\r\n      case \"PATCH\":\r\n      case \"DELETE\": {\r\n        return {\r\n          \"Content-Type\": \"application/json\",\r\n        };\r\n      }\r\n      default:\r\n        return {};\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Creates a URL from gateway + endpoint path + params\r\n   * @param {string} path\r\n   * @param {Dict} data\r\n   * @private\r\n   */\r\n  createUrl(endpoint, data = {}, parentPath, gateway) {\r\n    const url = new URL(gateway ? this.resolveGateway(gateway) : this.gateway);\r\n    const usedKeys = [];\r\n\r\n    const { path: resolvedPath, method: resolvedMethod } = this.resolveEndpoint(endpoint, data);\r\n\r\n    const path = []\r\n      .concat(...(parentPath ?? []), resolvedPath)\r\n      .filter((p) => p !== undefined)\r\n      .join(\"/\")\r\n      .replace(/([/]+)/g, \"/\");\r\n\r\n    const processedPath = path.replace(/:([^/]+)/g, (...res) => {\r\n      const keyRaw = res[1];\r\n      const [key, optional] = keyRaw.match(/([^?]+)(\\??)/).slice(1, 3);\r\n      const result = data[key];\r\n\r\n      usedKeys.push(key);\r\n\r\n      if (result === undefined) {\r\n        if (optional === \"?\") return \"\";\r\n        throw new Error(`Can't find key \\`${key}\\` in data [${path}]`);\r\n      }\r\n\r\n      return result;\r\n    });\r\n\r\n    url.pathname += processedPath.replace(/\\/+/g, \"/\").replace(/\\/+$/g, \"\");\r\n\r\n    if (data && typeof data === \"object\") {\r\n      Object.entries(data).forEach(([key, value]) => {\r\n        if (!usedKeys.includes(key)) {\r\n          url.searchParams.set(key, value);\r\n        }\r\n      });\r\n    }\r\n\r\n    return {\r\n      url: url.toString(),\r\n      method: resolvedMethod,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Resolves an endpoint\r\n   * @param {string|Function} endpoint\r\n   * @param {Dict} data\r\n   */\r\n  resolveEndpoint(endpoint, data) {\r\n    let finalEndpoint;\r\n\r\n    if (endpoint instanceof Function) {\r\n      finalEndpoint = endpoint(data);\r\n    } else {\r\n      finalEndpoint = endpoint;\r\n    }\r\n\r\n    const methodRegexp = /^(GET|POST|PATCH|DELETE|PUT|HEAD|OPTIONS):/;\r\n    const method = finalEndpoint.match(methodRegexp)?.[1];\r\n    const path = finalEndpoint.replace(methodRegexp, \"\");\r\n\r\n    return { method, path };\r\n  }\r\n\r\n  /**\r\n   * Create FormData object from raw JS object\r\n   * @private\r\n   * @param {Dict} body\r\n   */\r\n  createRequestBody(body) {\r\n    if (body instanceof FormData) return body;\r\n\r\n    const formData = new FormData();\r\n\r\n    Object.entries(body).forEach(([key, value]) => {\r\n      formData.append(key, value);\r\n    });\r\n\r\n    return formData;\r\n  }\r\n\r\n  /**\r\n   * Converts body to JSON string\r\n   * @param {Object|FormData} body\r\n   */\r\n  bodyToJSON(body) {\r\n    const object = formDataToJPO(body);\r\n\r\n    return JSON.stringify(object);\r\n  }\r\n\r\n  /**\r\n   * Generates an error from a Response object\r\n   * @param {Response} fetchResponse\r\n   * @private\r\n   */\r\n  async generateError(fetchResponse, exception) {\r\n    const result = (async () => {\r\n      const text = await fetchResponse.text();\r\n\r\n      try {\r\n        return JSON.parse(text);\r\n      } catch (e) {\r\n        return text;\r\n      }\r\n    })();\r\n\r\n    return {\r\n      status: fetchResponse.status,\r\n      error: exception?.message ?? statusCodes[fetchResponse.status.toString()],\r\n      response: await result,\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Generates an error from a caught exception\r\n   * @param {Error} exception\r\n   * @private\r\n   */\r\n  generateException(exception, details) {\r\n    console.error(exception);\r\n    const parsedDetails = () => {\r\n      try {\r\n        return JSON.parse(details);\r\n      } catch (e) {\r\n        return details;\r\n      }\r\n    };\r\n\r\n    return {\r\n      error: exception.message,\r\n      details: parsedDetails(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Emulate server call\r\n   * @param {string} url\r\n   * @param {Request} params\r\n   * @param {EndpointConfig} settings\r\n   */\r\n  mockRequest(url, params, request, settings) {\r\n    return new Promise(async (resolve) => {\r\n      let response = null;\r\n      let ok = true;\r\n\r\n      try {\r\n        const fakeRequest = new Request(request);\r\n\r\n        if (typeof request.body === \"string\") {\r\n          fakeRequest.body = JSON.parse(request.body);\r\n        }\r\n\r\n        response = await settings.mock(url, params ?? {}, fakeRequest);\r\n      } catch (err) {\r\n        console.error(err);\r\n        ok = false;\r\n      }\r\n\r\n      setTimeout(() => {\r\n        resolve({\r\n          ok,\r\n          json() {\r\n            return Promise.resolve(response);\r\n          },\r\n          text() {\r\n            return typeof response === \"string\" ? response : JSON.stringify(response);\r\n          },\r\n          headers: {},\r\n          status: 200,\r\n        });\r\n      }, this.mockDelay);\r\n    });\r\n  }\r\n}\r\n","/** @type {import(\"../utils/api-proxy\").APIProxyOptions} */\r\nexport const APIConfig = {\r\n  gateway: \"/api/dm\",\r\n  endpoints: {\r\n    /** Project base info */\r\n    project: \"/project\",\r\n\r\n    /** users list */\r\n    users: \"/../users\",\r\n\r\n    /** user info */\r\n    user: \"/../users/:pk\",\r\n\r\n    /** Available columns/fields of the dataset */\r\n    columns: \"/columns\",\r\n\r\n    /** Tabs (materialized views) */\r\n    tabs: \"/views\",\r\n\r\n    /** Single tab */\r\n    tab: \"/views/:tabId\",\r\n\r\n    /** Creates a new tab */\r\n    createTab: {\r\n      path: \"/views\",\r\n      method: \"post\",\r\n    },\r\n\r\n    /** Update particular tab (PATCH) */\r\n    updateTab: {\r\n      path: \"/views/:tabID\",\r\n      method: \"patch\",\r\n    },\r\n\r\n    orderTab: {\r\n      path: \"/views/order/\",\r\n      method: \"post\",\r\n    },\r\n\r\n    /** Delete particular tab (DELETE) */\r\n    deleteTab: {\r\n      path: \"/views/:tabID\",\r\n      method: \"delete\",\r\n    },\r\n\r\n    userLabelsForProject: \"/../label_links\",\r\n    saveUserLabels: {\r\n      path: \"/../labels\",\r\n      method: \"post\",\r\n    },\r\n\r\n    /** List of tasks (samples) in the dataset */\r\n    tasks: \"/tasks\",\r\n\r\n    /** List of task history */\r\n    taskHistory: \"/../projects/:projectId/label-stream-history\",\r\n\r\n    /** Per-task annotations (annotations, predictions) */\r\n    annotations: \"/views/:tabID/annotations\",\r\n\r\n    /** Single task (sample) */\r\n    task: \"/tasks/:taskID\",\r\n\r\n    /** Next task (labelstream, default sequential) */\r\n    nextTask: \"/tasks/next\",\r\n\r\n    /** Single annotation */\r\n    annotation: \"/tasks/:taskID/annotations/:id\",\r\n\r\n    /** Presign url */\r\n    presignUrlForTask: \"/../../tasks/:taskID/presign\",\r\n\r\n    /** Presign url outside of task context */\r\n    presignUrlForProject: \"/../../projects/:projectId/presign\",\r\n\r\n    /** Submit annotation */\r\n    submitAnnotation: {\r\n      path: \"/../tasks/:taskID/annotations\",\r\n      method: \"post\",\r\n    },\r\n\r\n    /** Update annotation */\r\n    updateAnnotation: {\r\n      path: \"/../annotations/:annotationID\",\r\n      method: \"patch\",\r\n    },\r\n\r\n    /** Delete annotation */\r\n    deleteAnnotation: {\r\n      path: \"/../annotations/:annotationID\",\r\n      method: \"delete\",\r\n    },\r\n\r\n    /** Task drafts */\r\n    taskDrafts: \"/../tasks/:taskID/drafts\",\r\n\r\n    /** Update draft by id */\r\n    updateDraft: {\r\n      path: \"/../drafts/:draftID\",\r\n      method: \"patch\",\r\n    },\r\n\r\n    /** Delete draft by id */\r\n    deleteDraft: {\r\n      path: \"/../drafts/:draftID\",\r\n      method: \"delete\",\r\n    },\r\n\r\n    /** Create draft for existing annotation */\r\n    createDraftForAnnotation: {\r\n      path: \"/../tasks/:taskID/annotations/:annotationID/drafts\",\r\n      method: \"post\",\r\n    },\r\n\r\n    /** Create draft for new annotation */\r\n    createDraftForTask: {\r\n      path: \"/../tasks/:taskID/drafts\",\r\n      method: \"post\",\r\n    },\r\n\r\n    /** Convert an annotation to draft */\r\n    convertToDraft: {\r\n      path: \"/../annotations/:annotationID/convert-to-draft\",\r\n      method: \"post\",\r\n    },\r\n\r\n    /** Override selected items list (checkboxes) */\r\n    setSelectedItems: {\r\n      path: \"/views/:tabID/selected-items\",\r\n      method: \"post\",\r\n    },\r\n\r\n    /** Add item to the current selection */\r\n    addSelectedItem: {\r\n      path: \"/views/:tabID/selected-items\",\r\n      method: \"patch\",\r\n    },\r\n\r\n    /** List of available actions */\r\n    actions: \"/actions\",\r\n\r\n    /** Get action form */\r\n    actionForm: \"/actions/:actionId/form\",\r\n\r\n    /** Subtract item from the current selection */\r\n    deleteSelectedItem: {\r\n      path: \"/views/:tabID/selected-items\",\r\n      method: \"delete\",\r\n    },\r\n\r\n    /** Invoke a particular action */\r\n    invokeAction: {\r\n      path: \"/actions\",\r\n      method: \"post\",\r\n    },\r\n\r\n    /** List comments ?annotation=<annotation_id> **/\r\n    listComments: \"/../comments\",\r\n\r\n    /** Create a new comment **/\r\n    createComment: {\r\n      path: \"/../comments\",\r\n      method: \"post\",\r\n    },\r\n\r\n    /** Update a comment **/\r\n    updateComment: {\r\n      path: \"/../comments/:id\",\r\n      method: \"patch\",\r\n    },\r\n\r\n    /** Update a comment **/\r\n    deleteComment: {\r\n      path: \"/../comments/:id\",\r\n      method: \"delete\",\r\n    },\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"tabs-dm\":\"lsf-tabs-dm\",\"tabs-dm-content__draggable\":\"lsf-tabs-dm-content__draggable\",\"tabs-dm__droppable\":\"lsf-tabs-dm__droppable\",\"tabs-dm__list\":\"lsf-tabs-dm__list\",\"tabs-dm__item\":\"lsf-tabs-dm__item\",\"tabs-dm__item-right\":\"lsf-tabs-dm__item-right\",\"tabs-dm__item-drag\":\"lsf-tabs-dm__item-drag\",\"tabs-dm__item_active\":\"lsf-tabs-dm__item_active\",\"tabs-dm__item_virtual\":\"lsf-tabs-dm__item_virtual\",\"tabs-dm__item_menuOpen\":\"lsf-tabs-dm__item_menuOpen\",\"tabs-dm__item_edit\":\"lsf-tabs-dm__item_edit\",\"tabs-dm__item-left\":\"lsf-tabs-dm__item-left\",\"tabs-dm__item-left_edit\":\"lsf-tabs-dm__item-left_edit\",\"tabs-dm__item-right-button\":\"lsf-tabs-dm__item-right-button\",\"tabs-dm__add\":\"lsf-tabs-dm__add\",\"tabs-dm__extra\":\"lsf-tabs-dm__extra\"};","import { useMemo } from \"react\";\r\nimport { Menu } from \"../Menu/Menu\";\r\n\r\nexport const TabsMenu = ({ onClick, editable = true, closable = true, clonable = true, virtual = false }) => {\r\n  const items = useMemo(\r\n    () => [\r\n      {\r\n        key: \"edit\",\r\n        title: \"Rename\",\r\n        enabled: editable && !virtual,\r\n        action: () => onClick(\"edit\"),\r\n      },\r\n      {\r\n        key: \"duplicate\",\r\n        title: \"Duplicate\",\r\n        enabled: !virtual && clonable,\r\n        action: () => onClick(\"duplicate\"),\r\n        willLeave: true,\r\n      },\r\n      {\r\n        key: \"save\",\r\n        title: \"Save\",\r\n        enabled: virtual,\r\n        action: () => onClick(\"save\"),\r\n        willLeave: true,\r\n      },\r\n    ],\r\n    [editable, closable, clonable, virtual],\r\n  );\r\n\r\n  const showDivider = useMemo(() => closable && items.some(({ enabled }) => enabled), [items]);\r\n\r\n  return (\r\n    <Menu size=\"medium\" onClick={(e) => e.domEvent.stopPropagation()}>\r\n      {items.map((item) =>\r\n        item.enabled ? (\r\n          <Menu.Item key={item.key} onClick={item.action} data-leave={item.willLeave}>\r\n            {item.title}\r\n          </Menu.Item>\r\n        ) : null,\r\n      )}\r\n\r\n      {closable ? (\r\n        <>\r\n          {showDivider && <Menu.Divider />}\r\n          <Menu.Item onClick={() => onClick(\"close\")} data-leave>\r\n            Close\r\n          </Menu.Item>\r\n        </>\r\n      ) : null}\r\n    </Menu>\r\n  );\r\n};\r\n","import { createContext, useCallback, useContext, useEffect, useMemo, useState } from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\r\nimport { IconDragIndicator, IconEllipsisVertical, IconPlus } from \"@humansignal/icons\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { Button, Tooltip } from \"@humansignal/ui\";\r\nimport { Dropdown } from \"@humansignal/ui\";\r\nimport Input from \"../Input/Input\";\r\nimport \"./Tabs.scss\";\r\nimport { TabsMenu } from \"./TabsMenu\";\r\n\r\nconst TabsContext = createContext();\r\nexport const tabsCN = cn(\"tabs-dm\");\r\n\r\nexport const Tabs = ({\r\n  children,\r\n  activeTab,\r\n  onChange,\r\n  onAdd,\r\n  onDragEnd,\r\n  tabBarExtraContent,\r\n  allowedActions,\r\n  addIcon,\r\n}) => {\r\n  const [selectedTab, setSelectedTab] = useState(activeTab);\r\n\r\n  const switchTab = useCallback((tab) => {\r\n    setSelectedTab(tab);\r\n    onChange?.(tab);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedTab !== activeTab) setSelectedTab(activeTab);\r\n  }, [selectedTab, activeTab]);\r\n\r\n  const contextValue = useMemo(() => {\r\n    return {\r\n      switchTab,\r\n      selectedTab,\r\n      allowedActions,\r\n      lastTab: children.length === 1,\r\n    };\r\n  }, [switchTab, selectedTab, allowedActions, children.length]);\r\n\r\n  return (\r\n    <TabsContext.Provider value={contextValue}>\r\n      <div className={tabsCN.toString()}>\r\n        <div className={tabsCN.elem(\"list\").toString()} role=\"tablist\">\r\n          <DragDropContext onDragEnd={onDragEnd}>\r\n            <Droppable droppableId=\"droppable\" direction=\"horizontal\">\r\n              {(provided) => (\r\n                <div\r\n                  className={tabsCN.elem(\"droppable\").toString()}\r\n                  ref={provided.innerRef}\r\n                  {...provided.droppableProps}\r\n                >\r\n                  {children}\r\n                  {provided.placeholder}\r\n                </div>\r\n              )}\r\n            </Droppable>\r\n          </DragDropContext>\r\n          {allowedActions.add !== false && (\r\n            <Tooltip title=\"Open New Tab\">\r\n              <Button\r\n                className={tabsCN.elem(\"add\").toString()}\r\n                size=\"smaller\"\r\n                look=\"outline\"\r\n                variant=\"neutral\"\r\n                onClick={onAdd}\r\n                aria-label=\"Open New Tab\"\r\n                data-leave\r\n              >\r\n                <IconPlus width={12} height={12} aria-hidden=\"true\" />\r\n              </Button>\r\n            </Tooltip>\r\n          )}\r\n        </div>\r\n        <div className={tabsCN.elem(\"extra\").toString()}>{tabBarExtraContent}</div>\r\n      </div>\r\n    </TabsContext.Provider>\r\n  );\r\n};\r\n\r\nexport const TabsItem = observer(\r\n  ({\r\n    title,\r\n    tab,\r\n    onFinishEditing,\r\n    onCancelEditing,\r\n    onClose,\r\n    onDuplicate,\r\n    onSave,\r\n    editable = true,\r\n    deletable = true,\r\n    managable = true,\r\n    virtual = false,\r\n  }) => {\r\n    const { switchTab, selectedTab, lastTab, allowedActions } = useContext(TabsContext);\r\n    const [currentTitle, setCurrentTitle] = useState(title);\r\n    const [savedTitle, setSavedTitle] = useState(title); // Track the last saved title\r\n    const [renameMode, setRenameMode] = useState(false);\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n    const active = tab === selectedTab;\r\n\r\n    // Sync with title prop on initial mount and when prop changes\r\n    useEffect(() => {\r\n      setCurrentTitle(title);\r\n      setSavedTitle(title);\r\n    }, [title]);\r\n\r\n    const tabIsEditable = useMemo(() => editable && allowedActions.edit, [editable, allowedActions]);\r\n\r\n    const tabIsDeletable = useMemo(\r\n      () => !lastTab && deletable && allowedActions.delete,\r\n      [lastTab, deletable, allowedActions],\r\n    );\r\n\r\n    const tabIsCloneable = useMemo(\r\n      () => allowedActions.add && allowedActions.duplicate,\r\n      [allowedActions.add, allowedActions.duplicate],\r\n    );\r\n\r\n    const showMenu = useMemo(() => {\r\n      return !renameMode && managable && (tabIsEditable || tabIsDeletable || tabIsCloneable);\r\n    }, [renameMode, managable, tabIsEditable, tabIsDeletable, tabIsCloneable]);\r\n\r\n    const saveTabTitle = useCallback(\r\n      (ev) => {\r\n        const { type, key } = ev;\r\n        const isBlur = type === \"blur\";\r\n        const isEnter = key === \"Enter\";\r\n        const isEscape = key === \"Escape\";\r\n\r\n        if (isBlur || isEnter || isEscape) {\r\n          if (isEnter || isEscape) {\r\n            ev.preventDefault();\r\n            ev.stopPropagation();\r\n          }\r\n          setRenameMode(false);\r\n\r\n          if (isEscape) {\r\n            setCurrentTitle(savedTitle);\r\n            onCancelEditing?.();\r\n            return;\r\n          }\r\n\r\n          // Update the saved title when user confirms the save\r\n          setSavedTitle(currentTitle);\r\n          onFinishEditing(currentTitle);\r\n        }\r\n      },\r\n      [currentTitle, savedTitle, onCancelEditing, onFinishEditing],\r\n    );\r\n\r\n    const handleKeyDown = useCallback(\r\n      (ev) => {\r\n        if (renameMode) return;\r\n\r\n        // Enter or Space to activate tab\r\n        if (ev.key === \"Enter\" || ev.key === \" \") {\r\n          ev.preventDefault();\r\n          switchTab?.(tab);\r\n        }\r\n      },\r\n      [renameMode, switchTab, tab],\r\n    );\r\n\r\n    const tabLabel = virtual ? `${currentTitle} (unsaved)` : currentTitle;\r\n\r\n    return (\r\n      <div className={tabsCN.elem(\"item\").mod({ active, virtual, menuOpen: isMenuOpen, edit: renameMode }).toString()}>\r\n        {!renameMode && (\r\n          <div className={tabsCN.elem(\"item-drag\").toString()} aria-hidden=\"true\">\r\n            <IconDragIndicator className=\"w-4 h-4\" />\r\n          </div>\r\n        )}\r\n        <div\r\n          className={tabsCN\r\n            .elem(\"item-left\")\r\n            .mod({\r\n              edit: renameMode,\r\n            })\r\n            .toString()}\r\n          role=\"tab\"\r\n          aria-selected={active}\r\n          aria-label={tabLabel}\r\n          tabIndex={renameMode ? -1 : 0}\r\n          onClick={() => !renameMode && switchTab?.(tab)}\r\n          onKeyDown={handleKeyDown}\r\n          title={currentTitle}\r\n          data-leave\r\n        >\r\n          {renameMode ? (\r\n            <Input\r\n              size=\"small\"\r\n              autoFocus={true}\r\n              value={currentTitle}\r\n              aria-label=\"Tab name\"\r\n              onKeyDown={saveTabTitle}\r\n              onBlur={saveTabTitle}\r\n              onChange={(ev) => {\r\n                setCurrentTitle(ev.target.value);\r\n              }}\r\n            />\r\n          ) : (\r\n            <span\r\n              style={{\r\n                whiteSpace: \"nowrap\",\r\n                overflow: \"hidden\",\r\n                textOverflow: \"ellipsis\",\r\n              }}\r\n              aria-hidden=\"true\"\r\n            >\r\n              {currentTitle}\r\n            </span>\r\n          )}\r\n        </div>\r\n        <div className={tabsCN.elem(\"item-right\").toString()}>\r\n          {showMenu && (\r\n            <Dropdown.Trigger\r\n              align=\"bottom-left\"\r\n              openUpwardForShortViewport={false}\r\n              onToggle={setIsMenuOpen}\r\n              content={\r\n                <TabsMenu\r\n                  editable={tabIsEditable}\r\n                  closable={tabIsDeletable}\r\n                  clonable={tabIsCloneable}\r\n                  virtual={virtual}\r\n                  onClick={(action) => {\r\n                    switch (action) {\r\n                      case \"edit\":\r\n                        return setRenameMode(true);\r\n                      case \"duplicate\":\r\n                        return onDuplicate?.();\r\n                      case \"close\":\r\n                        return onClose?.();\r\n                      case \"save\":\r\n                        return onSave?.();\r\n                    }\r\n                  }}\r\n                />\r\n              }\r\n            >\r\n              <div className={tabsCN.elem(\"item-right-button\").toString()}>\r\n                <Button look=\"outline\" size=\"smaller\" variant=\"neutral\" aria-label=\"Tab options\">\r\n                  <IconEllipsisVertical className=\"w-4 h-4\" aria-hidden=\"true\" />\r\n                </Button>\r\n              </div>\r\n            </Dropdown.Trigger>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  },\r\n);\r\n","import { inject } from \"mobx-react\";\r\nimport { IconChevronLeft } from \"@humansignal/icons\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { Button } from \"@humansignal/ui\";\r\nimport { Filters } from \"../Filters\";\r\nimport \"./FilterSidebar.scss\";\r\n\r\nconst sidebarInjector = inject(({ store }) => {\r\n  const viewsStore = store.viewsStore;\r\n\r\n  return {\r\n    viewsStore,\r\n    sidebarEnabled: viewsStore?.sidebarEnabled,\r\n    sidebarVisible: viewsStore?.sidebarVisible,\r\n  };\r\n});\r\n\r\nexport const FiltersSidebar = sidebarInjector(({ viewsStore, sidebarEnabled, sidebarVisible }) => {\r\n  return sidebarEnabled && sidebarVisible ? (\r\n    <div className={cn(\"filters-sidebar\").toClassName()}>\r\n      <div className={cn(\"filters-sidebar\").elem(\"header\").toClassName()}>\r\n        <div className={cn(\"filters-sidebar\").elem(\"extra\").toClassName()}>\r\n          <Button\r\n            look=\"string\"\r\n            onClick={() => viewsStore.collapseFilters()}\r\n            tooltip=\"Unpin filters\"\r\n            aria-label=\"Unpin filters\"\r\n          >\r\n            <IconChevronLeft width={24} height={24} />\r\n          </Button>\r\n          <div className={cn(\"filters-sidebar\").elem(\"title\").toClassName()}>Filters</div>\r\n        </div>\r\n      </div>\r\n      <Filters sidebar={true} />\r\n    </div>\r\n  ) : null;\r\n});\r\nFiltersSidebar.displayName = \"FiltersSidebar\";\r\n","export const keymap = {\r\n  \"dm.focus-previous\": {\r\n    title: \"Focus previous task\",\r\n    shortcut: \"shift+up\",\r\n  },\r\n  \"dm.focus-next\": {\r\n    title: \"Focus previous task\",\r\n    shortcut: \"shift+down\",\r\n  },\r\n  \"dm.close-labeling\": {\r\n    title: \"Focus previous task\",\r\n    shortcut: \"shift+left\",\r\n  },\r\n  \"dm.open-labeling\": {\r\n    title: \"Focus previous task\",\r\n    shortcut: \"shift+right\",\r\n  },\r\n  \"dm.toggle-bulk-sidebar-minimization\": {\r\n    title: \"Toggle bulk sidebar minimization\",\r\n    shortcut: \"shift+.\",\r\n  },\r\n};\r\n","import { useHotkeys } from \"react-hotkeys-hook\";\r\nimport { toStudlyCaps } from \"@humansignal/core\";\r\nimport { keymap } from \"./keymap\";\r\n\r\nexport type Hotkey = {\r\n  title: string;\r\n  shortcut?: string;\r\n  macos?: string;\r\n  other?: string;\r\n};\r\n\r\nconst readableShortcut = (shortcut: string | null | undefined) => {\r\n  if (!shortcut || typeof shortcut !== \"string\") {\r\n    return \"\";\r\n  }\r\n\r\n  return shortcut\r\n    .split(\"+\")\r\n    .map((str) => toStudlyCaps(str))\r\n    .join(\" + \");\r\n};\r\n\r\nexport const useShortcut = (\r\n  actionName: keyof typeof keymap,\r\n  callback: () => void,\r\n  options = { showShortcut: true },\r\n  dependencies = undefined,\r\n) => {\r\n  const action = keymap[actionName] as Hotkey;\r\n  const isMacos = /mac/i.test(navigator.platform);\r\n\r\n  let shortcut = action.shortcut ?? ((isMacos ? action.macos : action.other) as string);\r\n\r\n  // Check for custom shortcut in app settings\r\n  const customMapping = window.APP_SETTINGS?.lookupHotkey?.(`data_manager:${actionName}`);\r\n  if (customMapping) {\r\n    // Explicitly use the custom key even if it's null\r\n    shortcut = customMapping.key;\r\n  }\r\n\r\n  useHotkeys(\r\n    shortcut,\r\n    () => {\r\n      callback();\r\n    },\r\n    {\r\n      keyup: false,\r\n      element: document.body,\r\n    } as any,\r\n    dependencies,\r\n  );\r\n\r\n  const title = action.title + (options.showShortcut ? `: [ ${readableShortcut(shortcut)} ]` : \"\");\r\n\r\n  return title;\r\n};\r\n","import { useSDK } from \"../../../providers/SDKProvider\";\r\nimport { isDefined } from \"../../../utils/utils\";\r\nimport { useState } from \"react\";\r\nimport { Popover } from \"@humansignal/ui\";\r\n\r\nconst LOW_AGREEMENT_SCORE = 33;\r\nconst MEDIUM_AGREEMENT_SCORE = 66;\r\n\r\nexport const agreementScoreTextColor = (percentage) => {\r\n  if (!isDefined(percentage)) return \"text-neutral-content\";\r\n  if (percentage < LOW_AGREEMENT_SCORE) return \"text-negative-content\";\r\n  if (percentage < MEDIUM_AGREEMENT_SCORE) return \"text-warning-content\";\r\n\r\n  return \"text-positive-content\";\r\n};\r\n\r\nconst formatNumber = (num) => {\r\n  const number = Number(num);\r\n\r\n  if (num % 1 === 0) {\r\n    return number;\r\n  }\r\n  return number.toFixed(2);\r\n};\r\n\r\nexport const Agreement = (cell) => {\r\n  const { value, original: task } = cell;\r\n  const sdk = useSDK();\r\n  const [content, setContent] = useState(null);\r\n  const basePopoverEnabled = window.APP_SETTINGS.billing?.enterprise;\r\n\r\n  const colId =\r\n    (cell && cell.column && typeof cell.column.id === \"string\" && cell.column.id) ||\r\n    (cell &&\r\n      cell.column &&\r\n      cell.column.original &&\r\n      typeof cell.column.original.alias === \"string\" &&\r\n      cell.column.original.alias) ||\r\n    \"\";\r\n\r\n  const colPath = String(colId).split(\":\").pop() || \"\";\r\n  const isDimensionAgreementColumn = colPath.startsWith(\"dimension_agreement__\");\r\n  const isAgreementPopoverEnabled = basePopoverEnabled && !isDimensionAgreementColumn;\r\n\r\n  const handleClick = isAgreementPopoverEnabled\r\n    ? (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        sdk.invoke(\"agreementCellClick\", { task }, (jsx) => setContent(jsx));\r\n      }\r\n    : undefined;\r\n\r\n  const score = (\r\n    <span className={agreementScoreTextColor(value)}>{isDefined(value) ? `${formatNumber(value)}%` : \"\"}</span>\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex items-center\" onClick={handleClick}>\r\n      {isAgreementPopoverEnabled ? <Popover trigger={score}>{content}</Popover> : score}\r\n    </div>\r\n  );\r\n};\r\n\r\nAgreement.userSelectable = false;\r\n","import { useSDK } from \"../../providers/SDKProvider\";\r\nimport { isDefined } from \"../../utils/utils\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Tooltip } from \"@humansignal/ui\";\r\nimport { IconInfoOutline } from \"@humansignal/icons\";\r\n\r\nconst LOW_AGREEMENT_SCORE = 33;\r\nconst MEDIUM_AGREEMENT_SCORE = 66;\r\n\r\nexport const agreementScoreTextColor = (percentage) => {\r\n  if (!isDefined(percentage)) return \"text-neutral-content\";\r\n  if (percentage < LOW_AGREEMENT_SCORE) return \"text-negative-content\";\r\n  if (percentage < MEDIUM_AGREEMENT_SCORE) return \"text-warning-content\";\r\n\r\n  return \"text-positive-content\";\r\n};\r\n\r\nconst formatNumber = (num) => {\r\n  const number = Number(num);\r\n\r\n  if (num % 1 === 0) {\r\n    return number;\r\n  }\r\n  return number.toFixed(2);\r\n};\r\n\r\nexport const AgreementSelected = (cell) => {\r\n  const { value, original: task } = cell;\r\n\r\n  const threshold = window.APP_SETTINGS?.agreement_selected_threshold;\r\n  const overThreshold = Number(task?.total_annotations) > Number(threshold);\r\n\r\n  const content = overThreshold ? (\r\n    <Tooltip title={`Agreement (Selected) is not computed for tasks with more than ${threshold} annotations`}>\r\n      <span className=\"inline-flex items-center text-neutral-content-subtler\">\r\n        <IconInfoOutline />\r\n      </span>\r\n    </Tooltip>\r\n  ) : (\r\n    <span className={agreementScoreTextColor(value)}>{isDefined(value) ? `${formatNumber(value)}%` : \"\"}</span>\r\n  );\r\n\r\n  return <div className=\"flex items-center\">{content}</div>;\r\n};\r\n\r\nAgreementSelected.userSelectable = false;\r\n\r\nAgreementSelected.HeaderCell = ({ agreementFilters, onSave, onClose }) => {\r\n  const sdk = useSDK();\r\n  const [content, setContent] = useState(null);\r\n\r\n  useEffect(() => {\r\n    sdk.invoke(\"AgreementSelectedHeaderClick\", { agreementFilters, onSave, onClose }, (jsx) => setContent(jsx));\r\n  }, []);\r\n\r\n  return content;\r\n};\r\n\r\nAgreementSelected.style = {\r\n  minWidth: 210,\r\n};\r\n","import type { FC, ReactNode } from \"react\";\r\n\r\nexport type SelectOptionData<T = any> = {\r\n  value: T;\r\n  label?: string;\r\n  hidden?: boolean;\r\n  disabled?: boolean;\r\n  children?: SelectOptionData<T>[];\r\n};\r\n\r\nexport enum SelectSize {\r\n  SMALL = \"small\",\r\n  MEDIUM = \"medium\",\r\n  LARGE = \"large\",\r\n}\r\n\r\nexport type SelectOption<T> = string | number | SelectOptionData<T>;\r\n\r\nexport type OptionProps = {\r\n  value: any;\r\n  label?: string;\r\n  isOptionSelected?: boolean;\r\n  disabled?: boolean;\r\n  style?: any;\r\n  multiple?: boolean;\r\n  onSelect?: () => void;\r\n  isIndeterminate?: boolean;\r\n  className?: string;\r\n};\r\n\r\ntype ExtractStructOption<T> = T extends SelectOptionData ? T[\"value\"] : never;\r\ntype ExtractPrimitiveOption<T> = T extends string | number ? T : never;\r\nexport type ExtractOption<T> = T extends SelectOption<any>\r\n  ? T extends SelectOptionData<any>\r\n    ? ExtractStructOption<T>\r\n    : ExtractPrimitiveOption<T>\r\n  : never;\r\n\r\nexport type ExtractValue<T, A extends SelectOption<T>[]> = A[number] extends { value: infer U } ? U : A[number];\r\n\r\nexport type SelectProps<T, A extends SelectOption<T>[]> = {\r\n  label?: string;\r\n  description?: string;\r\n  options: A;\r\n  value?: ExtractOption<A[number]> | null;\r\n  defaultValue?: ExtractOption<A[number]> | null;\r\n  validate?: any;\r\n  required?: boolean;\r\n  skip?: boolean;\r\n  labelProps?: any;\r\n  placeholder?: ReactNode;\r\n  triggerClassName?: string;\r\n  contentClassName?: string;\r\n  ghost?: boolean;\r\n  width?: string;\r\n  icon?: any;\r\n  fieldProps?: any;\r\n  error?: boolean;\r\n  autoSelectFirst?: boolean;\r\n  searchable?: boolean;\r\n  searchPlaceholder?: string;\r\n  /** Initial value for the search input field. Useful for restoring a previous search state. */\r\n  defaultSearchValue?: string;\r\n  ref?: React.Ref<HTMLSelectElement>;\r\n  selectedValueRenderer?: FC<{ option: A[number]; index: number }>;\r\n  optionRenderer?: FC<{ option: A[number]; index: number }>;\r\n  dropdown?: any;\r\n  testId?: string;\r\n  searchFilter?: (option: any, queryString: string) => boolean;\r\n  onChange?: (value: any) => void | false;\r\n  setValue?: (value: ExtractOption<A>) => void;\r\n  header?: string | FC | JSX.Element;\r\n  footer?: ReactNode;\r\n  multiple?: boolean;\r\n  disabled?: boolean;\r\n  triggerProps?: any;\r\n  isInline?: boolean;\r\n  isLoading?: boolean;\r\n  dataTestid?: string;\r\n  size?: SelectSize | undefined;\r\n  onSearch?: (value: string) => void;\r\n  selectFirstIfEmpty?: boolean;\r\n  renderSelected?: (selectedOptions?: A[number][], placeholder?: string) => React.ReactNode | string;\r\n  isVirtualList?: boolean;\r\n  loadMore?: () => void;\r\n  pageSize?: number;\r\n  page?: number;\r\n  itemCount?: number;\r\n  onClose?: () => void;\r\n  onOpen?: () => void;\r\n  alwaysShowSelectedGroup?: boolean;\r\n} & SelectVirtualizedProps &\r\n  Omit<React.SelectHTMLAttributes<HTMLSelectElement>, \"value\" | \"placeholder\">;\r\n\r\ntype ToNever<T> = {\r\n  [key in keyof T]?: never;\r\n};\r\n\r\ntype VirtualizedProps = {\r\n  overscan?: number;\r\n  estimateSize?: number;\r\n  virtualizedTotal?: number;\r\n  rootMargin?: string;\r\n  onBottomReached?: () => void;\r\n  onTopReached?: () => void;\r\n};\r\n\r\ntype SelectVirtualizedProps =\r\n  | ({\r\n      virtualized?: false;\r\n    } & ToNever<VirtualizedProps>)\r\n  | ({\r\n      virtualized: true;\r\n    } & VirtualizedProps);\r\n","import { observer } from \"mobx-react\";\r\nimport { useState, useCallback, useMemo } from \"react\";\r\nimport { debounce } from \"../../utils/debounce\";\r\nimport { useDataManagerUsers } from \"../../hooks/useUsers\";\r\nimport { Select, Tooltip, Userpic } from \"@humansignal/ui\";\r\nimport { cn } from \"../../utils/bem\";\r\nimport { SelectSize } from \"@humansignal/ui/lib/select/types\";\r\nimport { userDisplayName } from \"@humansignal/core/lib/utils/helpers\";\r\n\r\nconst DEBOUNCE_DELAY = 300;\r\n\r\nexport const UserSelect = observer(({ filter, onChange, multiple, value, placeholder, disabled }) => {\r\n  const [search, setSearch] = useState(null);\r\n  const [selectedValue, setSelectedValue] = useState(value);\r\n\r\n  // Get project ID from the filter context or use a default\r\n  const projectId = filter?.view?.project?.id || 1;\r\n  const optionsPerRequest = 10;\r\n\r\n  const debouncedSearch = useCallback(\r\n    debounce((val) => setSearch(val), DEBOUNCE_DELAY),\r\n    [],\r\n  );\r\n\r\n  const { users, hasMore, total, loadMore } = useDataManagerUsers(\r\n    projectId,\r\n    optionsPerRequest,\r\n    false,\r\n    null,\r\n    search,\r\n    selectedValue,\r\n  );\r\n  const options = useMemo(() => {\r\n    return users.map((user) => {\r\n      const displayName = userDisplayName(user);\r\n      user.displayName = displayName;\r\n      return {\r\n        value: user.id,\r\n        raw: { id: user.id, email: user.email, displayName, username: user.username },\r\n        label: (\r\n          <Tooltip title={user.displayName} alignment=\"top-left\">\r\n            <div className=\"flex gap-2 w-full items-center\">\r\n              <Userpic user={user} size={16} key={`user-${user.id}`} showName={true} />\r\n              <span className=\"text-ellipsis text-nowrap overflow-hidden w-full\">{user.displayName}</span>\r\n            </div>\r\n          </Tooltip>\r\n        ),\r\n      };\r\n    });\r\n  }, [users, hasMore, loadMore]);\r\n\r\n  const _onChange = useCallback(\r\n    (val) => {\r\n      setSelectedValue(val);\r\n      onChange?.(val);\r\n      setSearch(null);\r\n    },\r\n    [onChange],\r\n  );\r\n\r\n  const searchFilter = useCallback((option: any, queryString: string) => {\r\n    const user = option.raw;\r\n    return (\r\n      user.id?.toString().toLowerCase().includes(queryString.toLowerCase()) ||\r\n      user.email?.toLowerCase().includes(queryString.toLowerCase()) ||\r\n      user.displayName?.toLowerCase().includes(queryString.toLowerCase()) ||\r\n      user.username?.toLowerCase().includes(queryString.toLowerCase())\r\n    );\r\n  }, []);\r\n\r\n  // Convert users data to options format for Select component\r\n  return (\r\n    <Select\r\n      options={options}\r\n      value={selectedValue}\r\n      onChange={_onChange}\r\n      triggerClassName={`${cn(\"form-select\").elem(\"list\").toString()} w-[200px]`}\r\n      loadMore={loadMore}\r\n      size={SelectSize.SMALL}\r\n      placeholder={placeholder}\r\n      disabled={disabled}\r\n      multiple={multiple}\r\n      isVirtualList={true}\r\n      searchable={true}\r\n      onSearch={debouncedSearch}\r\n      searchFilter={searchFilter}\r\n      itemCount={total}\r\n    />\r\n  );\r\n});\r\n","import { useCallback } from \"react\";\r\nimport { useInfiniteQuery } from \"@tanstack/react-query\";\r\nimport { queryClient } from \"@humansignal/core/lib/utils/query-client\";\r\nimport { isActive, FF_DM_FILTER_MEMBERS } from \"@humansignal/core/lib/utils/feature-flags\";\r\n\r\n// Extend Window interface to include DataManager properties\r\ndeclare global {\r\n  interface Window {\r\n    DM?: {\r\n      store?: {\r\n        apiCall: (method: string, params: any) => Promise<any>;\r\n      };\r\n      apiCall?: (method: string, params: any) => Promise<any>;\r\n    };\r\n  }\r\n}\r\n\r\ninterface APIUser {\r\n  id: number;\r\n  username: string;\r\n  first_name: string;\r\n  last_name: string;\r\n  email: string;\r\n}\r\n\r\ninterface UsersResponse {\r\n  results: APIUser[];\r\n  count: number;\r\n}\r\n\r\n// DataManager-style user fetching with pagination using React Query\r\nexport const useDataManagerUsers = (\r\n  projectId: string,\r\n  pageSize = 20,\r\n  isDeleted = false,\r\n  role = null,\r\n  search = null,\r\n  selectedValue = null,\r\n) => {\r\n  if (!isActive(FF_DM_FILTER_MEMBERS)) return null;\r\n\r\n  const queryKey = [\"users\", projectId, pageSize, isDeleted, role, search, selectedValue];\r\n\r\n  const { data, isLoading, isError, error, refetch, hasNextPage, fetchNextPage, isFetchingNextPage } = useInfiniteQuery(\r\n    {\r\n      queryKey,\r\n      queryFn: async ({ pageParam = 1 }) => {\r\n        // Use the correct DataManager API pattern - window.DM is the AppStore\r\n        const store = window?.DM?.store || window?.DM;\r\n\r\n        if (!store) {\r\n          throw new Error(\"DataManager store not available\");\r\n        }\r\n\r\n        const params: any = {\r\n          page: pageParam,\r\n          page_size: pageSize,\r\n          project: projectId,\r\n          is_deleted: isDeleted,\r\n        };\r\n\r\n        if (role) params.role = role;\r\n        if (search) params.search = search;\r\n        if (selectedValue) params.selected_value = selectedValue;\r\n        const response = await store.apiCall?.(\"users\", params);\r\n\r\n        if (!response) {\r\n          throw new Error(\"No users found in response or response is invalid\");\r\n        }\r\n        if (search && selectedValue && response.count) {\r\n          const users: any = queryClient.getQueryData([\r\n            \"users\",\r\n            projectId,\r\n            pageSize,\r\n            isDeleted,\r\n            role,\r\n            null,\r\n            selectedValue,\r\n          ])?.pages?.[0];\r\n          if (users) {\r\n            const selectedUser = users.find((user: any) => user.id === selectedValue);\r\n            const results = [...response.filter((user: any) => user.id !== selectedValue), selectedUser];\r\n            results.count = results.length;\r\n            return results;\r\n          }\r\n        }\r\n\r\n        return response as UsersResponse;\r\n      },\r\n      getNextPageParam: (lastPage, allPages) => {\r\n        const totalCount = lastPage.count || 0;\r\n        const currentPage = allPages.length;\r\n        const hasMore = currentPage * pageSize < totalCount;\r\n        return hasMore ? currentPage + 1 : undefined;\r\n      },\r\n      enabled: !!projectId,\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n      cacheTime: 10 * 60 * 1000, // 10 minutes\r\n    },\r\n  );\r\n\r\n  // Flatten all pages into a single array\r\n  const users = data?.pages.flatMap((page) => page.results ?? page) ?? [];\r\n  const total = data?.pages[0]?.count ?? 0;\r\n\r\n  const loadMore = useCallback(() => {\r\n    if (!isFetchingNextPage && hasNextPage) {\r\n      fetchNextPage();\r\n    }\r\n  }, [fetchNextPage, isFetchingNextPage, hasNextPage]);\r\n\r\n  return {\r\n    users,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n    hasMore: hasNextPage,\r\n    total,\r\n    loadMore,\r\n    refetch,\r\n    isFetchingNextPage,\r\n  };\r\n};\r\n","import { inject } from \"mobx-react\";\r\nimport clsx from \"clsx\";\r\nimport { useMemo } from \"react\";\r\nimport { useSDK } from \"../../../providers/SDKProvider\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { isDefined } from \"../../../utils/utils\";\r\nimport { Space } from \"../../Common/Space/Space\";\r\nimport { IconCheckAlt, IconCrossAlt } from \"@humansignal/icons\";\r\nimport { Tooltip, Userpic } from \"@humansignal/ui\";\r\nimport { Common } from \"../../Filters/types\";\r\nimport \"./Annotators.scss\";\r\nimport { isActive, FF_DM_FILTER_MEMBERS } from \"@humansignal/core/lib/utils/feature-flags\";\r\nimport { VariantSelect } from \"../../Filters/types/List\";\r\nimport { UserSelect } from \"../../Common/UserSelect\";\r\n\r\nconst isFilterMembers = isActive(FF_DM_FILTER_MEMBERS);\r\n\r\nexport const Annotators = (cell) => {\r\n  const { value, column, original: task } = cell;\r\n  const sdk = useSDK();\r\n  const maxUsersToDisplay = window.APP_SETTINGS.data_manager?.max_users_to_display ?? 0;\r\n  const userList = maxUsersToDisplay > 0 ? Array.from(value).slice(0, maxUsersToDisplay) : value;\r\n  const userPickBadge = cn(\"userpic-badge\");\r\n  const annotatorsCN = cn(\"annotators\");\r\n  const isEnterprise = window.APP_SETTINGS.billing?.enterprise;\r\n\r\n  // Memoize the count field calculation\r\n  const extraCount = useMemo(() => {\r\n    const getCountField = () => {\r\n      switch (column.alias) {\r\n        case \"annotators\":\r\n          return task?.annotators_count || 0;\r\n        case \"reviewers\":\r\n          return task?.reviewers_count || 0;\r\n        case \"comment_authors\":\r\n          return task?.comment_authors_count || 0;\r\n        default:\r\n          return 0;\r\n      }\r\n    };\r\n\r\n    return getCountField() - maxUsersToDisplay;\r\n  }, [column.alias, task?.annotators_count, task?.reviewers_count, task?.comment_authors_count]);\r\n\r\n  return (\r\n    <div className={annotatorsCN.toString()}>\r\n      {userList.map((item, index) => {\r\n        const user = item.user ?? item;\r\n        const { annotated, reviewed, review } = item;\r\n\r\n        const userpicIsFaded =\r\n          (isDefined(annotated) && annotated === false) || (isDefined(reviewed) && reviewed === false && isEnterprise);\r\n        const suppressStats = column.alias === \"comment_authors\";\r\n\r\n        return (\r\n          <div\r\n            key={`user-${user.id}-${index}`}\r\n            className={annotatorsCN.elem(\"item\").toString()}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              sdk.invoke(\"userCellClick\", e, column.alias, task, user, suppressStats);\r\n            }}\r\n          >\r\n            <Tooltip title={user.fullName || user.email}>\r\n              <Userpic\r\n                user={user}\r\n                faded={userpicIsFaded}\r\n                badge={{\r\n                  bottomRight: review && (\r\n                    <div className={clsx(userPickBadge.toString(), userPickBadge.mod({ [review]: true }).toString())}>\r\n                      {review === \"rejected\" ? <IconCrossAlt /> : <IconCheckAlt />}\r\n                    </div>\r\n                  ),\r\n                }}\r\n              />\r\n            </Tooltip>\r\n          </div>\r\n        );\r\n      })}\r\n      {extraCount > 0 && (\r\n        <div\r\n          className={annotatorsCN.elem(\"item\").toString()}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            sdk.invoke(\"userCellCounterClick\", e, column.alias, task, userList);\r\n          }}\r\n        >\r\n          <Userpic addCount={`+${extraCount}`} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst UsersInjector = inject(({ store }) => {\r\n  return {\r\n    users: store.users,\r\n  };\r\n});\r\n\r\nAnnotators.filterItems = (items) => {\r\n  return items.filter((userId) => {\r\n    const user = DM.usersMap.get(userId);\r\n    return !(user?.firstName === \"Deleted\" && user?.lastName === \"User\");\r\n  });\r\n};\r\n\r\nAnnotators.FilterItem = UsersInjector(({ item }) => {\r\n  const user = DM.usersMap.get(item);\r\n\r\n  return user ? (\r\n    <Space size=\"small\">\r\n      <Userpic user={user} size={16} key={`user-${item}`} />\r\n      {user.displayName}\r\n    </Space>\r\n  ) : null;\r\n});\r\n\r\nAnnotators.searchFilter = (option, queryString) => {\r\n  const user = DM.usersMap.get(option?.value);\r\n  if (!user) {\r\n    // Fallback to searching by ID if user not found\r\n    return option?.value?.toString().toLowerCase().includes(queryString.toLowerCase());\r\n  }\r\n\r\n  return (\r\n    user.id?.toString().toLowerCase().includes(queryString.toLowerCase()) ||\r\n    user.email.toLowerCase().includes(queryString.toLowerCase()) ||\r\n    user.displayName.toLowerCase().includes(queryString.toLowerCase())\r\n  );\r\n};\r\n\r\nAnnotators.filterable = true;\r\nAnnotators.customOperators = [\r\n  {\r\n    key: \"contains\",\r\n    label: \"contains\",\r\n    valueType: \"list\",\r\n    input: (props) => (isFilterMembers ? <UserSelect {...props} /> : <VariantSelect {...props} />),\r\n  },\r\n  {\r\n    key: \"not_contains\",\r\n    label: \"not contains\",\r\n    valueType: \"list\",\r\n    input: (props) => (isFilterMembers ? <UserSelect {...props} /> : <VariantSelect {...props} />),\r\n  },\r\n  ...Common,\r\n];\r\n","// extracted by mini-css-extract-plugin\nexport default {\"player\":\"lsf-player\",\"player_video\":\"lsf-player_video\",\"player__playback\":\"lsf-player__playback\",\"player__controls\":\"lsf-player__controls\",\"player__play\":\"lsf-player__play\",\"player__track\":\"lsf-player__track\",\"player__time\":\"lsf-player__time\",\"player__loading\":\"lsf-player__loading\"};","import { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport \"./MediaSeeker.scss\";\r\n\r\nexport const MediaSeeker = ({ currentTime, duration, buffer, onSeekStart, onSeekEnd, onChange, video }) => {\r\n  /** @type {import(\"react\").RefObject<HTMLElement>} */\r\n  const seekerRef = useRef();\r\n  const progress = duration && currentTime ? (currentTime / duration) * 100 : 0;\r\n  const [buffered, setBuffered] = useState(0);\r\n\r\n  /**\r\n   * @param {MouseEvent} e\r\n   */\r\n  const handleMouseDown = useCallback(\r\n    (e) => {\r\n      if (cn(\"audio-seeker\").closest(e.target)) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n\r\n        const { left, width } = seekerRef.current.getBoundingClientRect();\r\n        const initialX = e.pageX - (left + 5);\r\n        const clickedProgress = duration * Math.max(0, Math.min(initialX / width, 1));\r\n\r\n        const seekProgress = (e) => {\r\n          const newX = e.pageX - (left + 5);\r\n          const newProgress = duration * Math.max(0, Math.min(newX / width, 1));\r\n\r\n          onChange(newProgress);\r\n        };\r\n\r\n        const cancelEvents = (e) => {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          document.removeEventListener(\"mousemove\", seekProgress);\r\n          document.removeEventListener(\"mouseup\", cancelEvents);\r\n          onSeekEnd?.();\r\n        };\r\n\r\n        document.addEventListener(\"mousemove\", seekProgress);\r\n        document.addEventListener(\"mouseup\", cancelEvents);\r\n\r\n        onSeekStart?.();\r\n        onChange?.(clickedProgress);\r\n      }\r\n    },\r\n    [seekerRef, onChange, onSeekStart, onSeekEnd],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (duration > 0 && buffer) {\r\n      for (let i = 0; i < buffer.length; i++) {\r\n        if (buffer.start(buffer.length - 1 - i) < currentTime) {\r\n          const size = (buffer.end(buffer.length - 1 - i) / duration) * 100;\r\n\r\n          setBuffered(size);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }, [buffer, duration, currentTime]);\r\n\r\n  return (\r\n    <div className={cn(\"audio-seeker\").toClassName()} ref={seekerRef} onMouseDownCapture={handleMouseDown}>\r\n      <div className={cn(\"audio-seeker\").elem(\"wrapper\").mod({ video }).toClassName()}>\r\n        <div className={cn(\"audio-seeker\").elem(\"progress\").toClassName()} style={{ width: `${progress}%` }} />\r\n        <div className={cn(\"audio-seeker\").elem(\"buffer\").toClassName()} style={{ width: `${buffered}%` }} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export const Duration = ({ value, format }) => {\r\n  if (value === Number.POSITIVE_INFINITY) {\r\n    return \"Unknown\";\r\n  }\r\n  const formatted = new Date(value * 1000).toISOString().substr(11, 8);\r\n\r\n  const parsed = formatted.split(\":\");\r\n\r\n  const result = format.map((unit) => {\r\n    switch (unit) {\r\n      case \"hours\":\r\n        return parsed[0];\r\n      case \"minutes\":\r\n        return parsed[1];\r\n      case \"seconds\":\r\n        return parsed[2];\r\n    }\r\n  });\r\n\r\n  return result.join(\":\");\r\n};\r\n","import {\r\n  createRef,\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useReducer,\r\n  useRef,\r\n  useState,\r\n  forwardRef,\r\n  createElement,\r\n} from \"react\";\r\nimport { IconTimelinePause, IconTimelinePlay } from \"@humansignal/icons\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { filename } from \"../../../utils/helpers\";\r\nimport { Space } from \"../Space/Space\";\r\nimport { Spinner } from \"../Spinner\";\r\nimport \"./MediaPlayer.scss\";\r\nimport { MediaSeeker } from \"./MediaSeeker\";\r\nimport { Duration } from \"./Duration\";\r\n\r\nconst mediaDefaultProps = { crossOrigin: \"anonymous\" };\r\n\r\nconst initialState = {\r\n  duration: 0,\r\n  currentTime: 0,\r\n  buffer: null,\r\n  error: false,\r\n  loaded: false,\r\n  playing: false,\r\n  loading: false,\r\n  resetSource: 0,\r\n};\r\n\r\nconst globalAudioRef = createRef();\r\n\r\nexport const MediaPlayer = ({ src, video = false }) => {\r\n  /** @type {import(\"react\").RefObject<HTMLAudioElement>} */\r\n  const media = useRef();\r\n  const wasPlaying = useRef(false);\r\n  const hasReloaded = useRef(false);\r\n  const currentTimeRef = useRef(0);\r\n  const [enabled, setEnabled] = useState(false);\r\n\r\n  const [state, dispatch] = useReducer((state, action) => {\r\n    switch (action.type) {\r\n      case \"duration\":\r\n        return { ...state, duration: action.payload };\r\n      case \"current\":\r\n        return { ...state, currentTime: action.payload };\r\n      case \"loaded\":\r\n        return { ...state, loaded: true };\r\n      case \"error\":\r\n        return { ...state, error: true, resetSource: state.loaded ? state.resetSource + 1 : state.resetSource };\r\n      case \"play\":\r\n        return { ...state, playing: true };\r\n      case \"pause\":\r\n        return { ...state, playing: false };\r\n      case \"buffer\":\r\n        return { ...state, buffer: action.payload };\r\n      case \"resetSource\":\r\n        return { ...state, resetSource: 0, loaded: false, error: false };\r\n    }\r\n  }, initialState);\r\n\r\n  const format = useMemo(() => {\r\n    if (state.duration >= 3600) {\r\n      return [\"hours\", \"minutes\", \"seconds\"];\r\n    }\r\n    return [\"minutes\", \"seconds\"];\r\n  }, [state.duration]);\r\n\r\n  const play = useCallback(() => {\r\n    media?.current?.play?.();\r\n  }, []);\r\n\r\n  const pause = useCallback(() => {\r\n    media?.current?.pause?.();\r\n  }, []);\r\n\r\n  const togglePlay = useCallback(() => {\r\n    globalAudioRef.current?.pause();\r\n    state.playing ? pause() : play();\r\n    globalAudioRef.current = media.current;\r\n  }, [state, play, pause]);\r\n\r\n  const onSeekStart = useCallback(() => {\r\n    wasPlaying.current = state.playing;\r\n    if (state.playing) media.current.pause();\r\n  }, [state, wasPlaying]);\r\n\r\n  const onSeekEnd = useCallback(() => {\r\n    if (wasPlaying.current) {\r\n      media.current.play();\r\n    }\r\n  }, [wasPlaying]);\r\n\r\n  const onSeek = useCallback((time) => {\r\n    currentTimeRef.current = time;\r\n    media.current.currentTime = time;\r\n  }, []);\r\n\r\n  const waitForPlayer = useCallback(() => {\r\n    if (state?.error) {\r\n      return;\r\n    }\r\n    if (state?.loaded) {\r\n      play();\r\n    } else {\r\n      setTimeout(() => waitForPlayer(), 10);\r\n    }\r\n  }, [state]);\r\n\r\n  const mediaProps = {\r\n    src,\r\n    ref: media,\r\n    controls: false,\r\n    preload: \"metadata\",\r\n    onPlay: () => dispatch({ type: \"play\" }),\r\n    onPause: () => dispatch({ type: \"pause\" }),\r\n    onTimeUpdate: () => dispatch({ type: \"current\", payload: media.current.currentTime }),\r\n    onDurationChange: () => dispatch({ type: \"duration\", payload: media.current.duration }),\r\n    onCanPlay: () => dispatch({ type: \"loaded\" }),\r\n    onProgress: () => dispatch({ type: \"buffer\", payload: media.current.buffered }),\r\n    onError: () => dispatch({ type: \"error\" }),\r\n  };\r\n\r\n  useEffect(() => {\r\n    // force reload on error if the source previously loaded,\r\n    // as it may just require a new presigned url\r\n    if (state.resetSource > 0) {\r\n      dispatch({ type: \"resetSource\" });\r\n      hasReloaded.current = true;\r\n      media.current.load();\r\n    }\r\n  }, [state.resetSource]);\r\n\r\n  useEffect(() => {\r\n    // if the source was reloaded due to error, we need to wait for it to load\r\n    // before we can set the current time and play if it was previously playing\r\n    if (hasReloaded.current && state.loaded) {\r\n      hasReloaded.current = false;\r\n      media.current.currentTime = currentTimeRef.current;\r\n\r\n      if (wasPlaying.current) media.current.play();\r\n    }\r\n  }, [state.loaded]);\r\n\r\n  const showError = !state.resetSource && state.error;\r\n\r\n  return enabled ? (\r\n    <div className={cn(\"player\").mod({ video }).toClassName()} onClick={(e) => e.stopPropagation()}>\r\n      {video && <MediaSource type=\"video\" onClick={togglePlay} {...mediaProps} />}\r\n      {showError ? (\r\n        <div className={cn(\"player\").elem(\"loading\").toClassName()}>Unable to play</div>\r\n      ) : state.loaded ? (\r\n        <div className={cn(\"player\").elem(\"playback\").toClassName()}>\r\n          <Space className={cn(\"player\").elem(\"controls\").toClassName()} spread>\r\n            <Space size=\"small\">\r\n              <div className={cn(\"player\").elem(\"play\").toClassName()} onClick={togglePlay}>\r\n                {state.playing ? <IconTimelinePause /> : <IconTimelinePlay />}\r\n              </div>\r\n              {!video && <div className={cn(\"player\").elem(\"track\").toClassName()}>{filename(src)}</div>}\r\n            </Space>\r\n            <Space className={cn(\"player\").elem(\"time\").toClassName()} size=\"small\">\r\n              <Duration value={state.currentTime} format={format} />\r\n              {\" / \"}\r\n              <Duration value={state.duration} format={format} />\r\n            </Space>\r\n          </Space>\r\n\r\n          <MediaSeeker\r\n            video={video}\r\n            currentTime={state.currentTime}\r\n            duration={state.duration}\r\n            buffer={state.buffer}\r\n            onSeekStart={onSeekStart}\r\n            onSeekEnd={onSeekEnd}\r\n            onChange={onSeek}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <div className={cn(\"player\").elem(\"loading\").toClassName()}>\r\n          <Spinner size=\"24\" />\r\n        </div>\r\n      )}\r\n\r\n      {!video && <MediaSource type=\"audio\" {...mediaProps} ref={media} />}\r\n    </div>\r\n  ) : (\r\n    <div\r\n      className={cn(\"player\").toClassName()}\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        setEnabled(true);\r\n        waitForPlayer();\r\n      }}\r\n    >\r\n      <Space className={cn(\"player\").elem(\"controls\").toClassName()} spread>\r\n        <Space size=\"small\">\r\n          <div className={cn(\"player\").elem(\"play\").toClassName()}>\r\n            <IconTimelinePlay />\r\n          </div>\r\n          <div className={cn(\"player\").elem(\"track\").toClassName()}>Click to load</div>\r\n        </Space>\r\n        <Space className={cn(\"player\").elem(\"time\").toClassName()} size=\"small\" />\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MediaSource = forwardRef(({ type = \"audio\", src, ...props }, ref) => {\r\n  return createElement(\r\n    type,\r\n    {\r\n      ...mediaDefaultProps,\r\n      className: cn(\"player\").elem(\"media\").toClassName(),\r\n      ref,\r\n      ...props,\r\n    },\r\n    <source src={src} />,\r\n  );\r\n});\r\n","import { MediaPlayer } from \"../Common/MediaPlayer/MediaPlayer\";\r\n\r\nexport const AudioCell = (column) => {\r\n  return <MediaPlayer src={column.value} />;\r\n};\r\n\r\nAudioCell.style = {\r\n  width: 50,\r\n  minWidth: 240,\r\n};\r\n\r\n/* Audio Plus */\r\n\r\nexport const AudioPlusCell = (column) => {\r\n  return <MediaPlayer src={column.value} />;\r\n};\r\n\r\nAudioPlusCell.style = {\r\n  width: 240,\r\n  minWidth: 240,\r\n};\r\n\r\nAudioPlusCell.userSelectable = false;\r\n","import { Tag } from \"../Common/Tag/Tag\";\r\n\r\nconst parseBoolean = (value) => {\r\n  if ([true, 1, \"true\", \"1\", \"yes\"].includes(value) || !!value === true) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const BooleanCell = (column) => {\r\n  const boolValue = parseBoolean(column.value);\r\n\r\n  if (boolValue === true) {\r\n    return <Tag color=\"#80c70d\">true</Tag>;\r\n  }\r\n  if (boolValue === false) {\r\n    return <Tag color=\"#de3301\">false</Tag>;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nBooleanCell.userSelectable = false;\r\n","import { format, isValid } from \"date-fns\";\r\nexport const dateTimeFormat = \"MMM dd yyyy, HH:mm:ss\";\r\n\r\nexport const DateTimeCell = (column) => {\r\n  const date = new Date(column.value);\r\n\r\n  return column.value ? (\r\n    <div style={{ whiteSpace: \"nowrap\" }}>{isValid(date) ? format(date, dateTimeFormat) : \"\"}</div>\r\n  ) : (\r\n    \"\"\r\n  );\r\n};\r\n\r\nDateTimeCell.displayType = false;\r\n","import type { APIAnnotation, APIPrediction, APITask, LSFAnnotation, LSFTaskData } from \"../types/Task\";\r\n\r\n/**\r\n * Converts the task from the server format to the\r\n * format supported by the LS frontend\r\n * @param {import(\"../stores/Tasks\").TaskModel} task\r\n * @private\r\n */\r\nexport const taskToLSFormat = (task: APITask): LSFTaskData | void => {\r\n  if (!task) return;\r\n\r\n  const result: LSFTaskData = {\r\n    ...task,\r\n    annotations: [],\r\n    predictions: [],\r\n    createdAt: task.created_at,\r\n    // isLabeled: task.is_labeled, // @todo why?\r\n  };\r\n\r\n  if (task.annotations) {\r\n    result.annotations = task.annotations.map(annotationToLSF);\r\n  }\r\n\r\n  if (task.predictions) {\r\n    result.predictions = task.predictions.map(predictionToLSF);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nexport const annotationToLSF = (annotation: APIAnnotation) => {\r\n  const createdDate = annotation.draft_created_at || annotation.created_at;\r\n\r\n  return {\r\n    ...annotation,\r\n    id: undefined,\r\n    pk: String(annotation.id),\r\n    createdAgo: annotation.created_ago,\r\n    createdBy: annotation.created_username,\r\n    createdDate,\r\n    leadTime: annotation.lead_time ?? 0,\r\n    skipped: annotation.was_cancelled ?? false,\r\n  };\r\n};\r\n\r\nexport const predictionToLSF = (prediction: APIPrediction) => {\r\n  return {\r\n    ...prediction,\r\n    id: undefined,\r\n    pk: String(prediction.id),\r\n    createdAgo: prediction.created_ago,\r\n    createdBy: prediction.model_version?.trim() ?? \"\",\r\n    createdDate: prediction.created_at,\r\n  };\r\n};\r\n\r\nexport const annotationToServer = (annotation: LSFAnnotation): APIAnnotation => {\r\n  return {\r\n    ...annotation,\r\n    id: Number(annotation.pk),\r\n    created_ago: annotation.createdAgo,\r\n    created_username: annotation.createdBy,\r\n    created_at: new Date().toISOString(),\r\n    lead_time: annotation.leadTime,\r\n  };\r\n};\r\n\r\nexport const getAnnotationSnapshot = (c: LSFAnnotation) => ({\r\n  id: c.id,\r\n  pk: c.pk,\r\n  result: c.serializeAnnotation(),\r\n  leadTime: c.leadTime,\r\n  userGenerate: !!c.userGenerate,\r\n  sentUserGenerate: !!c.sentUserGenerate,\r\n});\r\n","import { inject, observer } from \"mobx-react\";\r\nimport React from \"react\";\r\nimport { taskToLSFormat } from \"../../../sdk/lsf-utils\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { Spinner } from \"../Spinner\";\r\nimport \"./AnnotationPreview.scss\";\r\n\r\nconst imgDefaultProps = { crossOrigin: \"anonymous\" };\r\n\r\nconst wait = (timeout) => new Promise((resolve) => setTimeout(resolve, timeout));\r\n\r\nclass PreviewGenerator {\r\n  static getInstance(labelingConfig) {\r\n    if (PreviewGenerator._instance) return PreviewGenerator._instance;\r\n\r\n    return (PreviewGenerator._instance = new PreviewGenerator(labelingConfig));\r\n  }\r\n\r\n  constructor(labelingConfig) {\r\n    this.loaded = false;\r\n    this.running = false;\r\n    this.queue = [];\r\n\r\n    this.root = document.querySelector(\".offscreen\");\r\n\r\n    this.lsf = new window.LabelStudio(this.root, {\r\n      user: { id: 1 },\r\n      interfaces: [],\r\n      config: labelingConfig ?? \"\",\r\n      onLabelStudioLoad: () => {\r\n        this.loaded = true;\r\n        this.startQueue();\r\n      },\r\n    });\r\n  }\r\n\r\n  generatePreview(task, annotation) {\r\n    return new Promise((resolve) => {\r\n      this.queue.push({\r\n        task,\r\n        annotation,\r\n        resolve,\r\n      });\r\n\r\n      this.startQueue();\r\n    });\r\n  }\r\n\r\n  async startQueue() {\r\n    if (this.loaded === false) return;\r\n    if (this.running === true) return;\r\n    if (this.queue.length === 0) return;\r\n\r\n    this.running = true;\r\n    await this.processJob();\r\n    this.running = false;\r\n  }\r\n\r\n  async processJob() {\r\n    const { task: taskRaw, annotation, resolve } = this.queue.shift();\r\n\r\n    const task = {\r\n      id: taskRaw.id,\r\n      annotations: taskRaw.annotations,\r\n      predictions: taskRaw.predictions,\r\n      data: taskRaw.data,\r\n    };\r\n\r\n    this.lsf.resetState();\r\n    this.lsf.assignTask(task);\r\n    this.lsf.initializeStore(taskToLSFormat(task));\r\n    this.lsf.annotationStore.selectAnnotation(annotation.pk ?? annotation.id);\r\n\r\n    await wait(1500);\r\n    const preview = await this.createPreviews(5);\r\n\r\n    resolve(preview);\r\n\r\n    if (this.queue.length) {\r\n      await this.processJob();\r\n    }\r\n  }\r\n\r\n  async createPreviews(attempts) {\r\n    if (attempts === 0) return;\r\n\r\n    try {\r\n      return this.lsf.annotationStore.selected.generatePreviews();\r\n    } catch (err) {\r\n      await wait(1000);\r\n      return this.createPreviews(attempts - 1);\r\n    }\r\n  }\r\n}\r\n\r\nconst injector = inject(({ store }) => {\r\n  return {\r\n    labelingConfig: store?.labelingConfig,\r\n  };\r\n});\r\n\r\nexport const AnnotationPreview = injector(\r\n  observer(({ labelingConfig, name, task, annotation, style, ...props }) => {\r\n    const generator = React.useMemo(() => {\r\n      if (labelingConfig) return PreviewGenerator.getInstance(labelingConfig);\r\n    }, [labelingConfig]);\r\n\r\n    const [preview, setPreview] = React.useState(null);\r\n    const variant = props.variant ?? \"original\";\r\n\r\n    React.useEffect(() => {\r\n      if (preview !== null) return;\r\n\r\n      const start = async () => {\r\n        if (generator && task && annotation) {\r\n          const preview = await generator.generatePreview(task, annotation);\r\n\r\n          setPreview(preview);\r\n        }\r\n      };\r\n\r\n      start();\r\n    }, [task, annotation, generator, preview]);\r\n\r\n    return preview ? (\r\n      <img\r\n        {...imgDefaultProps}\r\n        src={preview[`$${name}`][variant]}\r\n        alt=\"\"\r\n        style={style}\r\n        width={props.width}\r\n        height={props.height}\r\n      />\r\n    ) : (\r\n      <div className={cn(\"annotation-preview\").toString()} width={props.width} height={props.height}>\r\n        <Spinner\r\n          size={props.size ?? \"default\"}\r\n          style={{\r\n            position: \"absolute\",\r\n            left: \"50%\",\r\n            top: \"50%\",\r\n            transform: \"translate3d(-50%, -50%, 0)\",\r\n            zIndex: 100,\r\n          }}\r\n        />\r\n        <img\r\n          src={props.fallbackImage}\r\n          style={{ ...(style ?? {}), opacity: 0.5 }}\r\n          alt=\"\"\r\n          width={props.width}\r\n          height={props.height}\r\n        />\r\n      </div>\r\n    );\r\n  }),\r\n);\r\n","import { getRoot } from \"mobx-state-tree\";\r\nimport { AnnotationPreview } from \"../Common/AnnotationPreview/AnnotationPreview\";\r\n\r\nconst imgDefaultProps = { crossOrigin: \"anonymous\" };\r\n\r\nexport const ImageCell = (column) => {\r\n  const {\r\n    original,\r\n    value,\r\n    column: { alias },\r\n  } = column;\r\n  const root = getRoot(original);\r\n\r\n  const renderImagePreview = original.total_annotations === 0 || !root.showPreviews;\r\n  const imgSrc = Array.isArray(value) ? value[0] : value;\r\n\r\n  if (!imgSrc) return null;\r\n\r\n  return renderImagePreview ? (\r\n    <img\r\n      {...imgDefaultProps}\r\n      key={imgSrc}\r\n      src={imgSrc}\r\n      alt=\"Data\"\r\n      style={{\r\n        maxHeight: \"100%\",\r\n        maxWidth: \"100px\",\r\n        objectFit: \"contain\",\r\n        borderRadius: 3,\r\n      }}\r\n    />\r\n  ) : (\r\n    <AnnotationPreview\r\n      task={original}\r\n      annotation={original.annotations[0]}\r\n      config={getRoot(original).SDK}\r\n      name={alias}\r\n      variant=\"120x120\"\r\n      fallbackImage={value}\r\n      style={{\r\n        maxHeight: \"100%\",\r\n        maxWidth: \"100px\",\r\n        objectFit: \"contain\",\r\n        borderRadius: 3,\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import { isDefined } from \"../../utils/utils\";\r\n\r\nconst formatNumber = (num) => {\r\n  const number = Number(num);\r\n\r\n  if (num % 1 === 0) {\r\n    return number;\r\n  }\r\n  return number.toFixed(3);\r\n};\r\n\r\nexport const NumberCell = (column) => (isDefined(column.value) ? formatNumber(column.value) : \"\");\r\n\r\n// NumberCell.userSelectable = false;\r\n","import { format, isValid } from \"date-fns\";\r\nimport { dateTimeFormat } from \"./DateTimeCell\";\r\n\r\nexport const valueToString = (value) => {\r\n  if (typeof value === \"string\") return value;\r\n  /* if undefined or null we'll treat it as empty string */\r\n  if (value === undefined || value === null) return \"\";\r\n  if (value instanceof Date && isValid(value)) return format(value, dateTimeFormat);\r\n\r\n  try {\r\n    /* JSON.stringify will handle JSON and non-strings, non-null, non-undefined */\r\n    return JSON.stringify(value);\r\n  } catch {\r\n    return \"Error: Invalid JSON\";\r\n  }\r\n};\r\n\r\nexport const StringCell = ({ value }) => {\r\n  const style = {\r\n    maxHeight: \"100%\",\r\n    overflow: \"hidden\",\r\n    fontSize: 12,\r\n    lineHeight: \"16px\",\r\n  };\r\n\r\n  return <div style={style}>{valueToString(value)}</div>;\r\n};\r\n","import { formatTime } from \"@humansignal/core\";\r\nimport { isDefined } from \"../../utils/utils\";\r\n\r\nexport const TimeCell = (column) => (isDefined(column.value) ? formatTime(column.value) : \"\");\r\n","import { MediaPlayer } from \"../Common/MediaPlayer/MediaPlayer\";\r\n\r\nexport const VideoCell = (column) => {\r\n  return <MediaPlayer src={column.value} video />;\r\n};\r\n\r\nVideoCell.style = {\r\n  width: 240,\r\n  minWidth: 240,\r\n};\r\n","import { getRoot } from \"mobx-state-tree\";\r\nimport { Fragment } from \"react\";\r\n\r\nconst ProjectLink = ({ project }) => {\r\n  const projectID = project.id;\r\n  const onClick = (e) => {\r\n    e.stopPropagation();\r\n  };\r\n\r\n  return (\r\n    <a href={`/projects/${projectID}/data`} onClick={onClick}>\r\n      {project.title}\r\n    </a>\r\n  );\r\n};\r\n\r\nexport const ProjectCell = (cell) => {\r\n  const { original, value } = cell;\r\n  const root = getRoot(original);\r\n  const projectList = value\r\n    .map((projectRef) => root.taskStore.associatedList.find((proj) => proj.id === projectRef.project_id))\r\n    .filter(Boolean);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        maxHeight: \"100%\",\r\n        overflow: \"hidden\",\r\n        fontSize: 12,\r\n        lineHeight: \"16px\",\r\n      }}\r\n    >\r\n      {projectList &&\r\n        projectList.map((projectRef, index) => (\r\n          <Fragment key={projectRef.project_id}>\r\n            {index > 0 && \", \"}\r\n            <ProjectLink project={projectRef} />\r\n          </Fragment>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n","import { isDefined } from \"../../utils/utils\";\r\nimport { TaskStateChip } from \"@humansignal/app-common\";\r\n\r\nexport const TaskState = (cell) => {\r\n  const { value, original } = cell;\r\n\r\n  if (!isDefined(value) || value === null || value === \"\") {\r\n    return null;\r\n  }\r\n\r\n  // Extract task ID from the original row data\r\n  const taskId = original?.id;\r\n\r\n  return (\r\n    <div className=\"flex items-center\">\r\n      <TaskStateChip state={value} taskId={taskId} interactive={!!taskId} />\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskState.userSelectable = false;\r\n\r\nTaskState.style = {\r\n  minWidth: 140,\r\n};\r\n","import { toStudlyCaps } from \"@humansignal/core\";\r\n\r\nexport { Agreement } from \"./Agreement/Agreement\";\r\nexport { AgreementSelected } from \"./AgreementSelected\";\r\nexport {\r\n  Annotators,\r\n  Annotators as Reviewers,\r\n  Annotators as UpdatedBy,\r\n  Annotators as CommentAuthors,\r\n} from \"./Annotators/Annotators\";\r\nexport { AudioCell as Audio, AudioPlusCell as AudioPlus } from \"./AudioCell\";\r\nexport { BooleanCell as Boolean } from \"./BooleanCell\";\r\nexport { DateTimeCell as Date, DateTimeCell as Datetime } from \"./DateTimeCell\";\r\nexport { ImageCell as Image } from \"./ImageCell\";\r\nexport { NumberCell as Number } from \"./NumberCell\";\r\nexport { StringCell as String } from \"./StringCell\";\r\nexport { TimeCell as Time } from \"./TimeCell\";\r\nexport { StringCell as Text } from \"./StringCell\";\r\nexport { VideoCell as Video } from \"./VideoCell\";\r\nexport { ProjectCell as Project } from \"./ProjectCell\";\r\nexport { TaskState } from \"./TaskState\";\r\n\r\nexport function normalizeCellAlias(alias) {\r\n  // remove trailing separators to make `toStudlyCaps` safe\r\n  const safeAlias = alias.replace(/[-_\\s]+$/g, \"\");\r\n\r\n  // Treat dimension agreement columns like the built-in agreement column\r\n  // so they use the same percentage formatting and coloring.\r\n  if (safeAlias === \"agreement\" || safeAlias.startsWith(\"dimension_agreement__\")) {\r\n    return \"Agreement\";\r\n  }\r\n\r\n  return toStudlyCaps(safeAlias);\r\n}\r\n","/**\r\n * Datamanager Modal wrapper\r\n *\r\n * Re-exports Modal from @humansignal/ui for backward compatibility.\r\n * Datamanager modals don't use providers by default (simple: true).\r\n */\r\nimport { Modal, modal, info, confirm, useModalControls } from \"@humansignal/ui/lib/modal\";\r\n\r\nObject.assign(Modal, {\r\n  info,\r\n  confirm,\r\n  modal,\r\n});\r\n\r\nexport { modal as standaloneModal, modal, info, confirm, useModalControls, Modal };\r\n\r\nexport type { ButtonProps as ButtonVariant } from \"@humansignal/ui/lib/button/button\";\r\n","// extracted by mini-css-extract-plugin\nexport default {\"table-toolbar\":\"lsf-table-toolbar\",\"table-toolbar_visible\":\"lsf-table-toolbar_visible\",\"table-toolbar__customize-button\":\"lsf-table-toolbar__customize-button\",\"table\":\"lsf-table\",\"table__auto-size_quick-view\":\"lsf-table__auto-size_quick-view\",\"table-head\":\"lsf-table-head\",\"table_fit\":\"lsf-table_fit\",\"table__sticky-header\":\"lsf-table__sticky-header\",\"table__auto-size\":\"lsf-table__auto-size\",\"table__virtual\":\"lsf-table__virtual\",\"table__row-wrapper\":\"lsf-table__row-wrapper\",\"table__row-wrapper_disabled\":\"lsf-table__row-wrapper_disabled\",\"table__row-wrapper_loading\":\"lsf-table__row-wrapper_loading\",\"table__row-wrapper_even\":\"lsf-table__row-wrapper_even\",\"table__row-wrapper_selected\":\"lsf-table__row-wrapper_selected\",\"table__row_wrapper_selected\":\"lsf-table__row_wrapper_selected\",\"table__cell\":\"lsf-table__cell\",\"show-source\":\"lsf-show-source\",\"table__cell-content\":\"lsf-table__cell-content\",\"table__cell-content_disabled\":\"lsf-table__cell-content_disabled\"};","import { Checkbox } from \"@humansignal/ui\";\r\n\r\nconst IndeterminateCheckbox = ({ checked, indeterminate, ...props }) => {\r\n  return <Checkbox indeterminate={indeterminate && !checked} checked={checked} {...props} />;\r\n};\r\n\r\nexport const TableCheckboxCell = ({ checked, indeterminate, onChange, ariaLabel }) => {\r\n  return (\r\n    <IndeterminateCheckbox\r\n      type=\"checkbox\"\r\n      checked={checked ?? false}\r\n      indeterminate={indeterminate ?? false}\r\n      onChange={() => {\r\n        // Intentionally empty - we handle everything in onClick to capture shiftKey\r\n      }}\r\n      onClick={(e) => {\r\n        // Prevent native checkbox behavior - we control the state via React\r\n        e.preventDefault();\r\n        // Capture shiftKey from the click event and pass to onChange\r\n        // The new checked state is the opposite of current since click toggles\r\n        onChange(!checked, e.shiftKey);\r\n      }}\r\n      ariaLabel={ariaLabel}\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { cn } from \"../../../utils/bem\";\r\n\r\nexport const tableCN = cn(\"table\");\r\n\r\nexport const TableContext = React.createContext();\r\n","import { types } from \"mobx-state-tree\";\r\nimport { isValidElement } from \"react\";\r\n\r\nexport const CustomJSON = types.custom({\r\n  name: \"JSON\",\r\n  toSnapshot(value) {\r\n    return JSON.stringify(value);\r\n  },\r\n  fromSnapshot(value) {\r\n    try {\r\n      return JSON.parse(value);\r\n    } catch {\r\n      return value;\r\n    }\r\n  },\r\n  isTargetType(value) {\r\n    return typeof value === \"object\" || typeof value === \"string\";\r\n  },\r\n  getValidationMessage() {\r\n    return \"Error parsing JSON\";\r\n  },\r\n});\r\n\r\nexport const StringOrNumber = types.union(types.string, types.number);\r\n\r\nexport const StringOrNumberID = types.union(types.identifier, types.identifierNumber);\r\n\r\nexport const CustomCalback = types.custom({\r\n  name: \"callback\",\r\n  toSnapshot(value) {\r\n    return value;\r\n  },\r\n  fromSnapshot(value) {\r\n    return value;\r\n  },\r\n  isTargetType(value) {\r\n    return typeof value === \"function\";\r\n  },\r\n  getValidationMessage() {\r\n    return \"is not a function\";\r\n  },\r\n});\r\n\r\nexport const HtmlOrReact = types.custom({\r\n  name: \"validElement\",\r\n  toSnapshot(value) {\r\n    return value;\r\n  },\r\n  fromSnapshot(value) {\r\n    return value;\r\n  },\r\n  isTargetType(value) {\r\n    return isValidElement(value);\r\n  },\r\n  getValidationMessage() {\r\n    return \"is not a valid element\";\r\n  },\r\n});\r\n\r\nexport const ThresholdType = types.model(\"ThresholdType\", {\r\n  min: types.maybeNull(types.number),\r\n  max: types.maybeNull(types.number),\r\n});\r\n","import { getRoot, getSnapshot, types } from \"mobx-state-tree\";\r\nimport {\r\n  IconCommentCheck,\r\n  IconCommentRed,\r\n  IconAnnotation,\r\n  IconBanSquare,\r\n  IconSparkSquare,\r\n  IconStarSquare,\r\n  IconThumbsDown,\r\n  IconThumbsUp,\r\n} from \"@humansignal/icons\";\r\nimport * as CellViews from \"../../components/CellViews\";\r\nimport { normalizeCellAlias } from \"../../components/CellViews\";\r\nimport { all } from \"../../utils/utils\";\r\nimport { StringOrNumberID } from \"../types\";\r\n\r\nexport const ViewColumnType = types.enumeration([\r\n  \"String\",\r\n  \"Number\",\r\n  \"Boolean\",\r\n  \"Datetime\",\r\n  \"List\",\r\n  \"Image\",\r\n  \"Audio\",\r\n  \"AudioPlus\",\r\n  \"Video\",\r\n  \"Text\",\r\n  \"HyperText\",\r\n  \"TimeSeries\",\r\n  \"Time\",\r\n  \"Unknown\",\r\n  \"AgreementSelected\",\r\n  \"TaskState\",\r\n]);\r\n\r\nconst typeShortMap = {\r\n  String: \"str\",\r\n  Number: \"num\",\r\n  Boolean: \"bool\",\r\n  Datetime: \"date\",\r\n  Image: \"img\",\r\n  Audio: \"aud\",\r\n  AudioPlus: \"aud\",\r\n  Video: \"vid\",\r\n  Text: \"txt\",\r\n  HyperText: \"html\",\r\n  TimeSeries: \"ts\",\r\n  Time: \"time\",\r\n};\r\n\r\nexport const ViewColumnTypeShort = (type) => typeShortMap[type] || \"str\";\r\n\r\nconst typeNameMap = {\r\n  String: \"String\",\r\n  Number: \"Number\",\r\n  Boolean: \"Boolean\",\r\n  Datetime: \"Date Time\",\r\n  Image: \"Image\",\r\n  Audio: \"Audio\",\r\n  AudioPlus: \"Audio\",\r\n  Video: \"Video\",\r\n  Text: \"Text\",\r\n  HyperText: \"Hyper Text\",\r\n  TimeSeries: \"Time Series\",\r\n  Time: \"Time\",\r\n};\r\n\r\nexport const ViewColumnTypeName = (type) => typeNameMap[type] || \"String\";\r\n\r\nexport const TabColumn = types\r\n  .model(\"ViewColumn\", {\r\n    id: StringOrNumberID,\r\n    title: types.string,\r\n    alias: types.string,\r\n    type: types.optional(ViewColumnType, \"String\"),\r\n    displayType: types.optional(types.maybeNull(ViewColumnType), null),\r\n    // Hidden by default, can be toggled by the user\r\n    defaultHidden: types.optional(types.boolean, false),\r\n    parent: types.maybeNull(types.late(() => types.reference(TabColumn))),\r\n    children: types.maybeNull(types.array(types.late(() => types.reference(TabColumn)))),\r\n    target: types.enumeration([\"tasks\", \"annotations\"]),\r\n    orderable: types.optional(types.boolean, true),\r\n    help: types.maybeNull(types.string),\r\n    // Column alias whose filter should be joined automatically when a filter is created for this column\r\n    child_filter: types.maybeNull(types.string),\r\n    // Whether filtering and selection is disabled for the column\r\n    disabled: types.optional(types.boolean, false),\r\n    // Whether the column is hidden in the data manager, can't be toggled by the user\r\n    hidden: types.optional(types.boolean, false),\r\n    // Whether to show an EnterpriseBadge for the column\r\n    enterprise_badge: types.optional(types.boolean, false),\r\n  })\r\n  .views((self) => ({\r\n    get is_hidden() {\r\n      if (self.children) {\r\n        return all(self.children, (c) => c.is_hidden);\r\n      }\r\n      return self.hidden || (self.parentView?.hiddenColumns.hasColumn(self) ?? (self.parent.is_hidden || false));\r\n    },\r\n\r\n    get parentView() {\r\n      return getRoot(self).viewsStore.selected;\r\n    },\r\n\r\n    get key() {\r\n      return self.id;\r\n    },\r\n\r\n    get accessor() {\r\n      return (data) => {\r\n        if (!self.parent) {\r\n          const value = data[self.alias];\r\n\r\n          return typeof value === \"object\" ? null : value;\r\n        }\r\n\r\n        try {\r\n          const value = data?.[self.parent.alias]?.[self.alias];\r\n\r\n          return value ?? null;\r\n        } catch {\r\n          console.log(\"Error generating accessor\", {\r\n            id: self.alias,\r\n            parent: self.parent?.alias,\r\n            data,\r\n            snapshot: getSnapshot(self),\r\n          });\r\n          return data[self.alias];\r\n        }\r\n      };\r\n    },\r\n\r\n    get renderer() {\r\n      return ({ value }) => {\r\n        return value?.toString() ?? null;\r\n      };\r\n    },\r\n\r\n    get canOrder() {\r\n      return self.orderable && !self.children && !getRoot(self).isLabeling;\r\n    },\r\n\r\n    get order() {\r\n      return self.parentView.currentOrder[self.id];\r\n    },\r\n\r\n    get currentType() {\r\n      const displayType = self.parentView?.columnsDisplayType?.get(self.id);\r\n\r\n      return displayType ?? self.type;\r\n    },\r\n\r\n    get asField() {\r\n      const result = [];\r\n\r\n      if (self.children) {\r\n        const childColumns = [].concat(...self.children.map((subColumn) => subColumn.asField));\r\n\r\n        result.push(...childColumns);\r\n      } else if (!self.isAnnotationResultsFilterColumn) {\r\n        result.push({\r\n          ...self,\r\n          id: self.key,\r\n          accessor: self.accessor,\r\n          hidden: self.is_hidden,\r\n          original: self,\r\n          currentType: self.currentType,\r\n          width: self.width,\r\n        });\r\n      }\r\n\r\n      return result;\r\n    },\r\n\r\n    get icon() {\r\n      switch (self.alias) {\r\n        case \"total_annotations\":\r\n          return <IconAnnotation width=\"20\" height=\"20\" style={{ color: \"#617ADA\" }} />;\r\n        case \"cancelled_annotations\":\r\n          return <IconBanSquare width=\"20\" height=\"20\" style={{ color: \"#DD0000\" }} />;\r\n        case \"total_predictions\":\r\n          return <IconSparkSquare width=\"20\" height=\"20\" style={{ color: \"#944BFF\" }} />;\r\n        case \"reviews_accepted\":\r\n          return <IconThumbsUp width=\"20\" height=\"20\" style={{ color: \"#2AA000\" }} />;\r\n        case \"reviews_rejected\":\r\n          return <IconThumbsDown width=\"20\" height=\"20\" style={{ color: \"#DD0000\" }} />;\r\n        case \"ground_truth\":\r\n          return <IconStarSquare width=\"20\" height=\"20\" style={{ color: \"#FFB700\" }} />;\r\n        case \"comment_count\":\r\n          return <IconCommentCheck width=\"20\" height=\"20\" style={{ color: \"#FFB700\" }} />;\r\n        case \"unresolved_comment_count\":\r\n          return <IconCommentRed width=\"20\" height=\"20\" style={{ color: \"#FFB700\" }} />;\r\n        default:\r\n          return null;\r\n      }\r\n    },\r\n\r\n    get readableType() {\r\n      // Show a friendly tag for per-dimension agreement columns\r\n      if (typeof self.alias === \"string\") {\r\n        if (self.alias.startsWith(\"dimension_agreement__\")) {\r\n          return \"agreement\";\r\n        }\r\n      }\r\n      return ViewColumnTypeShort(self.currentType);\r\n    },\r\n\r\n    get width() {\r\n      return self.parentView?.columnsWidth?.get(self.id) ?? null;\r\n    },\r\n\r\n    get filterable() {\r\n      const cellView = CellViews[self.type] ?? CellViews[normalizeCellAlias(self.alias)];\r\n\r\n      return cellView?.filterable !== false;\r\n    },\r\n\r\n    get isAnnotationResultsFilterColumn() {\r\n      // these columns are not visible in the column selector, but are used for filtering\r\n      const hidden_column_ids = [\"annotations_results_json\", \"predictions_results_json\"];\r\n      return hidden_column_ids.some((id) => self.id.includes(`${id}.`) || self.id.endsWith(`:${id}`));\r\n    },\r\n  }))\r\n  .actions((self) => ({\r\n    toggleVisibility() {\r\n      self.parentView.toggleColumn(self);\r\n    },\r\n\r\n    setType(type) {\r\n      self.parentView.setColumnDisplayType(self.id, type);\r\n      self.parentView.save();\r\n    },\r\n\r\n    setWidth(width) {\r\n      const view = self.parentView;\r\n\r\n      view.setColumnWidth(self.id, width ?? null);\r\n      view.save();\r\n    },\r\n\r\n    resetWidth() {\r\n      self.parentView.setColumnWidth(self.id, null);\r\n      self.parentView.save();\r\n    },\r\n  }));\r\n","import React from \"react\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport \"./Resizer.scss\";\r\n\r\nconst calculateWidth = (width, minWidth, maxWidth, initialX, currentX) => {\r\n  const offset = currentX - initialX;\r\n\r\n  // Limit the width\r\n  return Math.max(minWidth ?? 30, Math.min(width + offset, maxWidth ?? 400));\r\n};\r\n\r\nexport const Resizer = ({\r\n  children,\r\n  style,\r\n  handleStyle,\r\n  initialWidth,\r\n  className,\r\n  type,\r\n  minWidth,\r\n  maxWidth,\r\n  showResizerLine,\r\n  onResize: onResizeCallback,\r\n  onResizeFinished,\r\n  onReset,\r\n}) => {\r\n  const [width, setWidth] = React.useState(initialWidth ?? 150);\r\n  const [isResizing, setIsResizing] = React.useState(false);\r\n  const resizeHandler = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    const newWidth = Math.max(minWidth, Math.min(width));\r\n\r\n    setWidth(newWidth);\r\n    onResizeCallback?.(newWidth);\r\n  }, []);\r\n\r\n  /** @param {MouseEvent} evt */\r\n  const handleResize = React.useCallback(\r\n    (evt) => {\r\n      evt.stopPropagation();\r\n      const initialX = evt.pageX;\r\n      let newWidth = width;\r\n\r\n      /** @param {MouseEvent} evt */\r\n      const onResize = (evt) => {\r\n        newWidth = calculateWidth(width, minWidth, maxWidth, initialX, evt.pageX);\r\n\r\n        setWidth(newWidth);\r\n        onResizeCallback?.(newWidth);\r\n      };\r\n\r\n      const stopResize = (evt) => {\r\n        document.removeEventListener(\"mousemove\", onResize);\r\n        document.removeEventListener(\"mouseup\", stopResize);\r\n        document.body.style.removeProperty(\"user-select\");\r\n\r\n        newWidth = calculateWidth(width, minWidth, maxWidth, initialX, evt.pageX);\r\n\r\n        setIsResizing(false);\r\n\r\n        if (newWidth !== width) {\r\n          setWidth(newWidth);\r\n          onResizeFinished?.(newWidth);\r\n        }\r\n      };\r\n\r\n      document.addEventListener(\"mousemove\", onResize);\r\n      document.addEventListener(\"mouseup\", stopResize);\r\n      document.body.style.userSelect = \"none\";\r\n      setIsResizing(true);\r\n    },\r\n    [maxWidth, minWidth, onResizeCallback, onResizeFinished, width],\r\n  );\r\n\r\n  return (\r\n    <div className={cn(\"resizer\").mix(className).toClassName()} style={{ width }}>\r\n      <div className={cn(\"resizer\").elem(\"content\").toClassName()} style={style ?? {}}>\r\n        {children}\r\n      </div>\r\n\r\n      <div\r\n        className={cn(\"resizer\")\r\n          .elem(\"handle\")\r\n          .mod({ resizing: showResizerLine !== false && isResizing, quickview: type === \"quickview\" })\r\n          .toClassName()}\r\n        ref={resizeHandler}\r\n        style={handleStyle}\r\n        onMouseDown={handleResize}\r\n        onDoubleClick={() => onReset?.()}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import { tableCN } from \"../TableContext\";\r\n\r\nexport const TableCell = ({ mix, mod, ...props }) => {\r\n  return <span {...props} className={tableCN.elem(\"cell\").mod(mod).mix(mix).toString()} />;\r\n};\r\nTableCell.displayName = \"TableCell\";\r\n\r\nexport const TableCellContent = ({ mix, mod, ...props }) => {\r\n  return <span {...props} className={tableCN.elem(\"cell-content\").mod(mod).mix(mix).toString()} />;\r\n};\r\nTableCellContent.displayName = \"TableCellContent\";\r\n","export const prepareColumns = (columns, hidden) => {\r\n  if (!hidden?.length) return [...columns];\r\n  return columns.filter((col) => {\r\n    return !hidden.includes(col.id);\r\n  });\r\n};\r\n\r\nexport const getProperty = (object, path) => {\r\n  try {\r\n    const properties = path.split(\".\");\r\n    let result = object;\r\n\r\n    for (const property of properties) {\r\n      result = result?.[property];\r\n      if (result === undefined) {\r\n        return undefined;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  } catch {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nconst resolveStyle = (col, decoration, cellView) => {\r\n  const result = {};\r\n\r\n  [cellView, decoration].forEach((item) => {\r\n    const cellStyle = (item ?? {}).style;\r\n\r\n    if (cellStyle instanceof Function) {\r\n      Object.assign(result, cellStyle(col) ?? {});\r\n    } else {\r\n      Object.assign(result, cellStyle ?? {});\r\n    }\r\n  });\r\n\r\n  return result ?? {};\r\n};\r\n\r\nexport const getStyle = (cellViews, col, decoration) => {\r\n  const cellView = cellViews?.[col.type];\r\n  const style = { width: 150 };\r\n  const resolvedStyle = resolveStyle(col, decoration, cellView);\r\n\r\n  Object.assign(style, resolvedStyle, {\r\n    width: col.width ?? resolvedStyle.width ?? 150,\r\n  });\r\n\r\n  return style;\r\n};\r\n","import { observer, useLocalStore } from \"mobx-react\";\r\nimport { toJS } from \"mobx\";\r\nimport React, { forwardRef, useCallback, useEffect, useRef } from \"react\";\r\nimport { ViewColumnType, ViewColumnTypeName, ViewColumnTypeShort } from \"../../../../stores/Tabs/tab_column\";\r\nimport { Button } from \"@humansignal/ui\";\r\nimport { Dropdown } from \"@humansignal/ui\";\r\nimport { Menu } from \"../../Menu/Menu\";\r\nimport { Resizer } from \"../../Resizer/Resizer\";\r\nimport { Space } from \"../../Space/Space\";\r\nimport { Tag } from \"../../Tag/Tag\";\r\nimport { TableCell, TableCellContent } from \"../TableCell/TableCell\";\r\nimport { TableContext, tableCN } from \"../TableContext\";\r\nimport { cn } from \"../../../../utils/bem\";\r\nimport { getStyle } from \"../utils\";\r\nimport \"./TableHead.scss\";\r\nimport { FF_DEV_3873, isFF } from \"../../../../utils/feature-flags\";\r\nimport { getRoot } from \"mobx-state-tree\";\r\nimport { AgreementSelected } from \"../../../CellViews/AgreementSelected\";\r\nimport { IconChevronDown } from \"@humansignal/icons\";\r\nimport { isActive, FF_AGREEMENT_FILTERED } from \"@humansignal/core/lib/utils/feature-flags\";\r\n\r\nconst tableHeadCN = cn(\"table-head\");\r\n\r\nconst DropdownWrapper = observer(({ column, cellViews, children, onChange }) => {\r\n  const types = ViewColumnType._types\r\n    .map((t) => t.value)\r\n    .filter((t) => {\r\n      const cellView = cellViews[t];\r\n\r\n      const selectable = cellView?.userSelectable !== false;\r\n      const displayType = cellView?.displayType !== false;\r\n\r\n      return cellView && selectable && displayType;\r\n    });\r\n\r\n  return (\r\n    <Dropdown.Trigger\r\n      content={\r\n        <Menu title=\"Display as\" size=\"compact\" selectedKeys={[column.currentType]}>\r\n          {types.map((type) => {\r\n            return (\r\n              <Menu.Item key={type} onClick={() => onChange?.(column, type)}>\r\n                <Space>\r\n                  <Tag\r\n                    size=\"small\"\r\n                    style={{\r\n                      width: 45,\r\n                      textAlign: \"center\",\r\n                      cursor: \"pointer\",\r\n                      fontSize: 14,\r\n                    }}\r\n                  >\r\n                    {ViewColumnTypeShort(type)}\r\n                  </Tag>\r\n                  {ViewColumnTypeName(type)}\r\n                </Space>\r\n              </Menu.Item>\r\n            );\r\n          })}\r\n        </Menu>\r\n      }\r\n    >\r\n      <Button look=\"string\" variant=\"neutral\" size=\"small\">\r\n        {children}\r\n      </Button>\r\n    </Dropdown.Trigger>\r\n  );\r\n});\r\n\r\nconst AgreementSelectedWrapper = observer(({ column, children }) => {\r\n  // TODO: make this more generic as a LSE component table header cell\r\n  const root = getRoot(column.original);\r\n  const selectedView = root.viewsStore.selected;\r\n  const agreementFilters = selectedView.agreement_selected;\r\n  const ref = useRef(null);\r\n  const closeHandler = () => {\r\n    ref.current?.close();\r\n  };\r\n  const onSave = (agreementFilters) => {\r\n    selectedView.setAgreementFilters(agreementFilters);\r\n    closeHandler();\r\n    return selectedView.save();\r\n  };\r\n\r\n  return (\r\n    <Dropdown.Trigger\r\n      ref={ref}\r\n      content={\r\n        <AgreementSelected.HeaderCell\r\n          agreementFilters={agreementFilters}\r\n          onSave={onSave}\r\n          align=\"left\"\r\n          onClose={closeHandler}\r\n        />\r\n      }\r\n    >\r\n      <Button\r\n        look=\"outlined\"\r\n        variant=\"neutral\"\r\n        size=\"small\"\r\n        trailing={<IconChevronDown />}\r\n        align=\"left\"\r\n        style={{\r\n          minWidth: 200,\r\n          paddingLeft: \"0.5rem\",\r\n          flexGrow: 1,\r\n          width: \"100%\",\r\n        }}\r\n      >\r\n        {children}\r\n      </Button>\r\n    </Dropdown.Trigger>\r\n  );\r\n});\r\n\r\nconst ColumnRenderer = observer(\r\n  ({\r\n    column: columnInput,\r\n    cellViews,\r\n    columnHeaderExtra,\r\n    sortingEnabled,\r\n    stopInteractions,\r\n    decoration,\r\n    onTypeChange,\r\n    onResize,\r\n    onReset,\r\n  }) => {\r\n    const { Header, Cell: _, id, ...column } = columnInput;\r\n\r\n    if (Header instanceof Function) {\r\n      const { cellClassName: _, headerClassName, ...rest } = column;\r\n\r\n      return (\r\n        <div {...rest} className={tableCN.elem(\"cell\").mix([\"th\", headerClassName]).toString()} key={id}>\r\n          <Header />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const root = getRoot(column.original);\r\n    const isDE = root.SDK.type === \"DE\";\r\n    const canOrder = sortingEnabled && column.original?.canOrder;\r\n    const Decoration = decoration?.get?.(column);\r\n    const extra = !isDE && columnHeaderExtra ? columnHeaderExtra(column, Decoration) : null;\r\n    const content = Decoration?.content ? Decoration.content(column) : column.title;\r\n    const style = getStyle(cellViews, column, Decoration);\r\n\r\n    const headContent = (\r\n      <>\r\n        <TableCellContent mod={{ canOrder, disabled: stopInteractions }} mix=\"th-content\">\r\n          {content}\r\n        </TableCellContent>\r\n\r\n        {extra && <span className={tableHeadCN.elem(\"column-extra\").toString()}>{extra}</span>}\r\n      </>\r\n    );\r\n\r\n    const isAgreementSelected = isActive(FF_AGREEMENT_FILTERED) && column.type === \"AgreementSelected\";\r\n\r\n    return (\r\n      <TableCell data-id={id} mix=\"th\">\r\n        <Resizer\r\n          style={{\r\n            height: 22,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: style.justifyContent ?? \"space-between\",\r\n            overflow: isAgreementSelected ? \"visible\" : \"hidden\",\r\n          }}\r\n          initialWidth={style.width ?? 150}\r\n          minWidth={style.minWidth ?? 30}\r\n          onResizeFinished={(width) => onResize?.(column, width)}\r\n          onReset={() => onReset?.(column)}\r\n        >\r\n          {!isDE && column.parent ? (\r\n            <DropdownWrapper column={column} cellViews={cellViews} onChange={onTypeChange}>\r\n              {headContent}\r\n            </DropdownWrapper>\r\n          ) : isAgreementSelected ? (\r\n            <AgreementSelectedWrapper column={column}>{headContent}</AgreementSelectedWrapper>\r\n          ) : (\r\n            headContent\r\n          )}\r\n        </Resizer>\r\n      </TableCell>\r\n    );\r\n  },\r\n);\r\n\r\nexport const TableHead = observer(\r\n  forwardRef(\r\n    (\r\n      {\r\n        style,\r\n        columnHeaderExtra,\r\n        sortingEnabled,\r\n        stopInteractions,\r\n        decoration,\r\n        onTypeChange,\r\n        onResize,\r\n        onReset,\r\n        extra,\r\n        onDragEnd,\r\n      },\r\n      ref,\r\n    ) => {\r\n      const { columns, headerRenderers, cellViews } = React.useContext(TableContext);\r\n      const states = useLocalStore(() => ({\r\n        orderedColumns: {},\r\n        setOrderedColumns(updatedColumns) {\r\n          states.orderedColumns = { ...updatedColumns };\r\n        },\r\n        getOrderedColumns() {\r\n          return toJS(states.orderedColumns) ?? {};\r\n        },\r\n        isDragging: false,\r\n        setIsDragging(isDragging) {\r\n          states.isDragging = isDragging;\r\n        },\r\n        getIsDragging() {\r\n          return toJS(states.isDragging);\r\n        },\r\n        initialDragPos: false,\r\n        setInitialDragPos(initPos) {\r\n          states.initialDragPos = initPos;\r\n        },\r\n        getInitialDragPos() {\r\n          return toJS(states.initialDragPos);\r\n        },\r\n        draggedCol: null,\r\n        setDraggedCol(draggedCol) {\r\n          states.draggedCol = draggedCol;\r\n        },\r\n        getDraggedCol() {\r\n          return toJS(states.draggedCol);\r\n        },\r\n      }));\r\n      const colRefs = useRef({});\r\n      const getUpdatedColOrder = useCallback(\r\n        (cols) => {\r\n          const orderedColumns = {};\r\n\r\n          (cols ?? columns).forEach((col, colIndex) => {\r\n            orderedColumns[col.id] = colIndex;\r\n          });\r\n          return orderedColumns;\r\n        },\r\n        [columns],\r\n      );\r\n\r\n      useEffect(() => {\r\n        ref.current?.addEventListener(\"mousedown\", (event) => {\r\n          const className = event.target.className;\r\n\r\n          // This element could be an SVG element where className is an object, not a string.\r\n          if (className?.includes?.(\"handle\")) {\r\n            event.preventDefault();\r\n          }\r\n        });\r\n      }, []);\r\n\r\n      return (\r\n        <div\r\n          className={tableHeadCN.mod({ droppable: true }).mix(\"horizontal-shadow\").toString()}\r\n          ref={ref}\r\n          style={{\r\n            ...style,\r\n            height: isFF(FF_DEV_3873) && 42,\r\n          }}\r\n          onDragOver={useCallback(\r\n            (e) => {\r\n              const draggedCol = states.getDraggedCol();\r\n\r\n              colRefs.current[draggedCol].style.setProperty(\"--scale\", \"0\");\r\n              e.stopPropagation();\r\n            },\r\n            [states],\r\n          )}\r\n        >\r\n          {columns.map((col) => {\r\n            return (\r\n              <span\r\n                className={tableHeadCN.elem(\"draggable\").toString()}\r\n                draggable={true}\r\n                ref={(ele) => (colRefs.current[col.id] = ele)}\r\n                key={col.id}\r\n                onDragStart={(e) => {\r\n                  e.dataTransfer.effectAllowed = \"none\";\r\n                  const ele = colRefs.current[col.id];\r\n\r\n                  states.setInitialDragPos({\r\n                    x: ele.offsetLeft,\r\n                    y: ele.offsetTop,\r\n                  });\r\n                  states.setDraggedCol(col.id);\r\n                }}\r\n                onDragEnd={(e) => {\r\n                  e.stopPropagation();\r\n                  const draggedCol = states.getDraggedCol();\r\n                  const curColumns = columns.filter((curCol) => curCol.id !== draggedCol);\r\n                  const newIndex = curColumns.findIndex((curCol) => {\r\n                    const colRefrence = colRefs.current[curCol.id];\r\n                    const mousePos = e.clientX + (ref?.current?.parentElement?.parentElement.scrollLeft ?? 0);\r\n                    const isGreaterThanPos = mousePos < colRefrence.offsetLeft + colRefrence.clientWidth / 2;\r\n\r\n                    return isGreaterThanPos;\r\n                  });\r\n\r\n                  colRefs.current[draggedCol].style.setProperty(\"--scale\", \"\");\r\n\r\n                  states.setDraggedCol(null);\r\n                  curColumns.splice(newIndex, 0, col);\r\n                  const updatedColOrder = getUpdatedColOrder(curColumns);\r\n\r\n                  onDragEnd?.(updatedColOrder);\r\n                }}\r\n              >\r\n                <ColumnRenderer\r\n                  column={col}\r\n                  mod={{ draggable: true }}\r\n                  headerRenderers={headerRenderers}\r\n                  cellViews={cellViews}\r\n                  columnHeaderExtra={columnHeaderExtra}\r\n                  sortingEnabled={sortingEnabled}\r\n                  stopInteractions={stopInteractions}\r\n                  decoration={decoration}\r\n                  onTypeChange={onTypeChange}\r\n                  onResize={onResize}\r\n                  onReset={onReset}\r\n                />\r\n              </span>\r\n            );\r\n          })}\r\n          <span className={tableHeadCN.elem(\"extra\").toString()}>{extra}</span>\r\n        </div>\r\n      );\r\n    },\r\n  ),\r\n);\r\n","import { cn } from \"../../../utils/bem\";\r\n\r\nexport const SkeletonLine = ({\r\n  lineCount = 1,\r\n  width = \"60%\",\r\n  height = \"16px\",\r\n}: { lineCount?: number; width?: string; height?: string }) => {\r\n  const rows = [];\r\n\r\n  for (let i = 0; i < lineCount; i++) {\r\n    rows.push(\r\n      <div\r\n        className={cn(\"skeletonLoader\").elem(\"line\").toClassName()}\r\n        key={i}\r\n        style={{ \"--line-width\": width, \"--line-height\": height } as any}\r\n      />,\r\n    );\r\n  }\r\n  return <>{rows}</>;\r\n};\r\n","import { cn } from \"../../../utils/bem\";\r\n\r\nexport const SkeletonGap = ({ height = \"4px\" }: { height?: string }) => {\r\n  return <div className={cn(\"skeletonLoader\").elem(\"gap\").toClassName()} style={{ \"--height\": height } as any} />;\r\n};\r\n","import type { ReactChildren } from \"react\";\r\nimport \"./SkeletonLoader.scss\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { SkeletonLine } from \"./SkeletonLine\";\r\nimport { SkeletonGap } from \"./SkeletonGap\";\r\n\r\ninterface SkeletonLoaderProps {\r\n  children?: ReactChildren;\r\n  gap?: string;\r\n  lightColor?: string;\r\n  darkColor?: string;\r\n}\r\n\r\nexport const SkeletonLoader = ({ children, gap = \"4px\", lightColor, darkColor }: SkeletonLoaderProps) => {\r\n  const styles: any = { \"--skeleton-gap\": gap };\r\n\r\n  lightColor && (styles[\"--skeleton-light-color\"] = lightColor);\r\n  darkColor && (styles[\"--skeleton-dark-color\"] = darkColor);\r\n\r\n  return (\r\n    <div className={cn(\"skeletonLoader\").toClassName()} style={styles}>\r\n      {children ? (\r\n        children\r\n      ) : (\r\n        <>\r\n          <SkeletonLine />\r\n          <SkeletonGap />\r\n          <SkeletonLine width=\"40%\" height=\"24px\" />\r\n          <SkeletonLine width=\"50%\" height=\"12px\" />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import { observer } from \"mobx-react\";\r\nimport React from \"react\";\r\nimport { cn } from \"../../../../utils/bem\";\r\nimport { FF_LOPS_E_3, isFF } from \"../../../../utils/feature-flags\";\r\nimport { normalizeCellAlias } from \"../../../CellViews\";\r\nimport { SkeletonLoader } from \"../../SkeletonLoader\";\r\nimport \"./TableRow.scss\";\r\nimport { TableContext, tableCN } from \"../TableContext\";\r\nimport { getProperty, getStyle } from \"../utils\";\r\n\r\nconst CellRenderer = observer(({ col: colInput, data, decoration, cellViews }) => {\r\n  const { Header: _, Cell, id, ...col } = colInput;\r\n\r\n  if (Cell instanceof Function) {\r\n    const { headerClassName: _, cellClassName, ...rest } = col;\r\n\r\n    return (\r\n      <span className={tableCN.elem(\"cell\").mix(cellClassName).toString()} {...rest} key={id}>\r\n        <Cell data={data} />\r\n      </span>\r\n    );\r\n  }\r\n\r\n  const valuePath = id.split(\":\")[1] ?? id;\r\n  const altType = normalizeCellAlias(valuePath);\r\n  const value = getProperty(data, valuePath);\r\n\r\n  const Renderer = cellViews[altType] ?? cellViews[col.original.currentType] ?? cellViews.String;\r\n  const renderProps = { column: col, original: data, value };\r\n  const Decoration = decoration?.get?.(col);\r\n  const style = getStyle(cellViews, col, Decoration);\r\n  const cellIsLoading = isFF(FF_LOPS_E_3) && data.loading === colInput.alias;\r\n\r\n  return (\r\n    <div className={tableCN.elem(\"cell\").toString()}>\r\n      <div\r\n        style={{\r\n          ...(style ?? {}),\r\n          display: \"flex\",\r\n          height: \"100%\",\r\n          alignItems: cellIsLoading ? \"\" : \"center\",\r\n        }}\r\n      >\r\n        {cellIsLoading ? <SkeletonLoader /> : Renderer ? <Renderer {...renderProps} /> : value}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const TableRow = observer(({ data, even, style, wrapperStyle, onClick, stopInteractions, decoration }) => {\r\n  const { columns, cellViews } = React.useContext(TableContext);\r\n  const rowWrapperCN = tableCN.elem(\"row-wrapper\");\r\n  const tableRowCN = cn(\"table-row\");\r\n  const mods = {\r\n    even,\r\n    selected: data.isSelected,\r\n    highlighted: data.isHighlighted,\r\n    loading: data.isLoading,\r\n    disabled: stopInteractions,\r\n  };\r\n\r\n  return (\r\n    <div className={rowWrapperCN.mod(mods).toString()} style={wrapperStyle} onClick={(e) => onClick?.(data, e)}>\r\n      <div className={tableRowCN.toString()} style={style} data-leave={true}>\r\n        {columns.map((col) => {\r\n          return <CellRenderer key={col.id} col={col} data={data} cellViews={cellViews} decoration={decoration} />;\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","// extracted by mini-css-extract-plugin\nexport default {\"codeView\":\"codeView--iuKMn\",\"codeViewContent\":\"codeViewContent--yYkdk\",\"copyButton\":\"copyButton--RaMU2\",\"codeBlock\":\"codeBlock--axTn6\"};","import { type FC, useCallback, useMemo, useState } from \"react\";\r\nimport { Button, Tooltip } from \"@humansignal/ui\";\r\nimport { IconCopyOutline } from \"@humansignal/icons\";\r\nimport styles from \"./CodeView.module.scss\";\r\n\r\ninterface CodeViewProps {\r\n  /** JSON data to display */\r\n  data: any;\r\n}\r\n\r\n/**\r\n * CodeView - Simple code view for JSON data\r\n *\r\n * Displays JSON as formatted code with copy functionality.\r\n * Used as the fallback when the interactive JSON viewer feature flag is disabled.\r\n */\r\nexport const CodeView: FC<CodeViewProps> = ({ data }) => {\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  // Format JSON for display\r\n  const jsonString = useMemo(() => JSON.stringify(data, null, 2), [data]);\r\n\r\n  // Copy to clipboard functionality\r\n  const handleCopy = useCallback(() => {\r\n    navigator.clipboard.writeText(jsonString).then(() => {\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 1200);\r\n    });\r\n  }, [jsonString]);\r\n\r\n  return (\r\n    <div className={styles.codeView}>\r\n      <div className={styles.codeViewContent}>\r\n        <Tooltip title={copied ? \"Copied!\" : \"Copy JSON\"}>\r\n          <Button\r\n            look=\"outlined\"\r\n            variant=\"neutral\"\r\n            size=\"small\"\r\n            className={styles.copyButton}\r\n            onClick={handleCopy}\r\n            leading={<IconCopyOutline width={20} height={20} />}\r\n          />\r\n        </Tooltip>\r\n        <pre className={styles.codeBlock}>{jsonString}</pre>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"taskSourceView\":\"taskSourceView--bdJAe\",\"viewContent\":\"viewContent--PE27X\"};","import { Tabs, TabsList, TabsTrigger } from \"@humansignal/ui\";\r\n\r\nexport type ViewMode = \"code\" | \"interactive\";\r\n\r\ninterface ViewToggleProps {\r\n  /** Current view mode (code or interactive) */\r\n  view: ViewMode;\r\n  /** Callback when view mode changes */\r\n  onViewChange: (view: ViewMode) => void;\r\n  /** Additional CSS class */\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * ViewToggle - Controls for switching between Code and Interactive view modes\r\n */\r\nexport const ViewToggle = ({ view, onViewChange, className }: ViewToggleProps) => {\r\n  return (\r\n    <Tabs value={view} onValueChange={(newValue: string) => onViewChange(newValue as ViewMode)} variant=\"default\">\r\n      <TabsList className={className}>\r\n        <TabsTrigger value=\"code\">Code</TabsTrigger>\r\n        <TabsTrigger value=\"interactive\">Interactive</TabsTrigger>\r\n      </TabsList>\r\n    </Tabs>\r\n  );\r\n};\r\n","import { type ChangeEvent, type FC, useEffect, useState, useCallback } from \"react\";\r\nimport { JsonViewer, type FilterConfig, Toggle } from \"@humansignal/ui\";\r\nimport { FF_LOPS_E_3, FF_INTERACTIVE_JSON_VIEWER, isFF } from \"../../../utils/feature-flags\";\r\nimport { CodeView } from \"./CodeView\";\r\nimport styles from \"./TaskSourceViewer.module.scss\";\r\nimport { ViewToggle, type ViewMode } from \"./ViewToggle\";\r\n\r\nexport type { ViewMode };\r\n\r\n/** Options passed to onTaskLoad callback */\r\nexport interface TaskLoadOptions {\r\n  /** Whether to resolve storage URIs to proxy URLs (default: false) */\r\n  resolveUri?: boolean;\r\n}\r\n\r\nexport interface TaskSourceViewerProps {\r\n  /** Task content data */\r\n  content: any;\r\n  /** Function to load full task data */\r\n  onTaskLoad: (options?: TaskLoadOptions) => Promise<any>;\r\n  /** SDK type (e.g., \"DE\" for Data Explorer) */\r\n  sdkType?: string;\r\n  /** Storage key for localStorage persistence */\r\n  storageKey?: string;\r\n  /** Render toggle in external location (e.g., modal header) */\r\n  renderToggle?: (toggle: React.ReactNode) => void;\r\n}\r\n\r\n// Define filters outside component to prevent recreation on every render\r\nconst TASK_SOURCE_FILTERS: FilterConfig[] = [\r\n  {\r\n    id: \"annotations\",\r\n    label: \"Annotations\",\r\n    filterFn: (nodeData) => {\r\n      const path = nodeData.path;\r\n      return path && path.includes(\"annotations\");\r\n    },\r\n  },\r\n  {\r\n    id: \"predictions\",\r\n    label: \"Predictions\",\r\n    filterFn: (nodeData) => {\r\n      const path = nodeData.path;\r\n      return path && path.includes(\"predictions\");\r\n    },\r\n  },\r\n  {\r\n    id: \"data\",\r\n    label: \"Data\",\r\n    filterFn: (nodeData) => {\r\n      const path = nodeData.path;\r\n      return path && path.includes(\"data\");\r\n    },\r\n  },\r\n];\r\n\r\n/**\r\n * TaskSourceViewer - Displays task source with code and interactive views\r\n *\r\n * Loads task data and provides either code view or interactive JSON viewer.\r\n * Specific to the Data Manager and should not be part of the reusable UI library.\r\n */\r\nexport const TaskSourceViewer: FC<TaskSourceViewerProps> = ({\r\n  content,\r\n  onTaskLoad,\r\n  sdkType,\r\n  storageKey = \"dm:tasksource\",\r\n  renderToggle,\r\n}) => {\r\n  const isInteractiveViewerEnabled = isFF(FF_INTERACTIVE_JSON_VIEWER);\r\n\r\n  const [taskData, setTaskData] = useState(content);\r\n\r\n  // Manage view state internally\r\n  const [view, setView] = useState<ViewMode>(() =>\r\n    storageKey ? (localStorage.getItem(`${storageKey}:view`) as ViewMode) || \"code\" : \"code\",\r\n  );\r\n\r\n  // Manage resolve URIs state - default OFF to show original storage URIs\r\n  const [resolveUrls, setResolveUrls] = useState<boolean>(() =>\r\n    storageKey ? localStorage.getItem(`${storageKey}:resolveUrls`) === \"true\" : false,\r\n  );\r\n\r\n  const handleViewChange = useCallback(\r\n    (newView: ViewMode) => {\r\n      setView(newView);\r\n\r\n      // Save to localStorage\r\n      if (storageKey) {\r\n        localStorage.setItem(`${storageKey}:view`, newView);\r\n      }\r\n    },\r\n    [storageKey],\r\n  );\r\n\r\n  // Load full task data\r\n  useEffect(() => {\r\n    onTaskLoad({ resolveUri: resolveUrls }).then((response) => {\r\n      const formatted: any = {\r\n        id: response.id,\r\n        data: response.data,\r\n      };\r\n\r\n      // Don't include annotations/predictions for Data Explorer\r\n      if (sdkType !== \"DE\" && !isFF(FF_LOPS_E_3)) {\r\n        formatted.annotations = response.annotations ?? [];\r\n        formatted.predictions = response.predictions ?? [];\r\n      }\r\n\r\n      if (response.state) {\r\n        formatted.state = response.state;\r\n      }\r\n\r\n      setTaskData(formatted);\r\n    });\r\n  }, [onTaskLoad, sdkType, resolveUrls]);\r\n\r\n  // Handle resolve URIs toggle change\r\n  const handleResolveUrlsChange = useCallback(\r\n    (e: ChangeEvent<HTMLInputElement>) => {\r\n      const newValue = e.target.checked;\r\n      setResolveUrls(newValue);\r\n      if (storageKey) {\r\n        localStorage.setItem(`${storageKey}:resolveUrls`, String(newValue));\r\n      }\r\n    },\r\n    [storageKey],\r\n  );\r\n\r\n  // Provide toggle to external render location (e.g., modal header)\r\n  useEffect(() => {\r\n    if (renderToggle && isInteractiveViewerEnabled) {\r\n      renderToggle(<ViewToggle view={view} onViewChange={handleViewChange} />);\r\n    }\r\n  }, [renderToggle, view, handleViewChange, isInteractiveViewerEnabled]);\r\n\r\n  return (\r\n    <div className={styles.taskSourceView}>\r\n      <div className={styles.viewContent}>\r\n        {view === \"code\" ? (\r\n          <CodeView data={taskData} />\r\n        ) : (\r\n          <JsonViewer\r\n            data={taskData}\r\n            inset={true}\r\n            viewOnly={true}\r\n            showSearch={true}\r\n            customFilters={TASK_SOURCE_FILTERS}\r\n            minHeight={560}\r\n            maxHeight={560}\r\n            readerViewThreshold={100}\r\n            storageKey={storageKey}\r\n            toolbarExtra={\r\n              <div style={{ marginLeft: \"auto\" }}>\r\n                <Toggle label=\"Resolve URIs\" checked={resolveUrls} onChange={handleResolveUrlsChange} />\r\n              </div>\r\n            }\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { observer } from \"mobx-react\";\r\nimport { createContext, forwardRef, useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useSDK } from \"../../../providers/SDKProvider\";\r\nimport { isDefined } from \"../../../utils/utils\";\r\nimport { Icon } from \"../Icon/Icon\";\r\nimport { modal } from \"../Modal/Modal\";\r\nimport { IconCode, IconChevronDown } from \"@humansignal/icons\";\r\nimport { AutoSizerTable, Button } from \"@humansignal/ui\";\r\nimport \"./Table.scss\";\r\nimport { TableCheckboxCell } from \"./TableCheckbox\";\r\nimport { tableCN, TableContext } from \"./TableContext\";\r\nimport { TableHead } from \"./TableHead/TableHead\";\r\nimport { TableRow } from \"./TableRow/TableRow\";\r\nimport { prepareColumns } from \"./utils\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { FieldsButton } from \"../FieldsButton\";\r\nimport { FF_LOPS_E_3, isFF } from \"../../../utils/feature-flags\";\r\nimport { DensityToggle } from \"../../DataManager/Toolbar/DensityToggle\";\r\nimport { TaskSourceViewer } from \"../TaskSourceViewer\";\r\n\r\nconst Decorator = (decoration) => {\r\n  return {\r\n    get(col) {\r\n      return decoration.find((d) => {\r\n        let found = false;\r\n\r\n        if (isDefined(d.alias)) {\r\n          found = d.alias === col.alias;\r\n        } else if (d.resolver instanceof Function) {\r\n          found = d.resolver(col);\r\n        }\r\n\r\n        return found;\r\n      });\r\n    },\r\n  };\r\n};\r\n\r\nexport const Table = observer(\r\n  ({\r\n    view,\r\n    data,\r\n    cellViews,\r\n    selectedItems,\r\n    focusedItem,\r\n    decoration,\r\n    stopInteractions,\r\n    onColumnResize,\r\n    onColumnReset,\r\n    headerExtra,\r\n    onDensityChange,\r\n    onRangeSelect,\r\n    ...props\r\n  }) => {\r\n    const colOrderKey = \"dm:columnorder\";\r\n    const tableHead = useRef();\r\n    const [colOrder, setColOrder] = useState(JSON.parse(localStorage.getItem(colOrderKey)) ?? {});\r\n    const listRef = useRef();\r\n    const Decoration = useMemo(() => Decorator(decoration), [decoration]);\r\n    const { api, type } = useSDK();\r\n    const toolbarHeight = 41;\r\n    const isQuickView = view.root.isLabeling;\r\n    const [toolbarVisible, setToolbarVisible] = useState(true);\r\n    // Track last clicked row ID for shift-click range selection\r\n    const lastClickedId = useRef(null);\r\n\r\n    // Reset virtualizer cache when rowHeight changes\r\n    useEffect(() => {\r\n      if (listRef.current?._listRef) {\r\n        listRef.current._listRef.resetAfterIndex(0);\r\n      }\r\n    }, [props.rowHeight]);\r\n\r\n    const headerCheckboxCell = useCallback(() => {\r\n      return (\r\n        <TableCheckboxCell\r\n          checked={selectedItems.isAllSelected}\r\n          indeterminate={selectedItems.isIndeterminate}\r\n          onChange={() => props.onSelectAll()}\r\n          className=\"select-all\"\r\n          ariaLabel={`${selectedItems.isAllSelected ? \"Unselect\" : \"Select\"} all rows`}\r\n        />\r\n      );\r\n    }, [props.onSelectAll, selectedItems]);\r\n\r\n    const rowCheckBoxCell = useCallback(\r\n      ({ data: rowData }) => {\r\n        const isChecked = selectedItems.isSelected(rowData.id);\r\n        return (\r\n          <TableCheckboxCell\r\n            checked={isChecked}\r\n            onChange={(checked, shiftKey) => {\r\n              // Handle shift-click for range selection (works for both select and unselect)\r\n              if (shiftKey && lastClickedId.current !== null && onRangeSelect) {\r\n                const lastClickedIndex = data.findIndex((item) => item.id === lastClickedId.current);\r\n                const currentIndex = data.findIndex((item) => item.id === rowData.id);\r\n\r\n                if (lastClickedIndex !== -1 && currentIndex !== -1) {\r\n                  const startIndex = Math.min(lastClickedIndex, currentIndex);\r\n                  const endIndex = Math.max(lastClickedIndex, currentIndex);\r\n                  const rangeIds = data.slice(startIndex, endIndex + 1).map((item) => item.id);\r\n\r\n                  // Pass the select state: true = select range, false = unselect range\r\n                  onRangeSelect(rangeIds, checked);\r\n                  lastClickedId.current = rowData.id;\r\n                  return;\r\n                }\r\n              }\r\n\r\n              // Normal single-item toggle\r\n              props.onSelectRow(rowData.id);\r\n              // Always remember last clicked for shift-click range\r\n              lastClickedId.current = rowData.id;\r\n            }}\r\n            ariaLabel={`${isChecked ? \"Unselect\" : \"Select\"} Task ${rowData.id}`}\r\n          />\r\n        );\r\n      },\r\n      [props.onSelectRow, selectedItems, data, onRangeSelect],\r\n    );\r\n\r\n    const columns = prepareColumns(props.columns, props.hiddenColumns);\r\n\r\n    columns.unshift({\r\n      id: \"select\",\r\n      headerClassName: \"table__select-all\",\r\n      cellClassName: \"select-row\",\r\n      style: {\r\n        width: 40,\r\n        maxWidth: 40,\r\n        justifyContent: \"center\",\r\n      },\r\n      onClick: (e) => e.stopPropagation(),\r\n      Header: headerCheckboxCell,\r\n      Cell: rowCheckBoxCell,\r\n    });\r\n\r\n    columns.push({\r\n      id: \"show-source\",\r\n      cellClassName: \"show-source\",\r\n      headerClassName: \"show-source\",\r\n      style: {\r\n        width: 44,\r\n        maxWidth: 44,\r\n        justifyContent: \"center\",\r\n      },\r\n      onClick: (e) => e.stopPropagation(),\r\n      Header() {\r\n        return <div style={{ width: 44 }} />;\r\n      },\r\n      Cell({ data }) {\r\n        let out = JSON.parse(data.source ?? \"{}\");\r\n\r\n        out = {\r\n          id: out?.id,\r\n          data: out?.data,\r\n          annotations: out?.annotations,\r\n          predictions: out?.predictions,\r\n        };\r\n\r\n        const onTaskLoad = async (options = {}) => {\r\n          if (isFF(FF_LOPS_E_3) && type === \"DE\") {\r\n            return new Promise((resolve) => resolve(out));\r\n          }\r\n          const response = await api.task({\r\n            taskID: out.id,\r\n            resolve_uri: options.resolveUri ?? false,\r\n          });\r\n\r\n          return response ?? {};\r\n        };\r\n\r\n        return (\r\n          <Button\r\n            look=\"string\"\r\n            className=\"w-6 h-6 p-0 text-primary-content hover:text-primary-content-hover\"\r\n            onClick={() => {\r\n              const modalInstance = modal({\r\n                title: `Source for task ${out?.id}`,\r\n                style: { width: 900 },\r\n                header: null, // Will be set by renderToggle\r\n                body: (\r\n                  <TaskSourceViewer\r\n                    content={out}\r\n                    onTaskLoad={onTaskLoad}\r\n                    sdkType={type}\r\n                    storageKey=\"dm:tasksource\"\r\n                    renderToggle={(toggle) => {\r\n                      // Update modal header with toggle\r\n                      modalInstance?.update({ header: toggle });\r\n                    }}\r\n                  />\r\n                ),\r\n              });\r\n            }}\r\n            leading={<Icon icon={IconCode} />}\r\n            tooltip=\"Show task source\"\r\n          />\r\n        );\r\n      },\r\n    });\r\n\r\n    if (Object.keys(colOrder).length > 0) {\r\n      columns.sort((a, b) => {\r\n        return colOrder[a.id] < colOrder[b.id] ? -1 : 1;\r\n      });\r\n    }\r\n    useEffect(() => {\r\n      localStorage.setItem(colOrderKey, JSON.stringify(colOrder));\r\n    }, [colOrder]);\r\n\r\n    const contextValue = {\r\n      columns,\r\n      data,\r\n      cellViews,\r\n    };\r\n\r\n    const headerHeight = 43;\r\n\r\n    const renderTableToolbar = useCallback(() => {\r\n      return (\r\n        <div className={cn(\"table-toolbar\").mod({ visible: toolbarVisible }).toString()}>\r\n          <FieldsButton\r\n            className={cn(\"table-toolbar\").elem(\"customize-button\").toString()}\r\n            wrapper={FieldsButton.Checkbox}\r\n            title={\"Columns\"}\r\n            size=\"small\"\r\n            trailingIcon={<Icon icon={IconChevronDown} />}\r\n            tooltip={\"Customize Columns\"}\r\n            data-testid=\"columns-picker-quickview\"\r\n          />\r\n          <DensityToggle size=\"small\" onChange={onDensityChange} data-testid=\"density-toggle-quickview\" />\r\n        </div>\r\n      );\r\n    }, [toolbarVisible, onDensityChange]);\r\n\r\n    const renderTableHeader = useCallback(\r\n      ({ style }) => (\r\n        <TableHead\r\n          ref={tableHead}\r\n          style={style}\r\n          order={props.order}\r\n          columnHeaderExtra={props.columnHeaderExtra}\r\n          sortingEnabled={props.sortingEnabled}\r\n          onSetOrder={props.onSetOrder}\r\n          stopInteractions={stopInteractions}\r\n          onTypeChange={props.onTypeChange}\r\n          decoration={Decoration}\r\n          onResize={onColumnResize}\r\n          onReset={onColumnReset}\r\n          extra={headerExtra}\r\n          onDragEnd={(updatedColOrder) => setColOrder(updatedColOrder)}\r\n        />\r\n      ),\r\n      [\r\n        props.order,\r\n        props.columnHeaderExtra,\r\n        props.sortingEnabled,\r\n        props.onSetOrder,\r\n        props.onTypeChange,\r\n        stopInteractions,\r\n        view,\r\n        view.selected.list,\r\n        view.selected.all,\r\n        tableHead,\r\n      ],\r\n    );\r\n\r\n    const renderRow = useCallback(\r\n      ({ style, index }) => {\r\n        // Both QuickView and Regular mode: Index 0 is header (sticky), Index 1+ are data rows\r\n        const dataIndex = index - 1;\r\n        const row = data[dataIndex];\r\n        const isEven = dataIndex % 2 === 0;\r\n\r\n        if (isQuickView) {\r\n          return (\r\n            <TableRow\r\n              key={row.id}\r\n              data={row}\r\n              even={isEven}\r\n              onClick={(row, e) => props.onRowClick(row, e)}\r\n              stopInteractions={stopInteractions}\r\n              wrapperStyle={{ ...style, height: props.rowHeight }}\r\n              style={{\r\n                height: props.rowHeight,\r\n                width: props.fitContent ? \"fit-content\" : \"auto\",\r\n              }}\r\n              decoration={Decoration}\r\n            />\r\n          );\r\n        }\r\n\r\n        // Invert for visual consistency in Regular mode: we want odd rows (2nd, 4th, etc.) to have background\r\n        const shouldApplyBackground = !isEven;\r\n\r\n        return (\r\n          <TableRow\r\n            key={row.id}\r\n            data={row}\r\n            even={shouldApplyBackground}\r\n            onClick={(row, e) => props.onRowClick(row, e)}\r\n            stopInteractions={stopInteractions}\r\n            wrapperStyle={{ ...style, height: props.rowHeight }}\r\n            style={{\r\n              height: props.rowHeight,\r\n              width: props.fitContent ? \"fit-content\" : \"auto\",\r\n            }}\r\n            decoration={Decoration}\r\n          />\r\n        );\r\n      },\r\n      [\r\n        data,\r\n        props.fitContent,\r\n        props.onRowClick,\r\n        props.rowHeight,\r\n        stopInteractions,\r\n        selectedItems,\r\n        view,\r\n        view.selected.list,\r\n        view.selected.all,\r\n        isQuickView,\r\n      ],\r\n    );\r\n\r\n    const isItemLoaded = useCallback(\r\n      (index) => {\r\n        return props.isItemLoaded(data, index);\r\n      },\r\n      [props, data],\r\n    );\r\n\r\n    const cachedScrollOffset = useRef();\r\n\r\n    const initialScrollOffset = useCallback(\r\n      (height) => {\r\n        if (isDefined(cachedScrollOffset.current)) {\r\n          return cachedScrollOffset.current;\r\n        }\r\n\r\n        const h = props.rowHeight;\r\n        const index = data.indexOf(focusedItem);\r\n\r\n        if (index >= 0) {\r\n          const scrollOffset = index * h - height / 2 + h / 2; // + headerHeight\r\n\r\n          return (cachedScrollOffset.current = scrollOffset);\r\n        }\r\n        return 0;\r\n      },\r\n      [props.rowHeight, data, focusedItem],\r\n    );\r\n\r\n    const itemKey = useCallback(\r\n      (index) => {\r\n        if (index > data.length - 1) {\r\n          return index;\r\n        }\r\n        return data[index]?.key ?? index;\r\n      },\r\n      [data],\r\n    );\r\n\r\n    useEffect(() => {\r\n      const listComponent = listRef.current?._listRef;\r\n\r\n      if (listComponent) {\r\n        listComponent.scrollToItem(data.indexOf(focusedItem), \"center\");\r\n      }\r\n    }, [data]);\r\n    const tableWrapper = useRef();\r\n\r\n    const handleScroll = useCallback(\r\n      ({ scrollOffset }) => {\r\n        if (isQuickView && scrollOffset >= 0) {\r\n          setToolbarVisible(scrollOffset === 0);\r\n        }\r\n      },\r\n      [isQuickView, toolbarHeight],\r\n    );\r\n\r\n    return (\r\n      <div ref={tableWrapper} className={tableCN.mod({ fit: props.fitToContent }).toString()}>\r\n        {isQuickView && renderTableToolbar()}\r\n        <TableContext.Provider value={contextValue}>\r\n          <StickyList\r\n            ref={listRef}\r\n            overscanCount={10}\r\n            itemHeight={props.rowHeight}\r\n            totalCount={props.total}\r\n            itemCount={data.length + 1}\r\n            itemKey={itemKey}\r\n            innerElementType={innerElementType}\r\n            stickyItems={[0]}\r\n            stickyItemsHeight={[headerHeight]}\r\n            stickyComponent={renderTableHeader}\r\n            initialScrollOffset={initialScrollOffset}\r\n            isItemLoaded={isItemLoaded}\r\n            loadMore={props.loadMore}\r\n            toolbarHeight={toolbarHeight}\r\n            headerHeight={headerHeight}\r\n            isQuickView={isQuickView}\r\n            onScroll={handleScroll}\r\n            toolbarVisible={toolbarVisible}\r\n          >\r\n            {renderRow}\r\n          </StickyList>\r\n        </TableContext.Provider>\r\n      </div>\r\n    );\r\n  },\r\n);\r\n\r\nconst StickyListContext = createContext();\r\n\r\nStickyListContext.displayName = \"StickyListProvider\";\r\n\r\nconst ItemWrapper = ({ data, index, style }) => {\r\n  const { Renderer, stickyItems } = data;\r\n\r\n  if (stickyItems?.includes(index) === true) {\r\n    return null;\r\n  }\r\n\r\n  return <Renderer index={index} style={style} />;\r\n};\r\n\r\nconst StickyList = observer(\r\n  forwardRef((props, listRef) => {\r\n    const {\r\n      children,\r\n      stickyComponent,\r\n      stickyItems,\r\n      stickyItemsHeight,\r\n      totalCount,\r\n      isItemLoaded,\r\n      loadMore,\r\n      initialScrollOffset,\r\n      toolbarHeight,\r\n      headerHeight,\r\n      isQuickView,\r\n      onScroll,\r\n      headerTopOffset,\r\n      toolbarVisible,\r\n      ...rest\r\n    } = props;\r\n\r\n    const itemData = {\r\n      Renderer: children,\r\n      StickyComponent: stickyComponent,\r\n      stickyItems,\r\n      stickyItemsHeight,\r\n      headerTopOffset,\r\n      isQuickView,\r\n      toolbarHeight,\r\n    };\r\n\r\n    const itemSize = (index) => {\r\n      if (isQuickView) {\r\n        if (stickyItems.includes(index)) {\r\n          return headerHeight;\r\n        }\r\n      } else {\r\n        // Regular mode: Index 0 is sticky header\r\n        if (stickyItems.includes(index)) {\r\n          return headerHeight;\r\n        }\r\n      }\r\n      // All other indices are data rows\r\n      return rest.itemHeight;\r\n    };\r\n\r\n    // Calculate height adjustment for QuickView mode\r\n    // Subtract toolbar height (when visible) and app header height\r\n    const heightAdjustment = useMemo(() => {\r\n      if (!isQuickView) return 0;\r\n\r\n      // Get app header height from CSS variable\r\n      const appHeaderHeight = Number.parseInt(\r\n        getComputedStyle(document.documentElement).getPropertyValue(\"--header-height\") || \"0\",\r\n        10,\r\n      );\r\n\r\n      // Add toolbar height only when toolbar is visible\r\n      const adjustment = appHeaderHeight + (toolbarVisible ? toolbarHeight : 0);\r\n\r\n      return adjustment;\r\n    }, [isQuickView, toolbarVisible, toolbarHeight]);\r\n\r\n    return (\r\n      <StickyListContext.Provider value={itemData}>\r\n        <AutoSizerTable\r\n          ref={listRef}\r\n          totalCount={totalCount}\r\n          loadMore={loadMore}\r\n          isItemLoaded={isItemLoaded}\r\n          itemData={itemData}\r\n          itemSize={itemSize}\r\n          initialScrollOffset={initialScrollOffset}\r\n          className={tableCN.elem(\"auto-size\").mod({ \"quick-view\": isQuickView }).toString()}\r\n          onScroll={onScroll}\r\n          heightAdjustment={heightAdjustment}\r\n          {...rest}\r\n        >\r\n          {ItemWrapper}\r\n        </AutoSizerTable>\r\n      </StickyListContext.Provider>\r\n    );\r\n  }),\r\n);\r\n\r\nStickyList.displayName = \"StickyList\";\r\n\r\nconst innerElementType = forwardRef(({ children, ...rest }, ref) => {\r\n  return (\r\n    <StickyListContext.Consumer>\r\n      {({ stickyItems, stickyItemsHeight, StickyComponent, headerTopOffset, isQuickView, toolbarHeight }) => {\r\n        // Ensure top position is always between 0 and toolbarHeight in QuickView\r\n        const topPosition = isQuickView ? Math.max(0, Math.min(toolbarHeight, headerTopOffset ?? 0)) : 0;\r\n\r\n        // In QuickView mode, children[0] is the toolbar, children[1+] are data rows\r\n        const childrenArray = Array.isArray(children) ? children : children ? [children] : [];\r\n        const toolbar = isQuickView && childrenArray.length > 0 ? childrenArray[0] : null;\r\n        const bodyRows = isQuickView && childrenArray.length > 0 ? childrenArray.slice(1) : children;\r\n\r\n        return (\r\n          <div ref={ref} {...rest}>\r\n            {stickyItems.map((index) => (\r\n              <StickyComponent\r\n                className={tableCN.elem(\"sticky-header\").toString()}\r\n                key={index}\r\n                index={index}\r\n                style={{\r\n                  height: stickyItemsHeight[index],\r\n                  top: topPosition,\r\n                }}\r\n              />\r\n            ))}\r\n\r\n            {isQuickView ? (\r\n              <>\r\n                {toolbar}\r\n                <div className={tableCN.elem(\"body-rows\").toString()}>{bodyRows}</div>\r\n              </>\r\n            ) : (\r\n              children\r\n            )}\r\n          </div>\r\n        );\r\n      }}\r\n    </StickyListContext.Consumer>\r\n  );\r\n});\r\n","import { MediaPlayer } from \"../Common/MediaPlayer/MediaPlayer\";\r\n\r\nexport const AudioDataGroup = ({ value }) => {\r\n  const style = {\r\n    padding: 10,\r\n    height: AudioDataGroup.height,\r\n    boxSizing: \"content-box\",\r\n  };\r\n\r\n  return (\r\n    <div style={style}>\r\n      <MediaPlayer src={value} />\r\n    </div>\r\n  );\r\n};\r\n\r\nAudioDataGroup.height = 32;\r\n","import { getRoot } from \"mobx-state-tree\";\r\nimport { AnnotationPreview } from \"../Common/AnnotationPreview/AnnotationPreview\";\r\nimport { cn } from \"../../utils/bem\";\r\n\r\nexport const IMAGE_SIZE_COEFFICIENT = 8;\r\n\r\nexport const ImageDataGroup = (column) => {\r\n  const {\r\n    value,\r\n    original,\r\n    field: { alias },\r\n    columnCount,\r\n  } = column;\r\n  const root = getRoot(original);\r\n  const imageHeight = ImageDataGroup.height * Math.max(1, IMAGE_SIZE_COEFFICIENT - columnCount);\r\n\r\n  return original.total_annotations === 0 || !root.showPreviews ? (\r\n    <div className={cn(\"grid-image-wrapper\").toClassName()}>\r\n      <img src={value} width=\"auto\" style={{ height: imageHeight }} alt=\"\" />\r\n    </div>\r\n  ) : (\r\n    <AnnotationPreview\r\n      task={original}\r\n      annotation={original.annotations[0]}\r\n      config={getRoot(original).SDK}\r\n      name={alias}\r\n      width=\"100%\"\r\n      size=\"large\"\r\n      fallbackImage={value}\r\n      height={ImageDataGroup.height}\r\n    />\r\n  );\r\n};\r\n\r\nImageDataGroup.height = 150;\r\n","import { format, isValid } from \"date-fns\";\r\nimport { dateTimeFormat } from \"../CellViews/DateTimeCell\";\r\nimport clsx from \"clsx\";\r\n\r\nexport const valueToString = (value) => {\r\n  if (typeof value === \"string\") return value;\r\n  /* if undefined or null we'll treat it as empty string */\r\n  if (value === undefined || value === null) return \"\";\r\n  if (value instanceof Date && isValid(value)) return format(value, dateTimeFormat);\r\n\r\n  try {\r\n    /* JSON.stringify will handle JSON and non-strings, non-null, non-undefined */\r\n    return JSON.stringify(value);\r\n  } catch {\r\n    return \"Error: Invalid JSON\";\r\n  }\r\n};\r\n\r\nexport const TextDataGroup = ({ value, hasImage }) => {\r\n  const output = valueToString(value);\r\n  const style = {\r\n    height: hasImage ? TextDataGroup.height : \"auto\",\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={style}\r\n      title={output}\r\n      className={clsx(\"p-tight\", {\r\n        \"text-wrap leading-normal\": !hasImage,\r\n        \"text-nowrap\": hasImage,\r\n      })}\r\n    >\r\n      {output}\r\n    </div>\r\n  );\r\n};\r\n\r\nTextDataGroup.height = 32;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"modal--EGUnc\",\"header\":\"header--R5Nb0\",\"tooltip\":\"tooltip--GHkds\",\"actions\":\"actions--UtrE5\",\"container\":\"container--XPn_h\",\"image\":\"image--u5eCM\"};","import { useState, useRef, useEffect, type CSSProperties, useCallback } from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport styles from \"./GridPreview.module.scss\";\r\nimport { cn } from \"@humansignal/ui\";\r\n\r\nconst MAX_ZOOM = 20;\r\nconst ZOOM_FACTOR = 0.01;\r\n\r\ntype Task = {\r\n  id: number;\r\n  data: Record<string, string>;\r\n};\r\n\r\ntype ImagePreviewProps = {\r\n  task: Task;\r\n  field: string;\r\n};\r\n\r\n// @todo constrain the position of the image to the container\r\nconst ImagePreview = observer(({ task, field }: ImagePreviewProps) => {\r\n  const src = task.data?.[field] ?? \"\";\r\n\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const imageRef = useRef<HTMLImageElement>(null);\r\n\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n  // visible container size\r\n  const [containerSize, setContainerSize] = useState({ width: 0, height: 0 });\r\n  // scaled image size\r\n  const [imageSize, setImageSize] = useState({ width: 0, height: 0 });\r\n\r\n  // Zoom and position state\r\n  const [scale, setScale] = useState(1);\r\n  const [offset, setOffset] = useState({ x: 0, y: 0 });\r\n\r\n  const [isDragging, setIsDragging] = useState(false);\r\n\r\n  const dragParams = useRef({\r\n    dragAnchor: { x: 0, y: 0 },\r\n    startOffset: { x: 0, y: 0 },\r\n  });\r\n\r\n  // Reset on task change\r\n  // biome-ignore lint/correctness/useExhaustiveDependencies: those are setStates, not values\r\n  useEffect(() => {\r\n    setScale(1);\r\n    setIsDragging(false);\r\n  }, [task, src]);\r\n\r\n  const constrainOffset = useCallback(\r\n    (newOffset: { x: number; y: number }) => {\r\n      const { x, y } = newOffset;\r\n      const { width, height } = imageSize;\r\n      const { width: containerWidth, height: containerHeight } = containerSize;\r\n\r\n      // to preserve paddings and make it less weird\r\n      const minX = (containerWidth - width) / 2;\r\n      const minY = (containerHeight - height) / 2;\r\n      // the far edges should be behind container edges\r\n      const maxX = Math.max(width * scale - containerWidth, 0);\r\n      const maxY = Math.max(height * scale - containerHeight, 0);\r\n\r\n      return {\r\n        x: Math.min(Math.max(x, -maxX), minX),\r\n        y: Math.min(Math.max(y, -maxY), minY),\r\n      };\r\n    },\r\n    [imageSize, containerSize, scale],\r\n  );\r\n\r\n  const handleImageLoad = useCallback((e: React.SyntheticEvent<HTMLImageElement>) => {\r\n    if (containerRef.current) {\r\n      const img = e.currentTarget;\r\n      const containerRect = containerRef.current.getBoundingClientRect();\r\n\r\n      setContainerSize({\r\n        width: containerRect.width,\r\n        height: containerRect.height,\r\n      });\r\n\r\n      const coverScaleX = containerRect.width / img.naturalWidth;\r\n      const coverScaleY = containerRect.height / img.naturalHeight;\r\n      // image is scaled by html, but we need to know this scale level\r\n      // how much is image zoomed out to fit into container\r\n      const imageScale = Math.min(coverScaleX, coverScaleY);\r\n\r\n      const scaledWidth = img.naturalWidth * imageScale;\r\n      const scaledHeight = img.naturalHeight * imageScale;\r\n      // how much should we zoom image in to cover container\r\n      // const coverScale = Math.max(containerRect.width / scaledWidth, containerRect.height / scaledHeight);\r\n\r\n      setImageSize({\r\n        width: scaledWidth,\r\n        height: scaledHeight,\r\n      });\r\n\r\n      // Center the image initially\r\n      const initialX = (containerRect.width - scaledWidth) / 2;\r\n      const initialY = (containerRect.height - scaledHeight) / 2;\r\n\r\n      setOffset({ x: initialX, y: initialY });\r\n      setImageLoaded(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleWheel = useCallback(\r\n    (e: React.WheelEvent) => {\r\n      if (!containerRef.current || !imageLoaded) return;\r\n\r\n      const container = containerRef.current;\r\n      const rect = container.getBoundingClientRect();\r\n      const img = imageRef.current;\r\n      if (!img) return;\r\n\r\n      // Calculate cursor position relative to center\r\n      const cursorX = e.clientX - rect.left;\r\n      const cursorY = e.clientY - rect.top;\r\n\r\n      // Zoom calculation\r\n      const newScale =\r\n        e.deltaY < 0\r\n          ? Math.min(scale * (1 + ZOOM_FACTOR), MAX_ZOOM) // Max zoom\r\n          : Math.max(scale * (1 - ZOOM_FACTOR), 1); // Min zoom\r\n\r\n      // Calculate zoom translation\r\n      const scaleDelta = newScale / scale;\r\n      // cursor - offset = cursor position relative to image; and that's the value being scaled.\r\n      // cursor position on a screen should stay the same, so we need to calculate new offset\r\n      // by scaling the distance to image edges and subtracting it from cursor position\r\n      const newX = cursorX - (cursorX - offset.x) * scaleDelta;\r\n      const newY = cursorY - (cursorY - offset.y) * scaleDelta;\r\n\r\n      setScale(newScale);\r\n      setOffset(constrainOffset({ x: newX, y: newY }));\r\n    },\r\n    [imageLoaded, offset, scale, constrainOffset],\r\n  );\r\n\r\n  const handleMouseMove = useCallback(\r\n    (e: MouseEvent) => {\r\n      if (!containerRef.current || !imageRef.current) return;\r\n\r\n      const { x: oldX, y: oldY } = dragParams.current.dragAnchor;\r\n      const { x: offsetX, y: offsetY } = dragParams.current.startOffset;\r\n      const newX = e.clientX - oldX;\r\n      const newY = e.clientY - oldY;\r\n\r\n      setOffset(constrainOffset({ x: offsetX + newX, y: offsetY + newY }));\r\n    },\r\n    [constrainOffset],\r\n  );\r\n\r\n  const handleMouseUp = useCallback(\r\n    (e: MouseEvent) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      setIsDragging(false);\r\n\r\n      window.removeEventListener(\"mousemove\", handleMouseMove);\r\n      window.removeEventListener(\"mouseup\", handleMouseUp);\r\n    },\r\n    [handleMouseMove],\r\n  );\r\n\r\n  const handleMouseDown = useCallback(\r\n    (e: React.MouseEvent) => {\r\n      if (!containerRef.current || scale <= 1) return;\r\n\r\n      setIsDragging(true);\r\n      dragParams.current.dragAnchor = { x: e.clientX, y: e.clientY };\r\n      dragParams.current.startOffset = { ...offset };\r\n\r\n      window.addEventListener(\"mousemove\", handleMouseMove);\r\n      // this event would be fired even if we release the mouse outside the window\r\n      // we catch `click` and use `capture: true` to block the click outside of the modal\r\n      /** @see ModalPopup#onClickOutside() */\r\n      window.addEventListener(\"click\", handleMouseUp, { capture: true, once: true });\r\n    },\r\n    [scale, offset, handleMouseMove, handleMouseUp],\r\n  );\r\n\r\n  // Container styles\r\n  const containerStyle: CSSProperties = {\r\n    minHeight: \"200px\",\r\n    maxHeight: \"calc(90vh - 120px)\",\r\n    width: \"100%\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n    cursor: scale > 1 ? (isDragging ? \"grabbing\" : \"grab\") : \"default\",\r\n    userSelect: \"none\",\r\n  };\r\n\r\n  // Image styles\r\n  const imageStyle: CSSProperties = imageLoaded\r\n    ? {\r\n        maxWidth: \"100%\",\r\n        maxHeight: \"100%\",\r\n        transform: `translate(${offset.x}px, ${offset.y}px) scale(${scale})`,\r\n        transformOrigin: \"0 0\",\r\n      }\r\n    : {\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        objectFit: \"contain\",\r\n      };\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      style={containerStyle}\r\n      className={cn(styles.imageContainer, \"px-tight\")}\r\n      onWheel={handleWheel}\r\n      onMouseDown={handleMouseDown}\r\n    >\r\n      {src && (\r\n        <img\r\n          ref={imageRef}\r\n          src={src}\r\n          alt=\"Task Preview\"\r\n          style={imageStyle}\r\n          className={styles.image}\r\n          onLoad={handleImageLoad}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nconst ImagePreviewWrapper = observer(({ task, field }: ImagePreviewProps) => {\r\n  if (!task || !field) return null;\r\n  return <ImagePreview task={task} field={field} />;\r\n});\r\n\r\nexport { ImagePreviewWrapper as ImagePreview };\r\n","import { CloseOutlined, QuestionCircleOutlined } from \"@ant-design/icons\";\r\nimport { Button, Checkbox, IconChevronLeft, IconChevronRight } from \"@humansignal/ui\";\r\nimport { observer } from \"mobx-react\";\r\nimport type { PropsWithChildren } from \"react\";\r\nimport { createContext, useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { modal } from \"../../Common/Modal/Modal\";\r\nimport { Icon } from \"../../Common/Icon/Icon\";\r\nimport { Tooltip } from \"@humansignal/ui\";\r\nimport { ImagePreview } from \"./ImagePreview\";\r\n\r\nimport styles from \"./GridPreview.module.scss\";\r\n\r\ntype Task = {\r\n  id: number;\r\n  data: Record<string, string>;\r\n};\r\n\r\ntype GridViewContextType = {\r\n  tasks: Task[];\r\n  imageField: string | undefined;\r\n  currentTaskId: number | null;\r\n  setCurrentTaskId: (id: number | null) => void;\r\n  hasImage: boolean;\r\n};\r\n\r\ntype TaskModalProps = GridViewContextType & { view: any; imageField: string };\r\n\r\nexport const GridViewContext = createContext<GridViewContextType>({\r\n  tasks: [],\r\n  imageField: undefined,\r\n  currentTaskId: null,\r\n  setCurrentTaskId: () => {},\r\n  hasImage: false,\r\n});\r\n\r\nconst TaskModal = observer(({ view, tasks, imageField, currentTaskId, setCurrentTaskId }: TaskModalProps) => {\r\n  const index = tasks.findIndex((task) => task.id === currentTaskId);\r\n  const task = tasks[index];\r\n\r\n  const goToNext = useCallback(() => {\r\n    if (index < tasks.length - 1) {\r\n      setCurrentTaskId(tasks[index + 1].id);\r\n    }\r\n  }, [index, tasks]);\r\n\r\n  const goToPrev = useCallback(() => {\r\n    if (index > 0) {\r\n      setCurrentTaskId(tasks[index - 1].id);\r\n    }\r\n  }, [index, tasks]);\r\n\r\n  const onSelect = useCallback(() => {\r\n    if (task) {\r\n      view.toggleSelected(task.id);\r\n    }\r\n  }, [task, view]);\r\n\r\n  const onClose = useCallback(() => {\r\n    setCurrentTaskId(null);\r\n  }, []);\r\n\r\n  // assign hotkeys\r\n  useEffect(() => {\r\n    const onKeyDown = (event: KeyboardEvent) => {\r\n      if (event.key === \"ArrowLeft\") {\r\n        goToPrev();\r\n      } else if (event.key === \"ArrowRight\") {\r\n        goToNext();\r\n      } else if (event.key === \" \") {\r\n        onSelect();\r\n        event.preventDefault();\r\n      } else if (event.key === \"Escape\") {\r\n        onClose();\r\n      } else {\r\n        // pass this event through for other keys\r\n        return;\r\n      }\r\n\r\n      event.stopPropagation();\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", onKeyDown);\r\n    return () => document.removeEventListener(\"keydown\", onKeyDown);\r\n  }, [goToNext, goToPrev, onSelect, onClose]);\r\n\r\n  if (!task) {\r\n    return null;\r\n  }\r\n\r\n  const tooltip = (\r\n    <div className={styles.tooltip}>\r\n      <p>Preview of the task image to quickly navigate through the tasks and select the ones you want to work on.</p>\r\n      <p>Use [arrow keys] to navigate.</p>\r\n      <p>[Escape] to close the modal.</p>\r\n      <p>[Space] to select/unselect the task.</p>\r\n      <p>Use [scroll] to zoom in/out and [drag] to pan around while image is zoomed in.</p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className={styles.modal}>\r\n      <div className={styles.header}>\r\n        <Checkbox checked={view.selected.isSelected(task.id)} onChange={onSelect}>\r\n          Task {task.id}\r\n        </Checkbox>\r\n        <div className={styles.actions}>\r\n          <Tooltip title={tooltip}>\r\n            <Icon icon={QuestionCircleOutlined} />\r\n          </Tooltip>\r\n          <Icon icon={CloseOutlined} onClick={onClose} />\r\n        </div>\r\n      </div>\r\n      <div className=\"grid grid-cols-[20px_1fr_20px]\">\r\n        <Button\r\n          type=\"button\"\r\n          className=\"h-full [&_span]:aspect-auto !p-0\"\r\n          variant=\"primary\"\r\n          look=\"string\"\r\n          onClick={goToPrev}\r\n          disabled={index === 0}\r\n        >\r\n          <IconChevronLeft />\r\n        </Button>\r\n        <ImagePreview task={task} field={imageField} />\r\n        <Button\r\n          type=\"button\"\r\n          className=\"h-full [&_span]:aspect-auto !p-0\"\r\n          variant=\"primary\"\r\n          look=\"string\"\r\n          onClick={goToNext}\r\n          disabled={index === tasks.length - 1}\r\n        >\r\n          <IconChevronRight />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\ntype GridViewProviderProps = PropsWithChildren<{\r\n  data: Task[];\r\n  view: any;\r\n  fields: { alias: string; currentType: string }[];\r\n}>;\r\n\r\nexport const GridViewProvider: React.FC<GridViewProviderProps> = ({ children, data, view, fields }) => {\r\n  const [currentTaskId, setCurrentTaskId] = useState<number | null>(null);\r\n  const modalRef = useRef<{ update: (props: object) => void; close: () => void } | null>(null);\r\n  const imageField = fields.find((f) => f.currentType === \"Image\")?.alias;\r\n  const hasImage = fields.some((f) => f.currentType === \"Image\");\r\n\r\n  const onClose = useCallback(() => {\r\n    modalRef.current = null;\r\n    setCurrentTaskId(null);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (currentTaskId === null) {\r\n      modalRef.current?.close();\r\n      return;\r\n    }\r\n\r\n    if (!imageField) return;\r\n\r\n    const children = (\r\n      <TaskModal\r\n        view={view}\r\n        tasks={data}\r\n        imageField={imageField}\r\n        currentTaskId={currentTaskId}\r\n        setCurrentTaskId={setCurrentTaskId}\r\n        hasImage={hasImage}\r\n      />\r\n    );\r\n\r\n    if (!modalRef.current) {\r\n      modalRef.current = modal({\r\n        bare: true,\r\n        title: \"Task Preview\",\r\n        style: { width: 800 },\r\n        children,\r\n        onHidden: onClose,\r\n      });\r\n    } else {\r\n      modalRef.current.update({ children });\r\n    }\r\n  }, [currentTaskId, data, onClose]);\r\n\r\n  // close the modal when we leave the view (by browser controls or by hotkeys)\r\n  useEffect(() => () => modalRef.current?.close(), []);\r\n\r\n  return (\r\n    <GridViewContext.Provider value={{ tasks: data, imageField, currentTaskId, setCurrentTaskId, hasImage }}>\r\n      {children}\r\n    </GridViewContext.Provider>\r\n  );\r\n};\r\n","import { observer } from \"mobx-react\";\r\nimport { useCallback, useContext, useMemo, useEffect, useRef } from \"react\";\r\nimport AutoSizer from \"react-virtualized-auto-sizer\";\r\nimport { FixedSizeGrid } from \"react-window\";\r\nimport InfiniteLoader from \"react-window-infinite-loader\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { Checkbox, cnm } from \"@humansignal/ui\";\r\nimport { Space } from \"../../Common/Space/Space\";\r\nimport { getProperty, prepareColumns } from \"../../Common/Table/utils\";\r\nimport * as DataGroups from \"../../DataGroups\";\r\nimport { FF_GRID_PREVIEW, FF_LOPS_E_3, isFF } from \"../../../utils/feature-flags\";\r\nimport { SkeletonLoader } from \"../../Common/SkeletonLoader\";\r\nimport { GridViewContext, GridViewProvider } from \"./GridPreview\";\r\nimport \"./GridView.scss\";\r\nimport { groupBy } from \"../../../utils/utils\";\r\nimport { IMAGE_SIZE_COEFFICIENT } from \"../../DataGroups/ImageDataGroup\";\r\n\r\nconst NO_IMAGE_CELL_HEIGHT = 250;\r\nconst CELL_HEADER_HEIGHT = 32;\r\n\r\nexport const GridHeader = observer(({ row, selected, onSelect }) => {\r\n  const isSelected = selected.isSelected(row.id);\r\n  return (\r\n    <div className={cn(\"grid-view\").elem(\"cell-header\").toClassName()}>\r\n      <Space>\r\n        <Checkbox\r\n          checked={isSelected}\r\n          ariaLabel={`${isSelected ? \"Unselect\" : \"Select\"} Task ${row.id}`}\r\n          onChange={() => onSelect?.(row.id)}\r\n        />\r\n        <span>{row.id}</span>\r\n      </Space>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const GridBody = observer(({ row, fields, columnCount }) => {\r\n  const { hasImage } = useContext(GridViewContext);\r\n  const dataFields = fields.filter((f) => f.parent?.alias === \"data\");\r\n  const group = groupBy(dataFields, (f) => f.currentType);\r\n\r\n  return Object.entries(group).map(([type, fields]) => {\r\n    return (\r\n      <div\r\n        key={type}\r\n        className={cnm(\"h-full w-full\", {\r\n          \"overflow-x-auto scrollbar-thin scrollbar-thumb-neutral-border scrollbar-track-transparent\":\r\n            type !== \"Image\" || type === \"Unknown\",\r\n          \"h-auto\": !hasImage || hasImage,\r\n        })}\r\n      >\r\n        {fields.map((field, index) => {\r\n          const valuePath = field.id.split(\":\")[1] ?? field.id;\r\n          const field_type = field.currentType;\r\n          let value = getProperty(row, valuePath);\r\n\r\n          /**\r\n           * The value is an array...\r\n           * In this case, we take the first element of the array\r\n           */\r\n          if (Array.isArray(value)) {\r\n            value = value[0];\r\n          }\r\n\r\n          return (\r\n            <GridDataGroup\r\n              key={`${row.id}-${index}`}\r\n              type={field_type}\r\n              value={value}\r\n              hasImage={hasImage}\r\n              field={field}\r\n              row={row}\r\n              columnCount={columnCount}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  });\r\n});\r\n\r\nexport const GridDataGroup = observer(({ type, value, field, row, columnCount, hasImage }) => {\r\n  const DataTypeComponent = DataGroups[type];\r\n\r\n  return isFF(FF_LOPS_E_3) && row.loading === field.alias ? (\r\n    <SkeletonLoader />\r\n  ) : DataTypeComponent ? (\r\n    <DataTypeComponent value={value} field={field} original={row} columnCount={columnCount} hasImage={hasImage} />\r\n  ) : (\r\n    <DataGroups.TextDataGroup value={value} field={field} original={row} hasImage={hasImage} />\r\n  );\r\n});\r\n\r\nexport const GridCell = observer(({ view, selected, row, fields, onClick, columnCount, ...props }) => {\r\n  const { setCurrentTaskId, imageField, hasImage } = useContext(GridViewContext);\r\n\r\n  const handleBodyClick = useCallback(\r\n    (e) => {\r\n      if (!isFF(FF_GRID_PREVIEW) || !imageField) return;\r\n      e.stopPropagation();\r\n      setCurrentTaskId(row.id);\r\n    },\r\n    [imageField, row.id],\r\n  );\r\n\r\n  return (\r\n    <div\r\n      {...props}\r\n      className={cn(\"grid-view\")\r\n        .elem(\"cell\")\r\n        .mod({ selected: selected.isSelected(row.id) })\r\n        .toClassName()}\r\n      onClick={onClick}\r\n    >\r\n      <div className={cn(\"grid-view\").elem(\"cell-content\").toClassName()}>\r\n        <GridHeader\r\n          view={view}\r\n          row={row}\r\n          fields={fields}\r\n          selected={view.selected}\r\n          onSelect={view.selected.toggleSelected}\r\n        />\r\n        <div\r\n          className={`${cn(\"grid-view\").elem(\"cell-body\").mod({ responsive: !view.gridFitImagesToWidth }).toClassName()} ${cnm({ \"overflow-auto\": !hasImage })}`}\r\n          onClick={handleBodyClick}\r\n        >\r\n          <GridBody view={view} row={row} fields={fields} columnCount={columnCount} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport const GridView = observer(({ data, view, loadMore, fields, onChange, hiddenFields }) => {\r\n  const columnCount = view.gridWidth ?? 4;\r\n  const prevColumnCountRef = useRef(columnCount);\r\n\r\n  const getCellIndex = useCallback((row, column) => columnCount * row + column, [columnCount]);\r\n\r\n  const fieldsData = useMemo(() => {\r\n    return prepareColumns(fields, hiddenFields);\r\n  }, [fields, hiddenFields]);\r\n  const hasImage = fieldsData.some((f) => f.currentType === \"Image\");\r\n\r\n  const rowHeight = hasImage\r\n    ? fieldsData\r\n        .filter((f) => f.parent?.alias === \"data\")\r\n        .reduce((res, f) => {\r\n          const height = (DataGroups[f.currentType] ?? DataGroups.TextDataGroup).height;\r\n\r\n          return res + height;\r\n        }, 16)\r\n    : NO_IMAGE_CELL_HEIGHT;\r\n  const finalRowHeight =\r\n    CELL_HEADER_HEIGHT + rowHeight * (hasImage ? Math.max(1, (IMAGE_SIZE_COEFFICIENT - columnCount) * 0.5) : 1);\r\n\r\n  // Calculate the total number of rows needed to display all items\r\n  const itemCount = view.dataStore.total || data.length;\r\n  // Use only loaded data for grid dimensions to avoid long scrollbar\r\n  const loadedRows = Math.ceil(data.length / columnCount);\r\n\r\n  const renderItem = useCallback(\r\n    ({ style, rowIndex, columnIndex }) => {\r\n      const index = getCellIndex(rowIndex, columnIndex);\r\n      const row = data[index];\r\n      if (!row) return null;\r\n\r\n      const props = {\r\n        style: {\r\n          ...style,\r\n          marginLeft: \"1em\",\r\n        },\r\n      };\r\n\r\n      return (\r\n        <GridCell\r\n          {...props}\r\n          view={view}\r\n          row={row}\r\n          fields={fieldsData}\r\n          columnCount={columnCount}\r\n          selected={view.selected}\r\n          onClick={() => onChange?.(row.id)}\r\n        />\r\n      );\r\n    },\r\n    [data, columnCount, fieldsData, view, onChange, getCellIndex],\r\n  );\r\n\r\n  const onItemsRenderedWrap = useCallback(\r\n    (cb) =>\r\n      ({ visibleRowStartIndex, visibleRowStopIndex, overscanRowStopIndex, overscanRowStartIndex }) => {\r\n        // Check if we're near the end and need to load more\r\n        const visibleItemStopIndex = getCellIndex(visibleRowStopIndex, columnCount - 1);\r\n\r\n        // Calculate how many items are visible in the current view\r\n        const visibleItemsCount = (visibleRowStopIndex - visibleRowStartIndex + 1) * columnCount;\r\n\r\n        // If we're showing items near the end of our loaded data, trigger loading\r\n        // Use a threshold of 2 rows worth of items to trigger loading\r\n        const threshold = Math.max(columnCount * 2, 8); // At least 8 items or 2 rows\r\n\r\n        // Check if we need to load more items\r\n        const shouldLoadMore = visibleItemStopIndex >= data.length - threshold && view.dataStore.hasNextPage;\r\n\r\n        // Also check if we don't have enough items to fill the visible area\r\n        const hasEnoughItemsForVisibleArea = visibleItemStopIndex < data.length;\r\n        const needsMoreItemsForDisplay = !hasEnoughItemsForVisibleArea && view.dataStore.hasNextPage;\r\n\r\n        // More aggressive check: if we have fewer items than columns, always load more\r\n        const hasInsufficientItems = data.length < columnCount && view.dataStore.hasNextPage;\r\n\r\n        // Special case: if we have very few items compared to columns, be extra aggressive\r\n        const hasVeryFewItems = data.length < columnCount * 0.5 && view.dataStore.hasNextPage;\r\n\r\n        if (shouldLoadMore || needsMoreItemsForDisplay || hasInsufficientItems || hasVeryFewItems) {\r\n          loadMore?.();\r\n        }\r\n\r\n        cb({\r\n          overscanStartIndex: overscanRowStartIndex,\r\n          overscanStopIndex: overscanRowStopIndex,\r\n          visibleStartIndex: visibleRowStartIndex,\r\n          visibleStopIndex: visibleRowStopIndex,\r\n        });\r\n      },\r\n    [data.length, columnCount, view.dataStore.hasNextPage, view.dataStore.loading, loadMore, getCellIndex],\r\n  );\r\n\r\n  // Check if a specific item index is loaded\r\n  const isItemLoaded = useCallback(\r\n    (index) => {\r\n      const rowExists = index < data.length && !!data[index];\r\n      const hasNextPage = view.dataStore.hasNextPage;\r\n      return !hasNextPage || rowExists;\r\n    },\r\n    [data.length, view.dataStore.hasNextPage],\r\n  );\r\n\r\n  // Handle column count changes\r\n  useEffect(() => {\r\n    const prevColumnCount = prevColumnCountRef.current;\r\n    const currentColumnCount = columnCount;\r\n\r\n    // If column count changed and we have more columns now (showing fewer rows)\r\n    if (prevColumnCount !== currentColumnCount) {\r\n      prevColumnCountRef.current = currentColumnCount;\r\n\r\n      // Calculate how many items we can display with the new column count\r\n      const estimatedVisibleRows = Math.ceil(window.innerHeight / finalRowHeight);\r\n      const estimatedVisibleItems = estimatedVisibleRows * currentColumnCount;\r\n\r\n      // If we don't have enough items to fill the visible area, load more\r\n      // Note: We don't check !view.dataStore.loading here because we want to trigger loading\r\n      // even if something is already loading, to ensure we get enough items\r\n      if (data.length < estimatedVisibleItems && view.dataStore.hasNextPage) {\r\n        loadMore?.();\r\n      }\r\n\r\n      // Fallback: if we have significantly fewer items than columns, always load more\r\n      if (data.length < currentColumnCount * 2 && view.dataStore.hasNextPage) {\r\n        loadMore?.();\r\n      }\r\n\r\n      // Special case: if we have fewer items than the column count itself, definitely load more\r\n      // This handles the case where there aren't enough items to even fill one row\r\n      if (data.length < currentColumnCount && view.dataStore.hasNextPage) {\r\n        loadMore?.();\r\n      }\r\n    }\r\n  }, [columnCount, data.length, view.dataStore.hasNextPage, view.dataStore.loading, loadMore, finalRowHeight]);\r\n\r\n  // Additional effect to handle cases where we have a gap between content and screen bottom\r\n  useEffect(() => {\r\n    // Calculate if we have enough content to fill the screen\r\n    const estimatedVisibleRows = Math.ceil(window.innerHeight / finalRowHeight);\r\n    const estimatedVisibleItems = estimatedVisibleRows * columnCount;\r\n\r\n    // If we have significantly fewer items than needed to fill the screen, load more\r\n    // This handles the case where there's a gap and no scroll events are firing\r\n    if (data.length < estimatedVisibleItems * 0.8 && view.dataStore.hasNextPage) {\r\n      loadMore?.();\r\n    }\r\n  }, [data.length, columnCount, view.dataStore.hasNextPage, loadMore, finalRowHeight]);\r\n\r\n  // Custom loadMore function that bypasses InfiniteLoader when needed\r\n  const customLoadMore = useCallback(() => {\r\n    if (view.dataStore.hasNextPage && !view.dataStore.loading) {\r\n      loadMore?.();\r\n    }\r\n  }, [view.dataStore.hasNextPage, view.dataStore.loading, loadMore]);\r\n\r\n  // Aggressive initial loading - trigger loading immediately when we don't have enough content\r\n  useEffect(() => {\r\n    const estimatedVisibleRows = Math.ceil(window.innerHeight / finalRowHeight);\r\n    const estimatedVisibleItems = estimatedVisibleRows * columnCount;\r\n\r\n    // If we don't have enough items to fill the screen, start loading immediately\r\n    if (data.length < estimatedVisibleItems && view.dataStore.hasNextPage && !view.dataStore.loading) {\r\n      loadMore?.();\r\n    }\r\n  }, [data.length, columnCount, view.dataStore.hasNextPage, view.dataStore.loading, loadMore, finalRowHeight]);\r\n\r\n  return (\r\n    <GridViewProvider data={data} view={view} fields={fieldsData}>\r\n      <div className={cn(\"grid-view\").mod({ columnCount }).toClassName()}>\r\n        <AutoSizer className={cn(\"grid-view\").elem(\"resize\").toClassName()}>\r\n          {({ width, height }) => (\r\n            <InfiniteLoader\r\n              itemCount={itemCount}\r\n              isItemLoaded={isItemLoaded}\r\n              loadMoreItems={customLoadMore}\r\n              threshold={Math.max(1, Math.floor(view.dataStore.pageSize / 4))}\r\n              minimumBatchSize={Math.max(1, Math.floor(view.dataStore.pageSize / 2))}\r\n            >\r\n              {({ onItemsRendered, ref }) => (\r\n                <FixedSizeGrid\r\n                  className={cn(\"grid-view\").elem(\"list\").toClassName()}\r\n                  ref={ref}\r\n                  width={width}\r\n                  height={height}\r\n                  rowHeight={finalRowHeight}\r\n                  overscanRowCount={Math.max(2, Math.floor(view.dataStore.pageSize / 2))}\r\n                  columnCount={columnCount}\r\n                  rowCount={loadedRows}\r\n                  columnWidth={width / columnCount - 9.5}\r\n                  onItemsRendered={onItemsRenderedWrap(onItemsRendered)}\r\n                  style={{ overflowX: \"hidden\" }}\r\n                >\r\n                  {renderItem}\r\n                </FixedSizeGrid>\r\n              )}\r\n            </InfiniteLoader>\r\n          )}\r\n        </AutoSizer>\r\n      </div>\r\n    </GridViewProvider>\r\n  );\r\n});\r\n","import React, { type FC, type ReactNode } from \"react\";\r\nimport {\r\n  IconUpload,\r\n  IconLsLabeling,\r\n  IconCheck,\r\n  IconSearch,\r\n  IconInbox,\r\n  IconCloudProviderS3,\r\n  IconCloudProviderGCS,\r\n  IconCloudProviderAzure,\r\n  IconCloudProviderRedis,\r\n} from \"@humansignal/icons\";\r\nimport { Button, IconExternal, Typography, Tooltip } from \"@humansignal/ui\";\r\nimport { getDocsUrl } from \"../../../../../../editor/src/utils/docs\";\r\nimport { ABILITY, useAuth } from \"@humansignal/core/providers/AuthProvider\";\r\n\r\ndeclare global {\r\n  interface Window {\r\n    APP_SETTINGS?: {\r\n      whitelabel_is_active?: boolean;\r\n    };\r\n  }\r\n}\r\n\r\n// TypeScript interfaces for props\r\ninterface EmptyStateProps {\r\n  canImport: boolean;\r\n  onOpenSourceStorageModal?: () => void;\r\n  onOpenImportModal?: () => void;\r\n  // Role-based props (optional)\r\n  userRole?: string;\r\n  project?: {\r\n    assignment_settings?: {\r\n      label_stream_task_distribution?: \"auto_distribution\" | \"assigned_only\" | string;\r\n    };\r\n  };\r\n  hasData?: boolean;\r\n  hasFilters?: boolean;\r\n  canLabel?: boolean;\r\n  onLabelAllTasks?: () => void;\r\n  onClearFilters?: () => void;\r\n}\r\n\r\n// Internal helper interfaces and types\r\ninterface EmptyStateLayoutProps {\r\n  icon: ReactNode;\r\n  iconBackground?: string;\r\n  iconColor?: string;\r\n  title: string;\r\n  description: string;\r\n  actions?: ReactNode;\r\n  additionalContent?: ReactNode;\r\n  footer?: ReactNode;\r\n  testId?: string;\r\n  ariaLabelledBy?: string;\r\n  ariaDescribedBy?: string;\r\n  wrapperClassName?: string;\r\n}\r\n\r\n// Internal helper function to render common empty state structure\r\nconst renderEmptyStateLayout = ({\r\n  icon,\r\n  iconBackground = \"bg-primary-emphasis\",\r\n  iconColor = \"text-primary-icon\",\r\n  title,\r\n  description,\r\n  actions,\r\n  additionalContent,\r\n  footer,\r\n  testId,\r\n  ariaLabelledBy,\r\n  ariaDescribedBy,\r\n  wrapperClassName = \"w-full h-full flex flex-col items-center justify-center text-center p-wide\",\r\n}: EmptyStateLayoutProps) => {\r\n  // Clone the icon and ensure it has consistent 40x40 size\r\n  const iconWithSize = React.cloneElement(icon as React.ReactElement, {\r\n    width: 40,\r\n    height: 40,\r\n  });\r\n\r\n  const content = (\r\n    <div className={wrapperClassName}>\r\n      <div className={`flex items-center justify-center ${iconBackground} ${iconColor} rounded-full p-tight mb-4`}>\r\n        {iconWithSize}\r\n      </div>\r\n\r\n      <Typography variant=\"headline\" size=\"medium\" className=\"mb-tight\" id={ariaLabelledBy}>\r\n        {title}\r\n      </Typography>\r\n\r\n      <Typography\r\n        size=\"medium\"\r\n        className={`text-neutral-content-subtler max-w-xl ${actions || additionalContent ? \"mb-tight\" : \"\"}`}\r\n        id={ariaDescribedBy}\r\n      >\r\n        {description}\r\n      </Typography>\r\n\r\n      {additionalContent}\r\n\r\n      {actions &&\r\n        (() => {\r\n          // Flatten children and filter out null/false values to count actual rendered elements\r\n          const flattenedActions = React.Children.toArray(actions).flat().filter(Boolean);\r\n          const actualActionCount = flattenedActions.length;\r\n          const isSingleAction = actualActionCount === 1;\r\n\r\n          return (\r\n            <div className={`flex ${isSingleAction ? \"justify-center\" : \"\"} gap-base w-full max-w-md mt-base`}>\r\n              {actions}\r\n            </div>\r\n          );\r\n        })()}\r\n\r\n      {footer && <div className=\"mt-6\">{footer}</div>}\r\n    </div>\r\n  );\r\n\r\n  // For import state, we need special wrapper structure\r\n  if (testId === \"empty-state-label\") {\r\n    return (\r\n      <div\r\n        data-testid={testId}\r\n        aria-labelledby={ariaLabelledBy}\r\n        aria-describedby={ariaDescribedBy}\r\n        className=\"w-full flex items-center justify-center m-0\"\r\n      >\r\n        <div className=\"w-full h-full\">{content}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // For all other states\r\n  return content;\r\n};\r\n\r\n// Storage provider icons component\r\nconst StorageProviderIcons = () => (\r\n  <div className=\"flex items-center justify-center gap-base mb-wide\" data-testid=\"dm-storage-provider-icons\">\r\n    <Tooltip title=\"Amazon S3\">\r\n      <div className=\"flex items-center justify-center p-2\" aria-label=\"Amazon S3\">\r\n        <IconCloudProviderS3 width={32} height={32} className=\"text-neutral-content-subtler\" />\r\n      </div>\r\n    </Tooltip>\r\n    <Tooltip title=\"Google Cloud Storage\">\r\n      <div className=\"flex items-center justify-center p-2\" aria-label=\"Google Cloud Storage\">\r\n        <IconCloudProviderGCS width={32} height={32} className=\"text-neutral-content-subtler\" />\r\n      </div>\r\n    </Tooltip>\r\n    <Tooltip title=\"Azure Blob Storage\">\r\n      <div className=\"flex items-center justify-center p-2\" aria-label=\"Azure Blob Storage\">\r\n        <IconCloudProviderAzure width={32} height={32} className=\"text-neutral-content-subtler\" />\r\n      </div>\r\n    </Tooltip>\r\n    <Tooltip title=\"Redis Storage\">\r\n      <div className=\"flex items-center justify-center p-2\" aria-label=\"Redis Storage\">\r\n        <IconCloudProviderRedis width={32} height={32} className=\"text-neutral-content-subtler\" />\r\n      </div>\r\n    </Tooltip>\r\n  </div>\r\n);\r\n\r\n// Documentation link component\r\nconst DocumentationLink = () => {\r\n  if (window.APP_SETTINGS?.whitelabel_is_active) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Typography variant=\"label\" size=\"small\" className=\"text-primary-link hover:underline\">\r\n      <a\r\n        href={getDocsUrl(\"guide/tasks\")}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        className=\"inline-flex items-center gap-1\"\r\n        data-testid=\"dm-docs-data-import-link\"\r\n      >\r\n        See docs on importing data\r\n        <span className=\"sr-only\"> (opens in a new tab)</span>\r\n        <IconExternal width={20} height={20} />\r\n      </a>\r\n    </Typography>\r\n  );\r\n};\r\n\r\n/**\r\n * Unified empty state for Data Manager\r\n * Handles different empty states based on user role and context\r\n *\r\n * Props:\r\n * - canImport: boolean  whether import is enabled in interfaces\r\n * - onOpenSourceStorageModal: () => void  opens Connect Source Storage modal\r\n * - onOpenImportModal: () => void  opens Import modal\r\n * - userRole: string  User role (REVIEWER, ANNOTATOR, etc.) - optional\r\n * - project: object  Project object with assignment settings - optional\r\n * - hasData: boolean  Whether the project has any tasks - optional\r\n * - hasFilters: boolean  Whether filters are currently applied - optional\r\n * - canLabel: boolean  Whether the Label All Tasks button would be enabled - optional\r\n * - onLabelAllTasks: function  Callback for Label All Tasks action - optional\r\n * - onClearFilters: function  Callback to clear all applied filters - optional\r\n */\r\n\r\nexport const EmptyState: FC<EmptyStateProps> = ({\r\n  canImport,\r\n  onOpenSourceStorageModal,\r\n  onOpenImportModal,\r\n  // Role-based props (optional)\r\n  userRole,\r\n  project,\r\n  hasData: _hasData,\r\n  hasFilters,\r\n  canLabel: _canLabel,\r\n  onLabelAllTasks,\r\n  onClearFilters,\r\n}) => {\r\n  const isImportEnabled = Boolean(canImport);\r\n  const { permissions } = useAuth();\r\n\r\n  // If filters are applied, show the filter-specific empty state (regardless of user role)\r\n  if (hasFilters) {\r\n    return renderEmptyStateLayout({\r\n      icon: <IconSearch />,\r\n      iconBackground: \"bg-warning-background\",\r\n      iconColor: \"text-warning-icon\",\r\n      title: \"No tasks found\",\r\n      description: \"Try adjusting or clearing the filters to see more results\",\r\n      actions: (\r\n        <Button variant=\"primary\" look=\"outlined\" onClick={onClearFilters} data-testid=\"dm-clear-filters-button\">\r\n          Clear Filters\r\n        </Button>\r\n      ),\r\n    });\r\n  }\r\n\r\n  // Role-based empty state logic (from RoleBasedEmptyState)\r\n  // For service roles (reviewers/annotators), show role-specific empty states when they have no visible tasks\r\n  // This applies whether the project has tasks or not - what matters is what's visible to this user\r\n  if (userRole === \"REVIEWER\" || userRole === \"ANNOTATOR\") {\r\n    // Reviewer empty state\r\n    if (userRole === \"REVIEWER\") {\r\n      return renderEmptyStateLayout({\r\n        icon: <IconCheck />,\r\n        title: \"No tasks available for review or labeling\",\r\n        description: \"Tasks imported to this project will appear here\",\r\n      });\r\n    }\r\n\r\n    // Annotator empty state\r\n    if (userRole === \"ANNOTATOR\") {\r\n      const isAutoDistribution = project?.assignment_settings?.label_stream_task_distribution === \"auto_distribution\";\r\n      const isManualDistribution = project?.assignment_settings?.label_stream_task_distribution === \"assigned_only\";\r\n\r\n      if (isAutoDistribution) {\r\n        return renderEmptyStateLayout({\r\n          icon: <IconLsLabeling />,\r\n          title: \"Start labeling tasks\",\r\n          description: \"Tasks you've labeled will appear here\",\r\n          actions: (\r\n            <Button\r\n              variant=\"primary\"\r\n              look=\"filled\"\r\n              disabled={false}\r\n              onClick={onLabelAllTasks}\r\n              data-testid=\"dm-label-all-tasks-button\"\r\n            >\r\n              Label All Tasks\r\n            </Button>\r\n          ),\r\n        });\r\n      }\r\n\r\n      if (isManualDistribution) {\r\n        return renderEmptyStateLayout({\r\n          icon: <IconInbox />,\r\n          title: \"No tasks available\",\r\n          description: \"Tasks assigned to you will appear here\",\r\n        });\r\n      }\r\n\r\n      // Fallback for annotators with unknown distribution setting\r\n      return renderEmptyStateLayout({\r\n        icon: <IconInbox width={40} height={40} />,\r\n        title: \"No tasks available\",\r\n        description: \"Tasks will appear here when they become available\",\r\n      });\r\n    }\r\n  }\r\n\r\n  // Default case: show import functionality (existing behavior for Owners/Admins/Managers)\r\n  return renderEmptyStateLayout({\r\n    icon: <IconUpload />,\r\n    title: \"Import data to get your project started\",\r\n    description: \"Connect your cloud storage or upload files from your computer\",\r\n    testId: \"empty-state-label\",\r\n    ariaLabelledBy: \"dm-empty-title\",\r\n    ariaDescribedBy: \"dm-empty-desc\",\r\n    additionalContent: <StorageProviderIcons />,\r\n    actions: (\r\n      <>\r\n        {permissions.can(ABILITY.can_manage_storage) && (\r\n          <Button\r\n            variant=\"primary\"\r\n            look=\"filled\"\r\n            className=\"flex-1\"\r\n            onClick={onOpenSourceStorageModal}\r\n            data-testid=\"dm-connect-source-storage-button\"\r\n          >\r\n            Connect Cloud Storage\r\n          </Button>\r\n        )}\r\n\r\n        {isImportEnabled && (\r\n          <Button\r\n            variant=\"primary\"\r\n            look=\"outlined\"\r\n            className=\"flex-1\"\r\n            onClick={onOpenImportModal}\r\n            data-testid=\"dm-import-button\"\r\n          >\r\n            Import\r\n          </Button>\r\n        )}\r\n      </>\r\n    ),\r\n    footer: <DocumentationLink />,\r\n  });\r\n};\r\n","import { IconQuestionOutline } from \"@humansignal/icons\";\r\nimport { Tooltip, EnterpriseBadge } from \"@humansignal/ui\";\r\nimport { inject } from \"mobx-react\";\r\nimport { getRoot } from \"mobx-state-tree\";\r\nimport { useCallback, useMemo } from \"react\";\r\nimport { useShortcut } from \"../../../sdk/hotkeys\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { FF_DEV_2536, isFF } from \"../../../utils/feature-flags\";\r\nimport * as CellViews from \"../../CellViews\";\r\nimport { Icon } from \"../../Common/Icon/Icon\";\r\nimport { Spinner } from \"../../Common/Spinner\";\r\nimport { Table } from \"../../Common/Table/Table\";\r\nimport { Tag } from \"../../Common/Tag/Tag\";\r\nimport { GridView } from \"../GridView/GridView\";\r\nimport \"./Table.scss\";\r\nimport { Button } from \"@humansignal/ui\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { EmptyState } from \"./empty-state\";\r\nimport {\r\n  DENSITY_STORAGE_KEY,\r\n  DENSITY_COMFORTABLE,\r\n  DENSITY_COMPACT,\r\n  ROW_HEIGHT_COMFORTABLE,\r\n  ROW_HEIGHT_COMPACT,\r\n} from \"../../DataManager/Toolbar/DensityToggle\";\r\n\r\nconst injector = inject(({ store }) => {\r\n  const { dataStore, currentView } = store;\r\n  const totalTasks = store.project?.task_count ?? store.project?.task_number ?? 0;\r\n  const foundTasks = dataStore?.total ?? 0;\r\n\r\n  const props = {\r\n    store,\r\n    dataStore,\r\n    updated: dataStore.updated,\r\n    view: currentView,\r\n    viewType: currentView?.type ?? \"list\",\r\n    columns: currentView?.fieldsAsColumns ?? [],\r\n    hiddenColumns: currentView?.hiddenColumnsList,\r\n    selectedItems: currentView?.selected,\r\n    selectedCount: currentView?.selected?.length ?? 0,\r\n    isLabeling: store.isLabeling ?? false,\r\n    data: dataStore?.list ?? [],\r\n    total: dataStore?.total ?? 0,\r\n    isLoading: dataStore?.loading ?? true,\r\n    isLocked: currentView?.locked ?? false,\r\n    hasData: (store.project?.task_count ?? store.project?.task_number ?? dataStore?.total ?? 0) > 0,\r\n    focusedItem: dataStore?.selected ?? dataStore?.highlighted,\r\n    // Role-based empty state props\r\n    role: store.SDK?.role ?? null,\r\n    project: store.project ?? {},\r\n    hasFilters: (currentView?.filtersApplied ?? 0) > 0,\r\n    canLabel: totalTasks > 0 && foundTasks > 0,\r\n  };\r\n\r\n  return props;\r\n});\r\n\r\nexport const DataView = injector(\r\n  ({\r\n    store,\r\n    data,\r\n    columns,\r\n    view,\r\n    selectedItems,\r\n    dataStore,\r\n    viewType,\r\n    total,\r\n    isLoading,\r\n    isLabeling,\r\n    hiddenColumns = [],\r\n    hasData = false,\r\n    isLocked,\r\n    role,\r\n    project,\r\n    hasFilters,\r\n    canLabel,\r\n    ...props\r\n  }) => {\r\n    const [datasetStatusID, setDatasetStatusID] = useState(store.SDK.dataset?.status?.id);\r\n    const [density, setDensity] = useState(() => {\r\n      return localStorage.getItem(DENSITY_STORAGE_KEY) ?? DENSITY_COMFORTABLE;\r\n    });\r\n    const focusedItem = useMemo(() => {\r\n      return props.focusedItem;\r\n    }, [props.focusedItem]);\r\n\r\n    // Listen for density changes from any DensityToggle component\r\n    useEffect(() => {\r\n      const handleDensityChange = (e) => {\r\n        setDensity(e.detail);\r\n      };\r\n\r\n      window.addEventListener(\"dm:density:changed\", handleDensityChange);\r\n      return () => window.removeEventListener(\"dm:density:changed\", handleDensityChange);\r\n    }, []);\r\n\r\n    const loadMore = useCallback(async () => {\r\n      if (!dataStore.hasNextPage || dataStore.loading) return Promise.resolve();\r\n\r\n      await dataStore.fetch({ interaction: \"scroll\" });\r\n      return Promise.resolve();\r\n    }, [dataStore]);\r\n\r\n    const isItemLoaded = useCallback(\r\n      (data, index) => {\r\n        const rowExists = index < data.length && !!data[index];\r\n        const hasNextPage = dataStore.hasNextPage;\r\n\r\n        return !hasNextPage || rowExists;\r\n      },\r\n      [dataStore.hasNextPage],\r\n    );\r\n\r\n    const columnHeaderExtra = useCallback(({ parent, original, help }, decoration) => {\r\n      const children = [];\r\n\r\n      if (parent) {\r\n        children.push(\r\n          <Tag\r\n            key=\"column-type\"\r\n            color=\"blue\"\r\n            style={{\r\n              fontWeight: \"500\",\r\n              fontSize: 14,\r\n              cursor: \"pointer\",\r\n              width: 45,\r\n              padding: 0,\r\n            }}\r\n          >\r\n            {original?.readableType ?? parent.title}\r\n          </Tag>,\r\n        );\r\n      } else if (typeof original?.alias === \"string\" && original.alias.startsWith(\"dimension_agreement__\")) {\r\n        // Show a short tag for per-dimension agreement columns (root columns, no parent)\r\n        children.push(\r\n          <Tag\r\n            key=\"column-type\"\r\n            color=\"blue\"\r\n            style={{\r\n              fontWeight: \"500\",\r\n              fontSize: 14,\r\n              cursor: \"pointer\",\r\n              padding: \"0 6px\",\r\n            }}\r\n          >\r\n            {original.readableType}\r\n          </Tag>,\r\n        );\r\n      }\r\n\r\n      // Add EnterpriseBadge when enterprise badge is set\r\n      if (original.enterprise_badge) {\r\n        children.push(<EnterpriseBadge key=\"enterprise-badge\" className=\"ml-2\" compact />);\r\n      }\r\n\r\n      if (help && decoration?.help !== false) {\r\n        children.push(\r\n          <Tooltip key=\"help-tooltip\" title={help}>\r\n            <Icon icon={IconQuestionOutline} style={{ opacity: 0.5 }} />\r\n          </Tooltip>,\r\n        );\r\n      }\r\n\r\n      return children.length ? <>{children}</> : null;\r\n    }, []);\r\n\r\n    const onSelectAll = useCallback(() => view.selectAll(), [view]);\r\n\r\n    const onRowSelect = useCallback((id) => view.toggleSelected(id), [view]);\r\n\r\n    const onRangeSelect = useCallback((ids, select) => view.selectRange(ids, select), [view]);\r\n\r\n    const onRowClick = useCallback(\r\n      async (item, e) => {\r\n        const itemID = item.task_id ?? item.id;\r\n\r\n        if (store.SDK.type === \"DE\") {\r\n          store.SDK.invoke(\"recordPreview\", item, columns, getRoot(view).taskStore.associatedList);\r\n        } else if (e.metaKey || e.ctrlKey) {\r\n          window.open(`./?task=${itemID}`, \"_blank\");\r\n        } else {\r\n          store._sdk.lsf?.saveDraft();\r\n          getRoot(view).startLabeling(item);\r\n        }\r\n      },\r\n      [view, columns],\r\n    );\r\n\r\n    const renderContent = useCallback(\r\n      (content) => {\r\n        if (isLoading && total === 0 && !isLabeling) {\r\n          return (\r\n            <div className={cn(\"fill-container\").toClassName()}>\r\n              <Spinner size=\"large\" />\r\n            </div>\r\n          );\r\n        }\r\n        if (store.SDK.type === \"DE\" && [\"canceled\", \"failed\"].includes(datasetStatusID)) {\r\n          return (\r\n            <div className={cn(\"syncInProgress\").toClassName()}>\r\n              <h3 className={cn(\"syncInProgress\").elem(\"title\").toClassName()}>Failed to sync data</h3>\r\n              <div className={cn(\"syncInProgress\").elem(\"text\").toClassName()}>\r\n                Check your storage settings. You may need to recreate this dataset\r\n              </div>\r\n            </div>\r\n          );\r\n        }\r\n        if (\r\n          store.SDK.type === \"DE\" &&\r\n          (total === 0 || data.length === 0 || !hasData) &&\r\n          datasetStatusID === \"completed\"\r\n        ) {\r\n          return (\r\n            <div className={cn(\"syncInProgress\").toClassName()}>\r\n              <h3 className={cn(\"syncInProgress\").elem(\"title\").toClassName()}>Nothing found</h3>\r\n              <div className={cn(\"syncInProgress\").elem(\"text\").toClassName()}>\r\n                Try adjusting the filter or similarity search parameters\r\n              </div>\r\n            </div>\r\n          );\r\n        }\r\n        if (store.SDK.type === \"DE\" && (total === 0 || data.length === 0 || !hasData)) {\r\n          return (\r\n            <div className={cn(\"syncInProgress\").toClassName()}>\r\n              <h3 className={cn(\"syncInProgress\").elem(\"title\").toClassName()}>\r\n                Hang tight! Records are syncing in the background\r\n              </h3>\r\n              <div className={cn(\"syncInProgress\").elem(\"text\").toClassName()}>\r\n                Press the button below to see any synced records\r\n              </div>\r\n              <Button\r\n                size=\"small\"\r\n                look=\"outlined\"\r\n                onClick={async () => {\r\n                  await store.fetchProject({\r\n                    force: true,\r\n                    interaction: \"refresh\",\r\n                  });\r\n                  await store.currentView?.reload();\r\n                }}\r\n              >\r\n                Refresh\r\n              </Button>\r\n            </div>\r\n          );\r\n        }\r\n        // Unified empty state handling - EmptyState now handles all cases internally\r\n        if (total === 0 || !hasData) {\r\n          // Use unified EmptyState for all cases\r\n          return (\r\n            <div className={cn(\"no-results\").toClassName()}>\r\n              <EmptyState\r\n                // Import functionality props\r\n                canImport={!!store.interfaces.get(\"import\")}\r\n                onOpenSourceStorageModal={() => getRoot(store)?.SDK?.invoke?.(\"openSourceStorageModal\")}\r\n                onOpenImportModal={() => getRoot(store)?.SDK?.invoke?.(\"importClicked\")}\r\n                // Role-based functionality props\r\n                userRole={role}\r\n                project={project}\r\n                hasData={hasData}\r\n                hasFilters={hasFilters}\r\n                canLabel={canLabel}\r\n                onLabelAllTasks={() => {\r\n                  // Use the same logic as the main Label All Tasks button\r\n                  // Set localStorage to indicate \"label all\" mode (same as main button)\r\n                  localStorage.setItem(\"dm:labelstream:mode\", \"all\");\r\n\r\n                  // Start label stream mode (DataManager's equivalent of navigating to labeling)\r\n                  store.startLabelStream();\r\n                }}\r\n                onClearFilters={() => {\r\n                  // Clear all filters from the current view\r\n                  const currentView = store.currentView;\r\n                  if (currentView && currentView.filters) {\r\n                    // Create a copy of the filters array to avoid modification during iteration\r\n                    const filtersToDelete = [...currentView.filters];\r\n                    filtersToDelete.forEach((filter) => {\r\n                      currentView.deleteFilter(filter);\r\n                    });\r\n                    // Reload the view to refresh the data\r\n                    currentView.reload();\r\n                  }\r\n                }}\r\n              />\r\n            </div>\r\n          );\r\n        }\r\n\r\n        return content;\r\n      },\r\n      [hasData, isLabeling, isLoading, total, datasetStatusID, role, project, hasFilters, canLabel],\r\n    );\r\n\r\n    const decorationContent = (col) => {\r\n      const column = col.original;\r\n\r\n      if (column.icon) {\r\n        return <Tooltip title={column.help ?? col.title}>{column.icon}</Tooltip>;\r\n      }\r\n\r\n      return column.title;\r\n    };\r\n\r\n    const commonDecoration = useCallback(\r\n      (alias, size, align = \"flex-start\", help = false) => ({\r\n        alias,\r\n        content: decorationContent,\r\n        style: (col) => ({ width: col.width ?? size, justifyContent: align }),\r\n        help,\r\n      }),\r\n      [],\r\n    );\r\n\r\n    const decoration = useMemo(\r\n      () => [\r\n        commonDecoration(\"total_annotations\", 60, \"center\"),\r\n        commonDecoration(\"cancelled_annotations\", 60, \"center\"),\r\n        commonDecoration(\"total_predictions\", 60, \"center\"),\r\n        commonDecoration(\"completed_at\", 180, \"space-between\", true),\r\n        commonDecoration(\"reviews_accepted\", 60, \"center\"),\r\n        commonDecoration(\"reviews_rejected\", 60, \"center\"),\r\n        commonDecoration(\"ground_truth\", 60, \"center\"),\r\n        isFF(FF_DEV_2536) && commonDecoration(\"comment_count\", 60, \"center\"),\r\n        isFF(FF_DEV_2536) && commonDecoration(\"unresolved_comment_count\", 60, \"center\"),\r\n        {\r\n          resolver: (col) => col.type === \"Number\",\r\n          style(col) {\r\n            return /id/.test(col.id) ? { width: 50 } : { width: 110 };\r\n          },\r\n        },\r\n        {\r\n          resolver: (col) => col.type === \"Image\" && col.original && getRoot(col.original)?.SDK?.type !== \"DE\",\r\n          style: { width: 150, justifyContent: \"center\" },\r\n        },\r\n        {\r\n          resolver: (col) => col.type === \"Image\" && col.original && getRoot(col.original)?.SDK?.type === \"DE\",\r\n          style: { width: 150 },\r\n        },\r\n        {\r\n          resolver: (col) => [\"Date\", \"Datetime\"].includes(col.type),\r\n          style: { width: 240 },\r\n        },\r\n        {\r\n          resolver: (col) => [\"Audio\", \"AudioPlus\"].includes(col.type),\r\n          style: { width: 150 },\r\n        },\r\n      ],\r\n      [commonDecoration],\r\n    );\r\n\r\n    const rowHeight = density === DENSITY_COMPACT ? ROW_HEIGHT_COMPACT : ROW_HEIGHT_COMFORTABLE;\r\n\r\n    const content =\r\n      view.root.isLabeling || viewType === \"list\" ? (\r\n        <Table\r\n          view={view}\r\n          data={data}\r\n          rowHeight={rowHeight}\r\n          total={total}\r\n          loadMore={loadMore}\r\n          fitContent={isLabeling}\r\n          columns={columns}\r\n          hiddenColumns={hiddenColumns}\r\n          cellViews={CellViews}\r\n          decoration={decoration}\r\n          order={view.ordering}\r\n          focusedItem={focusedItem}\r\n          isItemLoaded={isItemLoaded}\r\n          sortingEnabled={view.type === \"list\"}\r\n          columnHeaderExtra={columnHeaderExtra}\r\n          selectedItems={selectedItems}\r\n          onSelectAll={onSelectAll}\r\n          onSelectRow={onRowSelect}\r\n          onRangeSelect={onRangeSelect}\r\n          onRowClick={onRowClick}\r\n          stopInteractions={isLocked}\r\n          onTypeChange={(col, type) => col.original.setType(type)}\r\n          onColumnResize={(col, width) => {\r\n            col.original.setWidth(width);\r\n          }}\r\n          onColumnReset={(col) => {\r\n            col.original.resetWidth();\r\n          }}\r\n          onDensityChange={setDensity}\r\n        />\r\n      ) : (\r\n        <GridView\r\n          view={view}\r\n          data={data}\r\n          fields={columns}\r\n          loadMore={loadMore}\r\n          onChange={(id) => view.toggleSelected(id)}\r\n          hiddenFields={hiddenColumns}\r\n          stopInteractions={isLocked}\r\n        />\r\n      );\r\n\r\n    useShortcut(\"dm.focus-previous\", () => {\r\n      if (document.activeElement !== document.body) return;\r\n\r\n      const task = dataStore.focusPrev();\r\n\r\n      getRoot(view).startLabeling(task);\r\n    });\r\n\r\n    useShortcut(\"dm.focus-next\", () => {\r\n      if (document.activeElement !== document.body) return;\r\n\r\n      const task = dataStore.focusNext();\r\n\r\n      getRoot(view).startLabeling(task);\r\n    });\r\n\r\n    useShortcut(\"dm.close-labeling\", () => {\r\n      if (document.activeElement !== document.body) return;\r\n\r\n      if (dataStore.selected) store.closeLabeling();\r\n    });\r\n\r\n    useShortcut(\"dm.open-labeling\", () => {\r\n      if (document.activeElement !== document.body) return;\r\n\r\n      const { highlighted } = dataStore;\r\n      // don't close QuickView by Enter\r\n\r\n      if (highlighted && !highlighted.isSelected) store.startLabeling(highlighted);\r\n    });\r\n\r\n    useEffect(() => {\r\n      const updateDatasetStatus = (dataset) => dataset?.status?.id && setDatasetStatusID(dataset?.status?.id);\r\n\r\n      getRoot(store).SDK.on(\"datasetUpdated\", updateDatasetStatus);\r\n      return () => getRoot(store).SDK.off(\"datasetUpdated\", updateDatasetStatus);\r\n    }, []);\r\n\r\n    // Render the UI for your table\r\n    return (\r\n      <div\r\n        className={cn(\"data-view-dm\").mix(\"dm-content\").toClassName()}\r\n        style={{ pointerEvents: isLocked ? \"none\" : \"auto\" }}\r\n      >\r\n        {renderContent(content)}\r\n      </div>\r\n    );\r\n  },\r\n);\r\n","import { inject, observer } from \"mobx-react\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { Space } from \"../../Common/Space/Space\";\r\nimport \"./TabPanel.scss\";\r\n\r\nconst injector = inject(({ store }) => {\r\n  return {\r\n    store,\r\n  };\r\n});\r\n\r\nexport const Toolbar = injector(\r\n  observer(({ store }) => {\r\n    return (\r\n      <div className={cn(\"tab-panel\").toClassName()}>\r\n        {store.SDK.toolbarInstruments.map((section, i) => {\r\n          return (\r\n            <Space size=\"small\" key={`section-${i}`}>\r\n              {section.map((instrument, i) => {\r\n                const Instrument = store.SDK.getInstrument(instrument);\r\n\r\n                return Instrument ? <Instrument key={`instrument-${instrument}-${i}`} size=\"small\" /> : null;\r\n              })}\r\n            </Space>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }),\r\n);\r\n","import { inject, observer } from \"mobx-react\";\r\nimport { useCallback } from \"react\";\r\nimport { Draggable } from \"react-beautiful-dnd\";\r\nimport { cn } from \"../../utils/bem\";\r\nimport { Interface } from \"../Common/Interface\";\r\nimport { Space } from \"../Common/Space/Space\";\r\nimport { Spinner } from \"../Common/Spinner\";\r\nimport { Tabs, TabsItem } from \"../Common/Tabs/Tabs\";\r\nimport { FiltersSidebar } from \"../Filters/FiltersSidebar/FilterSidebar\";\r\nimport { DataView } from \"../MainView\";\r\nimport \"./DataManager.scss\";\r\nimport { Toolbar } from \"./Toolbar/Toolbar\";\r\n\r\nconst tabContentCN = cn(\"tabs-dm-content\");\r\n\r\nconst injector = inject(({ store }) => {\r\n  const { sidebarEnabled, sidebarVisible } = store.viewsStore ?? {};\r\n\r\n  return {\r\n    shrinkWidth: sidebarEnabled && sidebarVisible,\r\n  };\r\n});\r\n\r\nconst summaryInjector = inject(({ store }) => {\r\n  const { project, taskStore } = store;\r\n\r\n  return {\r\n    totalTasks: project?.task_count ?? project?.task_number ?? 0,\r\n    totalFoundTasks: taskStore?.total ?? 0,\r\n    totalAnnotations: taskStore?.totalAnnotations ?? 0,\r\n    totalPredictions: taskStore?.totalPredictions ?? 0,\r\n    cloudSync: project.target_syncing ?? project.source_syncing ?? false,\r\n  };\r\n});\r\n\r\nconst switchInjector = inject(({ store }) => {\r\n  return {\r\n    sdk: store.SDK,\r\n    views: store.viewsStore,\r\n    tabs: store.viewsStore?.all ?? [],\r\n    selectedKey: store.viewsStore?.selected?.key,\r\n  };\r\n});\r\n\r\nconst ProjectSummary = summaryInjector((props) => {\r\n  return (\r\n    <Space size=\"large\" style={{ paddingRight: \"1em\", color: \"var(--color-neutral-content-subtle)\" }}>\r\n      {props.cloudSync && (\r\n        <Space size=\"small\" style={{ fontSize: 12, fontWeight: 400, opacity: 0.8 }}>\r\n          Storage sync\r\n          <Spinner size=\"small\" />\r\n        </Space>\r\n      )}\r\n      <span style={{ display: \"flex\", alignItems: \"center\", fontSize: 12 }}>\r\n        <Space size=\"compact\">\r\n          <span>\r\n            Tasks: <span title=\"Filtered tasks\">{props.totalFoundTasks}</span> /{\" \"}\r\n            <span title=\"Total tasks in the project\">{props.totalTasks}</span>\r\n          </span>\r\n          <span>Submitted annotations: {props.totalAnnotations}</span>\r\n          <span>Predictions: {props.totalPredictions}</span>\r\n        </Space>\r\n      </span>\r\n    </Space>\r\n  );\r\n});\r\n\r\nconst TabsSwitch = switchInjector(\r\n  observer(({ sdk, views, tabs, selectedKey }) => {\r\n    const editable = sdk.tabControls;\r\n\r\n    const onDragEnd = useCallback((result) => {\r\n      if (!result.destination) {\r\n        return;\r\n      }\r\n\r\n      views.updateViewOrder(result.source.index, result.destination.index);\r\n    }, []);\r\n\r\n    return (\r\n      <Tabs\r\n        activeTab={selectedKey}\r\n        onAdd={() => views.addView({ reload: false })}\r\n        onChange={(key) => views.setSelected(key)}\r\n        onDragEnd={onDragEnd}\r\n        tabBarExtraContent={<ProjectSummary />}\r\n        allowedActions={editable}\r\n      >\r\n        {tabs.map((tab, index) => (\r\n          <Draggable key={tab.key} draggableId={tab.key} index={index}>\r\n            {(provided, snapshot) => (\r\n              <div\r\n                className={tabContentCN.elem(\"draggable\").toString()}\r\n                ref={provided.innerRef}\r\n                {...provided.draggableProps}\r\n                {...provided.dragHandleProps}\r\n                tabIndex={-1}\r\n                style={{\r\n                  background: snapshot.isDragging,\r\n                  ...provided.draggableProps.style,\r\n                }}\r\n              >\r\n                <TabsItem\r\n                  key={tab.key}\r\n                  tab={tab.key}\r\n                  title={tab.title}\r\n                  onFinishEditing={(title) => {\r\n                    tab.setTitle(title);\r\n                    tab.save();\r\n                  }}\r\n                  onDuplicate={() => views.duplicateView(tab)}\r\n                  onClose={() => views.deleteView(tab)}\r\n                  onSave={() => tab.virtual && tab.saveVirtual()}\r\n                  active={tab.key === selectedKey}\r\n                  editable={tab.editable}\r\n                  deletable={tab.deletable}\r\n                  virtual={tab.virtual}\r\n                />\r\n              </div>\r\n            )}\r\n          </Draggable>\r\n        ))}\r\n      </Tabs>\r\n    );\r\n  }),\r\n);\r\n\r\nexport const DataManager = injector(({ shrinkWidth }) => {\r\n  return (\r\n    <div className={tabContentCN.toString()}>\r\n      <div className={tabContentCN.elem(\"tab\").mod({ shrink: shrinkWidth }).toString()}>\r\n        <Interface name=\"tabs\">\r\n          <TabsSwitch />\r\n        </Interface>\r\n\r\n        <Interface name=\"toolbar\">\r\n          <Toolbar />\r\n        </Interface>\r\n\r\n        <DataView />\r\n      </div>\r\n      <FiltersSidebar />\r\n    </div>\r\n  );\r\n});\r\n","import { inject } from \"mobx-react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { useCallback, useEffect, useMemo, useRef } from \"react\";\r\nimport { IconChevronDown, IconChevronLeft, IconGearNewUI } from \"@humansignal/icons\";\r\nimport { cn } from \"../../utils/bem\";\r\nimport { Button } from \"@humansignal/ui\";\r\nimport { FieldsButton } from \"../Common/FieldsButton\";\r\nimport { Icon } from \"../Common/Icon/Icon\";\r\nimport { Resizer } from \"../Common/Resizer/Resizer\";\r\nimport { Space } from \"../Common/Space/Space\";\r\nimport { DataView } from \"../MainView\";\r\nimport \"./Label.scss\";\r\n\r\n// Todo: consider renaming this file to something like LabelingWrapper as it is not a Label component\r\nconst LabelingHeader = ({ SDK, onClick, isExplorerMode }) => {\r\n  return (\r\n    <div className={cn(\"label-view\").elem(\"header\").mod({ labelStream: !isExplorerMode }).toClassName()}>\r\n      <Space size=\"large\">\r\n        {SDK.interfaceEnabled(\"backButton\") && (\r\n          <Button\r\n            icon={<IconChevronLeft style={{ marginRight: 4, fontSize: 16 }} />}\r\n            type=\"link\"\r\n            onClick={onClick}\r\n            style={{ fontSize: 18, padding: 0, color: \"black\" }}\r\n          >\r\n            Back\r\n          </Button>\r\n        )}\r\n\r\n        {isExplorerMode ? (\r\n          <FieldsButton\r\n            wrapper={FieldsButton.Checkbox}\r\n            icon={<Icon icon={IconGearNewUI} />}\r\n            trailingIcon={<Icon icon={IconChevronDown} />}\r\n            title={\"Fields\"}\r\n          />\r\n        ) : null}\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst injector = inject(({ store }) => {\r\n  return {\r\n    store,\r\n    loading: store?.loadingData,\r\n  };\r\n});\r\n\r\n/**\r\n * @param {{store: import(\"../../stores/AppStore\").AppStore}} param1\r\n */\r\nexport const Labeling = injector(\r\n  observer(({ store, loading }) => {\r\n    const lsfRef = useRef();\r\n    const SDK = store?.SDK;\r\n    const view = store?.currentView;\r\n    const { isExplorerMode } = store;\r\n\r\n    const isLabelStream = useMemo(() => {\r\n      return SDK.mode === \"labelstream\";\r\n    }, []);\r\n\r\n    const closeLabeling = useCallback(() => {\r\n      store.closeLabeling();\r\n    }, [store]);\r\n\r\n    const initLabeling = useCallback(() => {\r\n      if (!SDK.lsf) SDK.initLSF(lsfRef.current);\r\n      SDK.startLabeling();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      if (!isLabelStream) SDK.on(\"taskSelected\", initLabeling);\r\n\r\n      return () => {\r\n        if (!isLabelStream) SDK.off(\"taskSelected\", initLabeling);\r\n      };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      if ((!SDK.lsf && store.dataStore.selected) || isLabelStream) {\r\n        initLabeling();\r\n      }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      return () => SDK.destroyLSF();\r\n    }, []);\r\n\r\n    const onResize = useCallback((width) => {\r\n      view.setLabelingTableWidth(width);\r\n      // trigger resize events inside LSF\r\n      window.dispatchEvent(new Event(\"resize\"));\r\n    }, []);\r\n\r\n    return (\r\n      <div className={cn(\"label-view\").mod({ loading }).toClassName()}>\r\n        {SDK.interfaceEnabled(\"labelingHeader\") && (\r\n          <LabelingHeader SDK={SDK} onClick={closeLabeling} isExplorerMode={isExplorerMode} />\r\n        )}\r\n\r\n        <div className={cn(\"label-view\").elem(\"content\").toClassName()}>\r\n          {isExplorerMode && (\r\n            <div className={cn(\"label-view\").elem(\"table\").toClassName()}>\r\n              <Resizer\r\n                className={cn(\"label-view\").elem(\"dataview\").toClassName()}\r\n                minWidth={202}\r\n                showResizerLine={false}\r\n                type={\"quickview\"}\r\n                maxWidth={window.innerWidth * 0.35}\r\n                initialWidth={view.labelingTableWidth} // hardcoded as in main-menu-trigger\r\n                onResizeFinished={onResize}\r\n                style={{ display: \"flex\", flex: 1, width: \"100%\" }}\r\n              >\r\n                <DataView />\r\n              </Resizer>\r\n            </div>\r\n          )}\r\n\r\n          <div\r\n            className={cn(\"label-view\")\r\n              .elem(\"lsf-wrapper\")\r\n              .mod({ mode: isExplorerMode ? \"explorer\" : \"labeling\" })\r\n              .toClassName()}\r\n          >\r\n            {loading && <div className={cn(\"label-view\").elem(\"waiting\").mod({ animated: true }).toClassName()} />}\r\n            <div\r\n              ref={lsfRef}\r\n              id=\"label-studio-dm\"\r\n              className={cn(\"label-view\").elem(\"lsf-container\").toClassName()}\r\n              key=\"label-studio\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }),\r\n);\r\n","import { observer, Provider } from \"mobx-react\";\r\nimport React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { SDKProvider } from \"../../providers/SDKProvider\";\r\nimport { cn } from \"../../utils/bem\";\r\nimport { Spinner } from \"../Common/Spinner\";\r\nimport { DataManager } from \"../DataManager/DataManager\";\r\nimport { Labeling } from \"../Label/Label\";\r\nimport \"./App.scss\";\r\nimport { QueryClientProvider } from \"@tanstack/react-query\";\r\nimport { queryClient } from \"@humansignal/core/lib/utils/query-client\";\r\nimport { AuthProvider } from \"@humansignal/core/providers/AuthProvider\";\r\n\r\ninterface ErrorBoundaryProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\ninterface ErrorBoundaryState {\r\n  error: Error | null;\r\n}\r\n\r\nclass ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\r\n  state: ErrorBoundaryState = {\r\n    error: null,\r\n  };\r\n\r\n  componentDidCatch(error: Error): void {\r\n    this.setState({ error });\r\n  }\r\n\r\n  render(): React.ReactNode {\r\n    return this.state.error ? <div className=\"error\">{this.state.error.toString()}</div> : this.props.children;\r\n  }\r\n}\r\n\r\ninterface AppComponentProps {\r\n  app: {\r\n    SDK: {\r\n      mode: string;\r\n    };\r\n    crashed: boolean;\r\n    loading: boolean;\r\n    isLabeling: boolean;\r\n  };\r\n}\r\n\r\n/**\r\n * Main Component\r\n */\r\nconst AppComponent: React.FC<AppComponentProps> = ({ app }) => {\r\n  const rootCN = cn(\"root\");\r\n  const rootClassName = rootCN.mod({ mode: app.SDK.mode }).toString();\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <QueryClientProvider client={queryClient}>\r\n        <AuthProvider>\r\n          <Provider store={app}>\r\n            <SDKProvider sdk={app.SDK}>\r\n              <div className={rootClassName}>\r\n                {app.crashed ? (\r\n                  <div className={clsx(rootCN.toString(), rootClassName)}>\r\n                    <span className={rootCN.elem(\"header\").toString()}>Oops...</span>\r\n                    <span className={rootCN.elem(\"description\").toString()}>\r\n                      Project has been deleted or not yet created.\r\n                    </span>\r\n                  </div>\r\n                ) : app.loading ? (\r\n                  <div className={cn(\"app-loader\").toString()}>\r\n                    <Spinner size=\"large\" />\r\n                  </div>\r\n                ) : app.isLabeling ? (\r\n                  <Labeling />\r\n                ) : (\r\n                  <DataManager />\r\n                )}\r\n                <div className={cn(\"offscreen\").toString()} />\r\n              </div>\r\n            </SDKProvider>\r\n          </Provider>\r\n        </AuthProvider>\r\n      </QueryClientProvider>\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nexport const App = observer(AppComponent);\r\n","import { isDefined } from \"./utils\";\r\n\r\nexport const History = {\r\n  getParams(urlInstance) {\r\n    const url = urlInstance ?? new URL(window.location.href);\r\n    const result = {};\r\n\r\n    url.searchParams.forEach((value, key) => {\r\n      result[key] = value;\r\n    });\r\n\r\n    return result;\r\n  },\r\n\r\n  setParams(params = {}) {\r\n    const url = new URL(window.location.href);\r\n    const { searchParams } = url;\r\n\r\n    Object.entries(params).forEach(([key, value]) => {\r\n      if (value === null || value === undefined) {\r\n        searchParams.delete(key);\r\n      } else {\r\n        searchParams.set(key, value);\r\n      }\r\n    });\r\n\r\n    return url;\r\n  },\r\n\r\n  navigate(params = {}, replace = false) {\r\n    const url = this.setParams(params);\r\n    const title = document.title;\r\n    const state = this.getParams(url);\r\n\r\n    if (replace) {\r\n      window.history.replaceState(state, title, url.toString());\r\n    } else {\r\n      window.history.pushState(state, title, url.toString());\r\n    }\r\n  },\r\n\r\n  forceNavigate(params = {}, replace = false) {\r\n    const resultParams = params ?? {};\r\n    const currentParams = this.getParams();\r\n\r\n    Object.entries(currentParams).forEach(([key]) => {\r\n      if (!isDefined(resultParams[key])) {\r\n        resultParams[key] = null;\r\n      }\r\n    });\r\n\r\n    if (currentParams.query) {\r\n      resultParams.query = currentParams.query;\r\n    }\r\n\r\n    this.navigate(resultParams, replace);\r\n  },\r\n};\r\n","import { types } from \"mobx-state-tree\";\r\nimport { FF_LOPS_E_3, isFF } from \"../utils/feature-flags\";\r\nimport { CustomCalback, HtmlOrReact, StringOrNumberID } from \"./types\";\r\n\r\nconst SelectOptions = types.model(\"SelectOptions\", {\r\n  label: types.string,\r\n  value: types.string,\r\n});\r\n\r\nconst ActionFormField = types.model(\"ActionForm\", {\r\n  label: types.maybeNull(types.string),\r\n  name: types.string,\r\n  value: types.maybeNull(types.union(types.string, types.array(types.string))),\r\n  options: types.maybeNull(types.union(types.array(types.string), types.array(SelectOptions))),\r\n  type: types.enumeration([\"input\", \"number\", \"checkbox\", \"radio\", \"toggle\", \"select\", \"range\"]),\r\n  searchable: types.optional(types.boolean, false),\r\n  placeholder: types.optional(types.string, \"\"),\r\n});\r\n\r\nconst ActionFormCoulmn = types.model(\"ActionFormCoulmn\", {\r\n  width: types.maybeNull(types.number),\r\n  fields: types.array(ActionFormField),\r\n});\r\n\r\nconst ActionFormRow = types.model(\"ActionFormRow\", {\r\n  columnCount: 1,\r\n  columns: types.maybeNull(types.array(ActionFormCoulmn)),\r\n  fields: types.array(ActionFormField),\r\n});\r\n\r\nconst ActionDialog = types.model(\"ActionDialog\", {\r\n  title: types.maybeNull(types.string),\r\n  text: types.string,\r\n  type: types.enumeration([\"confirm\", \"prompt\"]),\r\n  form: types.maybeNull(types.array(ActionFormRow)),\r\n});\r\n\r\nconst isFFLOPSE3 = isFF(FF_LOPS_E_3);\r\n\r\nexport const Action = types\r\n  .model(\"Action\", {\r\n    id: StringOrNumberID,\r\n    dialog: types.maybeNull(ActionDialog),\r\n    order: types.integer,\r\n    disabled: types.optional(types.boolean, false),\r\n    disabled_reason: types.optional(types.string, \"\"),\r\n    title: isFFLOPSE3 ? types.union(types.string, HtmlOrReact) : types.string,\r\n    enterprise_badge: types.optional(types.boolean, false),\r\n    ...(isFFLOPSE3\r\n      ? {\r\n          children: types.optional(types.array(types.late(() => Action)), []),\r\n          callback: types.maybeNull(CustomCalback),\r\n          isSeparator: types.optional(types.boolean, false),\r\n          isTitle: types.optional(types.boolean, false),\r\n          newStyle: types.optional(types.boolean, false),\r\n          disabled: types.optional(types.boolean, false),\r\n          disabledReason: types.optional(types.string, \"\"),\r\n        }\r\n      : {}),\r\n  })\r\n  .volatile(() => ({\r\n    caller: null,\r\n  }));\r\n","import { nanoid } from \"nanoid\";\r\n\r\n/**\r\n * Unique hash generator\r\n * @param {number} lgth\r\n */\r\nexport function guidGenerator(lgth) {\r\n  let uniqueID = nanoid(10);\r\n\r\n  if (lgth) {\r\n    uniqueID = nanoid(lgth);\r\n  }\r\n\r\n  return uniqueID;\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useFirstMountState } from \"./useFirstMountState\";\r\n\r\nexport const useUpdateEffect: typeof useEffect = (effect, deps) => {\r\n  const isFirstMount = useFirstMountState();\r\n\r\n  useEffect(() => {\r\n    if (!isFirstMount) {\r\n      return effect();\r\n    }\r\n  }, deps);\r\n};\r\n","import {\r\n  type CSSProperties,\r\n  type FC,\r\n  forwardRef,\r\n  type KeyboardEvent,\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from \"react\";\r\nimport { cn } from \"../../../utils/bem\";\r\nimport { clamp, isDefined } from \"../../../utils/helpers\";\r\nimport { useValueTracker } from \"../Form/Utils\";\r\nimport \"./Pagination.scss\";\r\nimport { useUpdateEffect } from \"../../../hooks/useUpdateEffect\";\r\nimport { Select } from \"../Form/Elements\";\r\n\r\ninterface PaginationProps {\r\n  name?: string | (() => string);\r\n  page: number;\r\n  totalPages: number;\r\n  pageSize: number;\r\n  defaultPageSize?: number;\r\n  totalItems: number;\r\n  label?: string;\r\n  allowInput?: boolean;\r\n  allowRewind?: boolean;\r\n  disabled?: boolean;\r\n  waiting?: boolean;\r\n  urlParamName?: string;\r\n  pageSizeOptions?: number[];\r\n  size?: \"small\" | \"medium\" | \"large\";\r\n  style?: CSSProperties;\r\n  alwaysVisible?: boolean;\r\n  showTitle?: boolean;\r\n  showPageSize?: boolean;\r\n  onInit?: (pageNumber: number, pageSize: number) => void;\r\n  onChange?: (pageNumber: number, pageSize: number) => void;\r\n  onPageLoad?: (pageNumber: number, pageSize: number) => Promise<void>;\r\n}\r\n\r\nexport const DEFAULT_PAGE_SIZE = 30;\r\n\r\nconst isSystemEvent = (e: KeyboardEvent<HTMLInputElement>): boolean => {\r\n  return (\r\n    e.code.match(/arrow/i) !== null ||\r\n    (e.shiftKey && e.code.match(/arrow/i) !== null) ||\r\n    e.metaKey ||\r\n    e.ctrlKey ||\r\n    e.code === \"Backspace\"\r\n  );\r\n};\r\n\r\nexport const getStoredPageSize = (name?: string, defaultValue?: number): number | undefined => {\r\n  const value = localStorage.getItem(`pages:${name}`);\r\n\r\n  if (isDefined(value)) {\r\n    return Number.parseInt(value);\r\n  }\r\n\r\n  return defaultValue ?? undefined;\r\n};\r\n\r\nexport const setStoredPageSize = (name: string, pageSize: number) => {\r\n  localStorage.setItem(`pages:${name}`, pageSize.toString());\r\n};\r\n\r\nexport const Pagination: FC<PaginationProps> = forwardRef<any, PaginationProps>(\r\n  (\r\n    {\r\n      allowInput = true,\r\n      allowRewind = true,\r\n      disabled = false,\r\n      size = \"medium\",\r\n      pageSizeOptions = [],\r\n      alwaysVisible = false,\r\n      defaultPageSize,\r\n      showTitle = true,\r\n      showPageSize = true,\r\n      ...props\r\n    },\r\n    ref,\r\n  ) => {\r\n    const [inputMode, setInputMode] = useState(false);\r\n    const [currentPage, setCurrentPage] = useValueTracker(props.page);\r\n    const [waiting, setWaiting] = useValueTracker(props.waiting);\r\n\r\n    const finalName = useMemo(() => {\r\n      if (props.name instanceof Function) {\r\n        return props.name();\r\n      }\r\n\r\n      return props.name;\r\n    }, [props.name]);\r\n\r\n    const [pageSize, setPageSize] = useValueTracker(\r\n      props.pageSize,\r\n      getStoredPageSize(finalName) ?? defaultPageSize ?? pageSizeOptions?.[0] ?? 10,\r\n    );\r\n\r\n    const totalPages = useMemo(() => {\r\n      return props.totalPages ?? Math.ceil(props.totalItems / pageSize);\r\n    }, [pageSize, props.totalItems, props.totalPages]);\r\n\r\n    const visibleItems = useMemo(() => {\r\n      const { totalItems } = props;\r\n      const start = pageSize * currentPage - pageSize + 1;\r\n      const end = start + pageSize - 1;\r\n\r\n      return {\r\n        start: clamp(start, 1, totalItems),\r\n        end: clamp(end, 1, totalItems),\r\n      };\r\n    }, [currentPage, totalPages, pageSize, props.totalItems]);\r\n\r\n    const handlePageLoad = useCallback(\r\n      async (pageNumber: number, pageSize: number) => {\r\n        if (props.onPageLoad) {\r\n          setWaiting(true);\r\n          await props.onPageLoad(pageNumber, pageSize);\r\n          setWaiting(false);\r\n        }\r\n      },\r\n      [props.onPageLoad],\r\n    );\r\n\r\n    const setPageClamped = useCallback(\r\n      (value: number, force = false) => {\r\n        const pageNumber = clamp(value, 1, totalPages);\r\n\r\n        if (pageNumber !== currentPage || force === true) {\r\n          setCurrentPage(pageNumber);\r\n          updateURL(pageNumber);\r\n        }\r\n      },\r\n      [totalPages, currentPage, pageSize, handlePageLoad],\r\n    );\r\n\r\n    const updateURL = useCallback(\r\n      (\r\n        page: number,\r\n        options: {\r\n          replace?: boolean;\r\n        } = {},\r\n      ) => {\r\n        if (!props.urlParamName) return;\r\n\r\n        const urlParams = new URLSearchParams(location.search);\r\n\r\n        urlParams.set(props.urlParamName, page.toString());\r\n\r\n        const historyArgs: [any, string, string] = [{ page }, \"\", `${location.pathname}?${urlParams.toString()}`];\r\n\r\n        if (options.replace) {\r\n          history.replaceState(...historyArgs);\r\n        } else {\r\n          history.pushState(...historyArgs);\r\n        }\r\n      },\r\n      [props.urlParamName],\r\n    );\r\n\r\n    const applyPageNumberFromEvent = (\r\n      e: React.KeyboardEvent<HTMLInputElement> | React.FocusEvent<HTMLInputElement>,\r\n    ) => {\r\n      const result = Number.parseInt((e.target as HTMLInputElement).value);\r\n\r\n      setPageClamped(result);\r\n      setInputMode(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (finalName) setStoredPageSize(finalName, pageSize);\r\n      props.onInit?.(currentPage, pageSize);\r\n      updateURL(currentPage, { replace: true });\r\n    }, []);\r\n\r\n    useUpdateEffect(() => {\r\n      if (currentPage > totalPages) {\r\n        setPageClamped(1, true);\r\n      } else {\r\n        props.onChange?.(currentPage, pageSize);\r\n\r\n        handlePageLoad(currentPage, pageSize);\r\n      }\r\n    }, [pageSize, totalPages]);\r\n\r\n    useUpdateEffect(() => {\r\n      props.onChange?.(currentPage, pageSize);\r\n\r\n      handlePageLoad(currentPage, pageSize);\r\n    }, [currentPage]);\r\n\r\n    useEffect(() => {\r\n      const popStateHandler = () => {\r\n        if (!props.urlParamName) return;\r\n\r\n        const urlParams = new URLSearchParams(location.search);\r\n        const pageNumberFromURL = Number.parseInt(urlParams.get(props.urlParamName) ?? \"\");\r\n\r\n        if (!isNaN(pageNumberFromURL) && pageNumberFromURL !== currentPage) {\r\n          setCurrentPage(pageNumberFromURL);\r\n        }\r\n      };\r\n\r\n      window.addEventListener(\"popstate\", popStateHandler);\r\n\r\n      return () => window.removeEventListener(\"popstate\", popStateHandler);\r\n    }, [props.urlParamName]);\r\n\r\n    useEffect(() => {\r\n      if (ref instanceof Function) {\r\n        ref({});\r\n      } else if (ref) {\r\n        ref.current = {};\r\n      }\r\n    }, []);\r\n\r\n    return totalPages > 1 || alwaysVisible ? (\r\n      <div className={cn(\"pagination-dm\").mod({ disabled, size, waiting }).toClassName()} style={props.style}>\r\n        {props.label && isDefined(pageSize) && showTitle && (\r\n          <div className={cn(\"pagination-dm\").elem(\"label\").toClassName()}>\r\n            {props.label}: {visibleItems.start}-{visibleItems.end}\r\n          </div>\r\n        )}\r\n        <div className={cn(\"pagination-dm\").elem(\"navigation\").toClassName()}>\r\n          {allowRewind && (\r\n            <>\r\n              <NavigationButton\r\n                mod={[\"arrow-left\", \"arrow-left-double\"]}\r\n                onClick={() => setPageClamped(1)}\r\n                disabled={currentPage === 1}\r\n              />\r\n              <div className={cn(\"pagination-dm\").elem(\"divider\").toClassName()} />\r\n            </>\r\n          )}\r\n          <NavigationButton\r\n            mod={[\"arrow-left\"]}\r\n            onClick={() => setPageClamped(currentPage - 1)}\r\n            disabled={currentPage === 1}\r\n          />\r\n          <div className={cn(\"pagination-dm\").elem(\"input\").toClassName()}>\r\n            {inputMode ? (\r\n              <input\r\n                type=\"text\"\r\n                autoFocus\r\n                defaultValue={currentPage}\r\n                pattern=\"[0-9]\"\r\n                onKeyDown={(e) => {\r\n                  if (e.code === \"Escape\") {\r\n                    setInputMode(false);\r\n                  } else if (e.code === \"Enter\") {\r\n                    applyPageNumberFromEvent(e);\r\n                  } else if (e.code.match(/[0-9]/) === null && !isSystemEvent(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                  }\r\n                }}\r\n                onBlur={(e) => {\r\n                  applyPageNumberFromEvent(e);\r\n                }}\r\n              />\r\n            ) : (\r\n              <div\r\n                className={cn(\"pagination-dm\").elem(\"page-indicator\").toClassName()}\r\n                onClick={() => {\r\n                  if (allowInput) setInputMode(true);\r\n                }}\r\n              >\r\n                {currentPage} <span>of {totalPages}</span>\r\n                <div\r\n                  onClick={() => {\r\n                    /*  */\r\n                  }}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n          <NavigationButton\r\n            mod={[\"arrow-right\"]}\r\n            onClick={() => setPageClamped(currentPage + 1)}\r\n            disabled={currentPage === totalPages}\r\n          />\r\n          {allowRewind && (\r\n            <>\r\n              <div className={cn(\"pagination-dm\").elem(\"divider\").toClassName()} />\r\n              <NavigationButton\r\n                mod={[\"arrow-right\", \"arrow-right-double\"]}\r\n                onClick={() => setPageClamped(totalPages)}\r\n                disabled={currentPage === totalPages}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {pageSizeOptions?.length > 0 && showPageSize && (\r\n          <div className={cn(\"pagination-dm\").elem(\"page-size\").toClassName()}>\r\n            <Select\r\n              size={size}\r\n              value={pageSize}\r\n              options={pageSizeOptions.map((v) => ({ label: `${v} per page`, value: v }))}\r\n              onChange={(val: any) => {\r\n                const newPageSize = Number.parseInt(val);\r\n\r\n                setPageSize(newPageSize);\r\n\r\n                if (finalName) {\r\n                  setStoredPageSize(finalName, newPageSize);\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    ) : null;\r\n  },\r\n);\r\n\r\nconst NavigationButton: FC<{\r\n  onClick: (e: React.MouseEvent<HTMLDivElement>) => void;\r\n  mod: string[];\r\n  disabled?: boolean;\r\n}> = (props) => {\r\n  const mod = Object.fromEntries(props.mod.map((m) => [m, true]));\r\n\r\n  mod.disabled = props.disabled === true;\r\n\r\n  return <div className={cn(\"pagination-dm\").elem(\"btn\").mod(mod).toClassName()} onClick={props.onClick} />;\r\n};\r\n\r\nexport const usePage = (paramName: string, initialValue = 1) => {\r\n  const params = new URLSearchParams(location.search);\r\n  const urlValue = params.get(paramName);\r\n\r\n  const [page, setPage] = useState(urlValue ? Number.parseInt(urlValue) : initialValue);\r\n\r\n  return [page, setPage];\r\n};\r\n\r\nexport const usePageSize = (paramName: string, initialValue = 1) => {\r\n  const params = new URLSearchParams(location.search);\r\n  const urlValue = params.get(paramName);\r\n\r\n  const [pageSize, setPageSize] = useState(urlValue ? Number.parseInt(urlValue) : initialValue);\r\n\r\n  return [pageSize, setPageSize];\r\n};\r\n","import { flow, getRoot, types } from \"mobx-state-tree\";\r\nimport { guidGenerator } from \"../../utils/random\";\r\nimport { isDefined } from \"../../utils/utils\";\r\nimport { DEFAULT_PAGE_SIZE, getStoredPageSize } from \"../../components/Common/Pagination/Pagination\";\r\nimport { FF_LOPS_E_3, isFF } from \"../../utils/feature-flags\";\r\n\r\nconst listIncludes = (list, id) => {\r\n  const index = id !== undefined ? Array.from(list).findIndex((item) => item.id === id) : -1;\r\n\r\n  return index >= 0;\r\n};\r\n\r\nconst MixinBase = types\r\n  .model(\"InfiniteListMixin\", {\r\n    page: types.optional(types.integer, 0),\r\n    pageSize: types.optional(types.integer, getStoredPageSize(\"tasks\", DEFAULT_PAGE_SIZE)),\r\n    total: types.optional(types.integer, 0),\r\n    loading: false,\r\n    loadingItem: false,\r\n    loadingItems: types.optional(types.array(types.number), []),\r\n    updated: guidGenerator(),\r\n  })\r\n  .views((self) => ({\r\n    get API() {\r\n      return self.root.API;\r\n    },\r\n\r\n    get root() {\r\n      return getRoot(self);\r\n    },\r\n\r\n    get totalPages() {\r\n      return Math.ceil(self.total / self.pageSize);\r\n    },\r\n\r\n    get hasNextPage() {\r\n      return self.page !== self.totalPages;\r\n    },\r\n\r\n    get isLoading() {\r\n      return self.loadingItem || self.loadingItems.length > 0;\r\n    },\r\n\r\n    get length() {\r\n      return self.list.length;\r\n    },\r\n\r\n    itemIsLoading(id) {\r\n      return self.loadingItems.includes(id);\r\n    },\r\n  }))\r\n  .actions((self) => ({\r\n    setSelected(val) {\r\n      let selected;\r\n\r\n      if (typeof val === \"number\") {\r\n        selected = self.list.find((t) => t.id === val);\r\n        if (!selected) {\r\n          selected = getRoot(self).taskStore.loadTask(val);\r\n        }\r\n      } else {\r\n        selected = val;\r\n      }\r\n\r\n      if (selected && selected.id !== self.selected?.id) {\r\n        self.selected = selected;\r\n        self.highlighted = selected;\r\n\r\n        getRoot(self).SDK.invoke(\"taskSelected\");\r\n      }\r\n    },\r\n\r\n    hasRecord(id) {\r\n      return self.list.some((t) => t.id === Number(id));\r\n    },\r\n\r\n    unset({ withHightlight = false } = {}) {\r\n      self.selected = undefined;\r\n      if (withHightlight) self.highlighted = undefined;\r\n    },\r\n\r\n    setList({ list, total, reload, associatedList = [] }) {\r\n      const newEntity = list.map((t) => ({\r\n        ...t,\r\n        source: JSON.stringify(t),\r\n      }));\r\n\r\n      self.total = total;\r\n\r\n      newEntity.forEach((n) => {\r\n        const index = self.list.findIndex((i) => i.id === n.id);\r\n\r\n        if (index >= 0) {\r\n          self.list.splice(index, 1);\r\n        }\r\n      });\r\n\r\n      if (reload) {\r\n        self.list = [...newEntity];\r\n      } else {\r\n        self.list.push(...newEntity);\r\n      }\r\n\r\n      self.associatedList = associatedList;\r\n    },\r\n\r\n    setLoading(id) {\r\n      if (id !== undefined) {\r\n        self.loadingItems.push(id);\r\n      } else {\r\n        self.loadingItem = true;\r\n      }\r\n    },\r\n\r\n    finishLoading(id) {\r\n      if (id !== undefined) {\r\n        self.loadingItems = self.loadingItems.filter((item) => item !== id);\r\n      } else {\r\n        self.loadingItem = false;\r\n      }\r\n    },\r\n\r\n    clear() {\r\n      self.highlighted = undefined;\r\n      self.list = [];\r\n      self.page = 0;\r\n      self.total = 0;\r\n    },\r\n  }));\r\n\r\nexport const DataStore = (modelName, { listItemType, apiMethod, properties, associatedItemType }) => {\r\n  const model = types\r\n    .model(modelName, {\r\n      ...(properties ?? {}),\r\n      list: types.optional(types.array(listItemType), []),\r\n      selectedId: types.optional(types.maybeNull(types.number), null),\r\n      highlightedId: types.optional(types.maybeNull(types.number), null),\r\n      ...(associatedItemType\r\n        ? { associatedList: types.optional(types.maybeNull(types.array(associatedItemType)), []) }\r\n        : {}),\r\n    })\r\n    .views((self) => ({\r\n      get selected() {\r\n        return self.list.find(({ id }) => id === self.selectedId);\r\n      },\r\n\r\n      get highlighted() {\r\n        return self.list.find(({ id }) => id === self.highlightedId);\r\n      },\r\n\r\n      set selected(item) {\r\n        self.selectedId = item?.id ?? item;\r\n      },\r\n\r\n      set highlighted(item) {\r\n        self.highlightedId = item?.id ?? item;\r\n      },\r\n    }))\r\n    .volatile(() => ({\r\n      requestId: null,\r\n      debouncedFetch: null,\r\n    }))\r\n    .actions((self) => ({\r\n      updateItem(itemID, patch) {\r\n        let item = self.list.find((t) => t.id === itemID);\r\n\r\n        if (item) {\r\n          item.update(patch);\r\n        } else {\r\n          item = listItemType.create(patch);\r\n          self.list.push(item);\r\n        }\r\n\r\n        return item;\r\n      },\r\n\r\n      // Initialize debounced fetch function\r\n      initDebouncedFetch() {\r\n        if (!self.debouncedFetch) {\r\n          let timeoutId = null;\r\n          let pendingPromise = null;\r\n\r\n          self.debouncedFetch = (params) => {\r\n            return new Promise((resolve, reject) => {\r\n              // Clear any existing timeout\r\n              if (timeoutId) {\r\n                clearTimeout(timeoutId);\r\n              }\r\n\r\n              // Cancel any pending promise\r\n              if (pendingPromise) {\r\n                pendingPromise.cancel?.();\r\n              }\r\n\r\n              // Set new timeout\r\n              timeoutId = setTimeout(async () => {\r\n                try {\r\n                  pendingPromise = self._performFetch(params);\r\n                  const result = await pendingPromise;\r\n                  resolve(result);\r\n                } catch (error) {\r\n                  reject(error);\r\n                } finally {\r\n                  pendingPromise = null;\r\n                }\r\n              }, 150);\r\n            });\r\n          };\r\n        }\r\n      },\r\n\r\n      // Internal fetch function that performs the actual API call\r\n      _performFetch: flow(function* ({ id, query, pageNumber = null, reload = false, interaction, pageSize } = {}) {\r\n        let currentViewId;\r\n        let currentViewQuery;\r\n        const requestId = (self.requestId = guidGenerator());\r\n        const root = getRoot(self);\r\n\r\n        if (id) {\r\n          currentViewId = id;\r\n          currentViewQuery = query;\r\n        } else {\r\n          const currentView = root.viewsStore.selected;\r\n\r\n          currentViewId = currentView?.id;\r\n          currentViewQuery = currentView?.virtual ? currentView?.query : null;\r\n        }\r\n\r\n        if (!isDefined(currentViewId)) return;\r\n\r\n        self.loading = true;\r\n\r\n        if (interaction === \"filter\" || interaction === \"ordering\" || reload) {\r\n          self.page = 1;\r\n        } else if (reload || isDefined(pageNumber)) {\r\n          if (self.page === 0) self.page = 1;\r\n          else if (isDefined(pageNumber)) self.page = pageNumber;\r\n        } else {\r\n          self.page++;\r\n        }\r\n\r\n        if (pageSize) {\r\n          self.pageSize = pageSize;\r\n        } else {\r\n          self.pageSize = getStoredPageSize(\"tasks\", DEFAULT_PAGE_SIZE);\r\n        }\r\n\r\n        const params = {\r\n          page: self.page,\r\n          page_size: self.pageSize,\r\n        };\r\n\r\n        if (currentViewQuery) {\r\n          params.query = currentViewQuery;\r\n        } else {\r\n          params.view = currentViewId;\r\n        }\r\n\r\n        if (interaction) Object.assign(params, { interaction });\r\n\r\n        const data = yield root.apiCall(apiMethod, params, {}, { allowToCancel: root.SDK.type === \"DE\" });\r\n\r\n        // We cancel current request processing if request id\r\n        // changed during the request. It indicates that something\r\n        // triggered another request while current one is not yet finished\r\n        if (requestId !== self.requestId || data.isCanceled) {\r\n          console.log(`Request ${requestId} was cancelled by another request`);\r\n          return;\r\n        }\r\n\r\n        const highlightedID = self.highlighted;\r\n        const apiMethodSettings = root.API.getSettingsByMethodName(apiMethod);\r\n        const { total, [apiMethod]: list } = data;\r\n        let associatedList = [];\r\n\r\n        if (isFF(FF_LOPS_E_3) && apiMethodSettings?.associatedType) {\r\n          associatedList = data[apiMethodSettings?.associatedType];\r\n        }\r\n\r\n        if (list)\r\n          self.setList({\r\n            total,\r\n            list,\r\n            reload: reload || isDefined(pageNumber),\r\n            associatedList,\r\n          });\r\n\r\n        if (isDefined(highlightedID) && !listIncludes(self.list, highlightedID)) {\r\n          self.highlighted = null;\r\n        }\r\n\r\n        self.postProcessData?.(data);\r\n\r\n        self.loading = false;\r\n\r\n        root.SDK.invoke(\"dataFetched\", self);\r\n      }),\r\n\r\n      // Public fetch function that uses debouncing\r\n      fetch({ id, query, pageNumber = null, reload = false, interaction, pageSize } = {}) {\r\n        const params = { id, query, pageNumber, reload, interaction, pageSize };\r\n        const root = getRoot(self);\r\n        // Only use debouncing for virtual tabs that use queries (like search/filter tabs)\r\n        const currentView = root.viewsStore.selected;\r\n        // const isVirtualTab = currentView?.virtual && currentView?.query;\r\n\r\n        // Initialize debounced function if not already done\r\n        self.initDebouncedFetch();\r\n\r\n        // For virtual tabs with queries, use debounced version\r\n        return self.debouncedFetch(params);\r\n      },\r\n\r\n      reload: flow(function* ({ id, query, interaction } = {}) {\r\n        yield self.fetch({ id, query, reload: true, interaction });\r\n      }),\r\n\r\n      focusPrev() {\r\n        const index = Math.max(0, self.list.indexOf(self.highlighted) - 1);\r\n\r\n        self.highlighted = self.list[index];\r\n        self.updated = guidGenerator();\r\n\r\n        return self.highlighted;\r\n      },\r\n\r\n      focusNext() {\r\n        const index = Math.min(self.list.length - 1, self.list.indexOf(self.highlighted) + 1);\r\n\r\n        self.highlighted = self.list[index];\r\n        self.updated = guidGenerator();\r\n\r\n        return self.highlighted;\r\n      },\r\n    }));\r\n\r\n  return types.compose(MixinBase, model);\r\n};\r\n","import { applySnapshot, getParent, getSnapshot, types } from \"mobx-state-tree\";\r\nimport { guidGenerator } from \"../../utils/random\";\r\nimport { FF_LOPS_E_3, isFF } from \"../../utils/feature-flags\";\r\n\r\nexport const DataStoreItem = types\r\n  .model(\"DataStoreItem\", {\r\n    updated: guidGenerator(),\r\n    loading: isFF(FF_LOPS_E_3) ? types.maybeNull(types.union(types.string, types.boolean), false) : false,\r\n  })\r\n  .views((self) => ({\r\n    get parent() {\r\n      return getParent(getParent(self));\r\n    },\r\n\r\n    get isSelected() {\r\n      return self.parent?.selected === self;\r\n    },\r\n\r\n    get isHighlighted() {\r\n      return self.parent?.highlighted === self;\r\n    },\r\n\r\n    get isLoading() {\r\n      return self.parent.itemIsLoading(self.id);\r\n    },\r\n  }))\r\n  .actions((self) => ({\r\n    update(newData) {\r\n      const patch = {\r\n        ...getSnapshot(self),\r\n        ...newData,\r\n        updated: guidGenerator(),\r\n      };\r\n\r\n      try {\r\n        applySnapshot(self, patch);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      return self;\r\n    },\r\n\r\n    setLoading(loading) {\r\n      self.loading = loading;\r\n    },\r\n\r\n    markUpdated() {\r\n      self.updated = guidGenerator();\r\n    },\r\n  }));\r\n","import { types } from \"mobx-state-tree\";\r\nimport { CustomJSON, StringOrNumberID } from \"./types\";\r\n\r\nconst registry = new Map();\r\n\r\nexport const registerModel = (name, model) => {\r\n  registry.set(name, model);\r\n};\r\n\r\nexport const DynamicModel = (name, columns, properties) => {\r\n  const modelProperties = {};\r\n\r\n  const typeWrapper = (type) => types.optional(types.maybeNull(type), null);\r\n\r\n  columns?.forEach((col) => {\r\n    if (col.parent || col.id === \"id\") return;\r\n\r\n    let propertyType;\r\n\r\n    switch (col.type) {\r\n      case \"Number\":\r\n        propertyType = typeWrapper(types.number);\r\n        break;\r\n      case \"Boolean\":\r\n        propertyType = typeWrapper(types.boolean);\r\n        break;\r\n      case \"List\":\r\n        propertyType = typeWrapper(CustomJSON);\r\n        break;\r\n      default:\r\n        propertyType = typeWrapper(types.union(types.string, types.number));\r\n        break;\r\n    }\r\n    modelProperties[col.id] = propertyType;\r\n  });\r\n\r\n  Object.assign(modelProperties, {\r\n    id: StringOrNumberID,\r\n    ...(properties ?? {}),\r\n  });\r\n\r\n  const model = types.model(name, modelProperties);\r\n\r\n  registerModel(name, types.model(name, modelProperties));\r\n\r\n  return model;\r\n};\r\n\r\nDynamicModel.get = (name) => {\r\n  return registry.get(name);\r\n};\r\n","import { flow, getRoot, types } from \"mobx-state-tree\";\r\nimport { DataStore, DataStoreItem } from \"../../mixins/DataStore\";\r\nimport { DynamicModel } from \"../DynamicModel\";\r\n\r\nexport const create = (columns) => {\r\n  const AnnotationModelBase = DynamicModel(\"AnnotationModelBase\", columns);\r\n\r\n  const AnnotationModel = types.compose(\"AnnotationModel\", AnnotationModelBase, DataStoreItem);\r\n\r\n  return DataStore(\"AnnotationStore\", {\r\n    apiMethod: \"annotations\",\r\n    listItemType: AnnotationModel,\r\n  }).actions((self) => ({\r\n    loadTask: flow(function* (annotationID) {\r\n      let remoteTask;\r\n      const rootStore = getRoot(self);\r\n\r\n      if (annotationID !== undefined) {\r\n        remoteTask = yield rootStore.apiCall(\"task\", { taskID: annotationID });\r\n      } else {\r\n        remoteTask = yield rootStore.apiCall(\"nextTask\", {\r\n          projectID: getRoot(self).project.id,\r\n        });\r\n      }\r\n\r\n      annotationID = annotationID ?? remoteTask.id;\r\n\r\n      const annotation = self.updateItem(annotationID, {\r\n        ...remoteTask,\r\n        source: JSON.stringify(remoteTask),\r\n      });\r\n\r\n      self.setSelected(annotation.id);\r\n\r\n      return annotation;\r\n    }),\r\n\r\n    unsetTask() {\r\n      self.unset();\r\n    },\r\n  }));\r\n};\r\n","import { types } from \"mobx-state-tree\";\r\nimport { camelizeKeys } from \"../utils/helpers\";\r\nimport { StringOrNumberID } from \"./types\";\r\n\r\nexport const User = types\r\n  .model(\"User\", {\r\n    id: StringOrNumberID,\r\n    firstName: types.string,\r\n    lastName: types.string,\r\n    username: types.string,\r\n    email: types.string,\r\n    lastActivity: types.string,\r\n    avatar: types.maybeNull(types.string),\r\n    initials: types.string,\r\n  })\r\n  .views((self) => ({\r\n    get fullName() {\r\n      return [self.firstName, self.lastName]\r\n        .filter((n) => !!n)\r\n        .join(\" \")\r\n        .trim();\r\n    },\r\n\r\n    get displayName() {\r\n      return self.fullName || (self.username ? self.username : self.email);\r\n    },\r\n  }))\r\n  .preProcessSnapshot((sn) => {\r\n    return camelizeKeys(sn);\r\n  });\r\n","import { types } from \"mobx-state-tree\";\r\nimport { User } from \"./Users\";\r\nimport { StringOrNumberID } from \"./types\";\r\nimport { FF_DISABLE_GLOBAL_USER_FETCHING, isFF } from \"../utils/feature-flags\";\r\n\r\n// Create a union type that can handle both user references and direct user objects\r\nconst UserOrReference = types.union({\r\n  dispatcher: (snapshot) => {\r\n    // If it's a full user object (has firstName, email, etc.), use User model\r\n    if (snapshot && typeof snapshot === \"object\" && (snapshot.firstName || snapshot.email || snapshot.username)) {\r\n      return User;\r\n    }\r\n    // Otherwise, it's a reference to a user ID\r\n    return types.reference(User);\r\n  },\r\n  cases: {\r\n    [User.name]: User,\r\n    reference: types.reference(User),\r\n  },\r\n});\r\n\r\nexport const Assignee = types\r\n  .model(\"Assignee\", {\r\n    id: StringOrNumberID,\r\n    user: types.late(() => UserOrReference),\r\n    review: types.maybeNull(types.enumeration([\"accepted\", \"rejected\", \"fixed\"])),\r\n    reviewed: types.maybeNull(types.boolean),\r\n    annotated: types.maybeNull(types.boolean),\r\n  })\r\n  .views((self) => ({\r\n    get firstName() {\r\n      return self.user.firstName;\r\n    },\r\n    get lastName() {\r\n      return self.user.lastName;\r\n    },\r\n    get username() {\r\n      return self.user.username;\r\n    },\r\n    get email() {\r\n      return self.user.email;\r\n    },\r\n    get lastActivity() {\r\n      return self.user.lastActivity;\r\n    },\r\n    get avatar() {\r\n      return self.user.avatar;\r\n    },\r\n    get initials() {\r\n      return self.user.initials;\r\n    },\r\n    get fullName() {\r\n      return self.user.fullName;\r\n    },\r\n  }))\r\n  .preProcessSnapshot((sn) => {\r\n    let result = sn;\r\n\r\n    if (typeof sn === \"number\") {\r\n      result = {\r\n        id: sn,\r\n        user: sn,\r\n        annotated: true,\r\n        review: null,\r\n        reviewed: false,\r\n      };\r\n    } else {\r\n      const { user_id, annotated, review, reviewed, ...user } = sn;\r\n      const id = user_id ?? sn.id;\r\n\r\n      // When global user fetching is disabled, always create user objects, otherwise use references via user id\r\n      // If we only have user_id and no other user properties, just use the user_id as reference\r\n      const hasUserProperties = Object.keys(user).length > 0;\r\n      result = {\r\n        id,\r\n        user: isFF(FF_DISABLE_GLOBAL_USER_FETCHING) && hasUserProperties ? { id, ...user } : id, // Use user_id as reference\r\n        annotated,\r\n        review,\r\n        reviewed,\r\n      };\r\n    }\r\n\r\n    return result;\r\n  });\r\n","import { flow, getRoot, getSnapshot, types } from \"mobx-state-tree\";\r\nimport { DataStore, DataStoreItem } from \"../../mixins/DataStore\";\r\nimport { getAnnotationSnapshot } from \"../../sdk/lsf-utils\";\r\nimport { isDefined } from \"../../utils/utils\";\r\nimport { Assignee } from \"../Assignee\";\r\nimport { DynamicModel, registerModel } from \"../DynamicModel\";\r\nimport { CustomJSON } from \"../types\";\r\nimport { FF_DEV_2536, FF_DISABLE_GLOBAL_USER_FETCHING, FF_LOPS_E_3, isFF } from \"../../utils/feature-flags\";\r\n\r\nconst SIMILARITY_UPPER_LIMIT_PRECISION = 1000;\r\nconst fileAttributes = types.model({\r\n  certainty: types.optional(types.maybeNull(types.number), 0),\r\n  distance: types.optional(types.maybeNull(types.number), 0),\r\n  id: types.optional(types.maybeNull(types.string), \"\"),\r\n});\r\n\r\nconst exportedModel = types.model({\r\n  project_id: types.optional(types.maybeNull(types.number), null),\r\n  created_at: types.optional(types.maybeNull(types.string), \"\"),\r\n});\r\n\r\nexport const create = (columns) => {\r\n  const TaskModelBase = DynamicModel(\"TaskModelBase\", columns, {\r\n    ...(isFF(FF_DEV_2536) ? { comment_authors: types.optional(types.array(Assignee), []) } : {}),\r\n    annotators: types.optional(types.array(Assignee), []),\r\n    reviewers: types.optional(types.array(Assignee), []),\r\n    annotations: types.optional(types.array(CustomJSON), []),\r\n    predictions: types.optional(types.array(CustomJSON), []),\r\n    drafts: types.frozen(),\r\n    source: types.maybeNull(types.string),\r\n    was_cancelled: false,\r\n    overlap_reached: types.maybeNull(types.boolean),\r\n    overlap_reached_message: types.maybeNull(types.string),\r\n    assigned_task: false,\r\n    queue: types.optional(types.maybeNull(types.string), null),\r\n    // annotation to select on rejected queue\r\n    default_selected_annotation: types.maybeNull(types.number),\r\n    allow_postpone: types.maybeNull(types.boolean),\r\n    allow_skip: types.optional(types.maybeNull(types.boolean), true),\r\n    unique_lock_id: types.maybeNull(types.string),\r\n    updated_by: types.optional(types.array(Assignee), []),\r\n    ...(isFF(FF_DISABLE_GLOBAL_USER_FETCHING)\r\n      ? {\r\n          annotators_count: types.optional(types.maybeNull(types.number), 0),\r\n          reviewers_count: types.optional(types.maybeNull(types.number), 0),\r\n          comment_authors_count: types.optional(types.maybeNull(types.number), 0),\r\n        }\r\n      : {}),\r\n    ...(isFF(FF_LOPS_E_3)\r\n      ? {\r\n          _additional: types.optional(fileAttributes, {}),\r\n          candidate_task_id: types.optional(types.string, \"\"),\r\n          project: types.union(types.number, types.optional(types.array(exportedModel), [])), //number for Projects, array of exportedModel for Datasets\r\n        }\r\n      : {}),\r\n  })\r\n    .views((self) => ({\r\n      get lastAnnotation() {\r\n        return self.annotations[this.annotations.length - 1];\r\n      },\r\n    }))\r\n    .actions((self) => ({\r\n      mergeAnnotations(annotations) {\r\n        // skip drafts, they'll be added later\r\n        self.annotations = annotations\r\n          .filter((a) => a.pk)\r\n          .map((c) => {\r\n            const existingAnnotation = self.annotations.find((ec) => ec.id === Number(c.pk));\r\n\r\n            if (existingAnnotation) {\r\n              return existingAnnotation;\r\n            }\r\n            return {\r\n              id: c.id,\r\n              pk: c.pk,\r\n              draftId: c.draftId,\r\n              result: c.serializeAnnotation(),\r\n              leadTime: c.leadTime,\r\n              userGenerate: !!c.userGenerate,\r\n              sentUserGenerate: !!c.sentUserGenerate,\r\n            };\r\n          });\r\n      },\r\n\r\n      updateAnnotation(annotation) {\r\n        const existingAnnotation = self.annotations.find((c) => {\r\n          return c.id === Number(annotation.pk) || c.pk === annotation.pk;\r\n        });\r\n\r\n        if (existingAnnotation) {\r\n          Object.assign(existingAnnotation, getAnnotationSnapshot(annotation));\r\n        } else {\r\n          self.annotations.push(getAnnotationSnapshot(annotation));\r\n        }\r\n      },\r\n\r\n      deleteAnnotation(annotation) {\r\n        const index = self.annotations.findIndex((c) => {\r\n          return c.id === Number(annotation.pk) || c.pk === annotation.pk;\r\n        });\r\n\r\n        if (index >= 0) self.annotations.splice(index, 1);\r\n      },\r\n\r\n      deleteDraft(id) {\r\n        if (!self.drafts) return;\r\n        const index = self.drafts.findIndex((d) => d.id === id);\r\n\r\n        if (index >= 0) self.drafts.splice(index, 1);\r\n      },\r\n\r\n      loadAnnotations: flow(function* () {\r\n        const annotations = yield Promise.all([getRoot(self).apiCall(\"annotations\", { taskID: self.id })]);\r\n\r\n        self.annotations = annotations[0];\r\n      }),\r\n    }));\r\n\r\n  const TaskModel = types.compose(\"TaskModel\", TaskModelBase, DataStoreItem);\r\n  const AssociatedType = types.model(\"AssociatedModelBase\", {\r\n    id: types.identifierNumber,\r\n    title: types.string,\r\n    workspace: types.optional(types.array(types.string), []),\r\n  });\r\n\r\n  registerModel(\"TaskModel\", TaskModel);\r\n\r\n  return DataStore(\"TasksStore\", {\r\n    apiMethod: \"tasks\",\r\n    listItemType: TaskModel,\r\n    associatedItemType: AssociatedType,\r\n    properties: {\r\n      totalAnnotations: 0,\r\n      totalPredictions: 0,\r\n    },\r\n  })\r\n    .actions((self) => ({\r\n      loadTaskHistory: flow(function* (props) {\r\n        let taskHistory = yield self.root.apiCall(\"taskHistory\", props);\r\n\r\n        taskHistory = taskHistory.map((task) => {\r\n          return {\r\n            taskId: task.taskId,\r\n            annotationId: task.annotationId?.toString(),\r\n          };\r\n        });\r\n\r\n        return taskHistory;\r\n      }),\r\n      loadTask: flow(function* (taskID, { select = true } = {}) {\r\n        if (!isDefined(taskID)) {\r\n          console.warn(\"Task ID must be provided\");\r\n          return;\r\n        }\r\n\r\n        self.setLoading(taskID);\r\n\r\n        // Pass label stream mode context to the backend API call\r\n        const isLabelStream = getRoot(self).SDK?.mode === \"labelstream\";\r\n        const taskParams = { taskID };\r\n        if (isLabelStream) {\r\n          taskParams.interaction = \"labelstream\";\r\n        }\r\n\r\n        const taskData = yield self.root.apiCall(\"task\", taskParams);\r\n\r\n        if (taskData.status === 404) {\r\n          self.finishLoading(taskID);\r\n          getRoot(self).SDK.invoke(\"crash\", {\r\n            error: `Task ID: ${taskID} does not exist or is no longer available`,\r\n            redirect: true,\r\n          });\r\n          return null;\r\n        }\r\n        const task = self.applyTaskSnapshot(taskData, taskID);\r\n\r\n        if (select !== false) self.setSelected(task);\r\n\r\n        self.finishLoading(taskID);\r\n\r\n        return task;\r\n      }),\r\n\r\n      loadNextTask: flow(function* ({ select = true } = {}) {\r\n        const taskData = yield self.root.invokeAction(\"next_task\", {\r\n          reload: false,\r\n        });\r\n\r\n        if (taskData?.$meta?.status === 404) {\r\n          getRoot(self).SDK.invoke(\"labelStreamFinished\");\r\n          return null;\r\n        }\r\n\r\n        const labelStreamModeChanged =\r\n          self.selected && self.selected.assigned_task !== taskData.assigned_task && taskData.assigned_task === false;\r\n\r\n        const task = self.applyTaskSnapshot(taskData);\r\n\r\n        if (select !== false) self.setSelected(task);\r\n\r\n        if (labelStreamModeChanged) {\r\n          getRoot(self).SDK.invoke(\"assignedStreamFinished\");\r\n        }\r\n\r\n        const isLabelStream = getRoot(self).SDK?.mode === \"labelstream\";\r\n        if (isLabelStream) {\r\n          const selectedAnnotationID = getRoot(self).annotationStore.selected?.id;\r\n          console.log(\r\n            `[LABEL STREAM] ${task.queue}, task ${task.id}, project ${getRoot(self)?.SDK?.project?.id}, user ${getRoot(self).LSF.lsf.user.id}${selectedAnnotationID ? `, annotation ${selectedAnnotationID}` : \"\"}`,\r\n          );\r\n        }\r\n\r\n        return task;\r\n      }),\r\n\r\n      applyTaskSnapshot(taskData, taskID) {\r\n        let task;\r\n\r\n        if (taskData && !taskData?.error) {\r\n          const id = taskID ?? taskData.id;\r\n          const snapshot = self.mergeSnapshot(id, taskData);\r\n\r\n          task = self.updateItem(id, {\r\n            ...snapshot,\r\n            source: JSON.stringify(taskData),\r\n          });\r\n        }\r\n\r\n        return task;\r\n      },\r\n\r\n      mergeSnapshot(taskID, taskData) {\r\n        const task = self.list.find(({ id }) => id === taskID);\r\n        const snapshot = task ? { ...getSnapshot(task) } : {};\r\n\r\n        Object.assign(snapshot, taskData);\r\n\r\n        if (snapshot.predictions) {\r\n          snapshot.predictions.forEach((p) => {\r\n            p.created_by = (p.model_version?.trim() ?? \"\") || p.created_by;\r\n          });\r\n        }\r\n\r\n        return snapshot;\r\n      },\r\n\r\n      unsetTask() {\r\n        self.unset();\r\n      },\r\n\r\n      postProcessData(data) {\r\n        const { total_annotations, total_predictions, similarity_score_upper_limit } = data;\r\n\r\n        if (total_annotations !== null) self.totalAnnotations = total_annotations;\r\n        if (total_predictions !== null) self.totalPredictions = total_predictions;\r\n        if (!isNaN(similarity_score_upper_limit))\r\n          self.similarityUpperLimit =\r\n            Math.ceil(similarity_score_upper_limit * SIMILARITY_UPPER_LIMIT_PRECISION) /\r\n            SIMILARITY_UPPER_LIMIT_PRECISION;\r\n      },\r\n    }))\r\n    .preProcessSnapshot((snapshot) => {\r\n      const { total_annotations, total_predictions, similarity_score_upper_limit, ...sn } = snapshot;\r\n\r\n      return {\r\n        ...sn,\r\n        reviewers: (sn.reviewers ?? []).map((r) => ({\r\n          id: r,\r\n          annotated: false,\r\n          review: null,\r\n        })),\r\n        totalAnnotations: total_annotations,\r\n        totalPredictions: total_predictions,\r\n        similarityUpperLimit: similarity_score_upper_limit,\r\n      };\r\n    });\r\n};\r\n","interface Formatter {\r\n  [key: string]: (operator: string, value: any) => any;\r\n}\r\n\r\nconst filterFormatters: Formatter = {\r\n  Number: (op, value) => {\r\n    if (op.match(/^in|not_in$/)) {\r\n      const result = Object.entries(value).map(([key, value]) => {\r\n        return [key, Number(value)];\r\n      });\r\n\r\n      return Object.fromEntries(result);\r\n    }\r\n\r\n    return Number(value);\r\n  },\r\n  String: (op, value) => {\r\n    if (op.match(/^in|not_in$/)) {\r\n      const result = Object.entries(value).map(([key, value]) => {\r\n        return [key, String(value)];\r\n      });\r\n\r\n      return Object.fromEntries(result);\r\n    }\r\n\r\n    return String(value);\r\n  },\r\n};\r\n\r\nexport const normalizeFilterValue = (type: string, op: string, value: any) => {\r\n  const formatter = filterFormatters[type];\r\n\r\n  return formatter ? formatter(op, value) : value;\r\n};\r\n","import { getRoot, types } from \"mobx-state-tree\";\r\nimport { hasProperties } from \"../../utils/helpers\";\r\nimport { isDefined } from \"../../utils/utils\";\r\nimport { TabColumn, ViewColumnType } from \"./tab_column\";\r\nimport { StringOrNumberID } from \"../types\";\r\n\r\nexport const FilterValue = types.union(types.string, types.number, types.boolean);\r\n\r\nexport const FilterItemValue = types.model(\"FilterItemValue\", {\r\n  value: FilterValue,\r\n  title: FilterValue,\r\n  color: types.maybeNull(types.string),\r\n});\r\n\r\nexport const FilterItemType = types.union({\r\n  dispatcher(s) {\r\n    if (isDefined(s.value)) {\r\n      return FilterItemValue;\r\n    }\r\n    return FilterValue;\r\n  },\r\n});\r\n\r\nexport const FilterValueList = types\r\n  .model(\"FilterValueList\", {\r\n    items: types.array(FilterItemType),\r\n    multiple: types.maybeNull(types.boolean),\r\n  })\r\n  .views((self) => ({\r\n    get value() {\r\n      return self.items.toJSON();\r\n    },\r\n  }));\r\n\r\nexport const FilterValueRange = types\r\n  .model(\"FilterValueRange\", {\r\n    min: types.maybeNull(FilterValue),\r\n    max: types.maybeNull(FilterValue),\r\n  })\r\n  .views((self) => ({\r\n    get value() {\r\n      return { min: self.min, max: self.max };\r\n    },\r\n  }));\r\n\r\nexport const FilterValueType = types.union({\r\n  dispatcher(sn) {\r\n    if (!isDefined(sn)) return FilterValue;\r\n    if (sn.$treenode) return sn.$treenode.type;\r\n\r\n    if (hasProperties(sn, [\"items\"])) {\r\n      return FilterValueList;\r\n    }\r\n    if (hasProperties(sn, [\"min\", \"max\"])) {\r\n      return FilterValueRange;\r\n    }\r\n    if (Array.isArray(sn)) {\r\n      return types.array(FilterValueType);\r\n    }\r\n\r\n    return FilterValue;\r\n  },\r\n});\r\n\r\nexport const FilterSchema = types.union({\r\n  dispatcher(s) {\r\n    if (!s) return types.null;\r\n\r\n    if (isDefined(s.items)) {\r\n      return FilterValueList;\r\n    }\r\n    return FilterValueRange;\r\n  },\r\n});\r\n\r\nexport const TabFilterType = types\r\n  .model(\"TabFilterType\", {\r\n    id: StringOrNumberID,\r\n    field: types.reference(TabColumn),\r\n    type: ViewColumnType,\r\n    schema: types.maybeNull(FilterSchema),\r\n  })\r\n  .views((self) => ({\r\n    get defaultValue() {\r\n      switch (self.type) {\r\n        case \"Boolean\":\r\n          return false;\r\n        default:\r\n          return undefined;\r\n      }\r\n    },\r\n\r\n    get currentType() {\r\n      const view = getRoot(self).currentView;\r\n      const viewColumnDisplayType = view?.columnsDisplayType?.get?.(self.field.id);\r\n\r\n      return viewColumnDisplayType ?? self.field.type;\r\n    },\r\n  }));\r\n","import { flow, getParent, getRoot, types } from \"mobx-state-tree\";\r\nimport * as CellViews from \"../../components/CellViews\";\r\nimport { normalizeCellAlias } from \"../../components/CellViews\";\r\nimport * as Filters from \"../../components/Filters/types\";\r\nimport { allowedFilterOperations } from \"../../components/Filters/types/Utility\";\r\nimport { debounce } from \"../../utils/debounce\";\r\nimport { isBlank, isDefined } from \"../../utils/utils\";\r\nimport { FilterValueRange, FilterValueType, TabFilterType } from \"./tab_filter_type\";\r\n\r\nconst operatorNames = Array.from(new Set([].concat(...Object.values(Filters).map((f) => f.map((op) => op.key)))));\r\n\r\nconst Operators = types.enumeration(operatorNames);\r\n\r\nconst getOperatorDefaultValue = (operator) => {\r\n  if (!operatorNames.includes(operator)) {\r\n    return null;\r\n  }\r\n\r\n  return operator === \"empty\" ? false : null;\r\n};\r\n\r\nexport const TabFilter = types\r\n  .model(\"TabFilter\", {\r\n    filter: types.reference(TabFilterType),\r\n    operator: types.maybeNull(Operators),\r\n    value: types.maybeNull(FilterValueType),\r\n\r\n    child_filter: types.maybeNull(types.late(() => TabFilter)),\r\n  })\r\n  .views((self) => ({\r\n    get field() {\r\n      return self.filter.field;\r\n    },\r\n\r\n    get schema() {\r\n      return self.filter.schema;\r\n    },\r\n\r\n    /** @returns {import(\"./tab\").View} */\r\n    get view() {\r\n      // For child filters, we need to traverse up to find the tab\r\n      let current = self;\r\n      let parent = null;\r\n\r\n      try {\r\n        while (current) {\r\n          parent = getParent(current);\r\n          if (parent?.filters && Array.isArray(parent.filters)) {\r\n            return parent;\r\n          }\r\n          current = parent;\r\n        }\r\n      } catch {\r\n        return getParent(getParent(self));\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    get component() {\r\n      const operationsList = Filters[self.filter.currentType] ?? Filters.String;\r\n\r\n      return allowedFilterOperations(operationsList, getRoot(self)?.SDK?.type);\r\n    },\r\n\r\n    get componentValueType() {\r\n      return self.component?.find(({ key }) => key === self.operator)?.valueType;\r\n    },\r\n\r\n    get target() {\r\n      return self.filter.field.target;\r\n    },\r\n\r\n    get type() {\r\n      return self.field.currentType;\r\n    },\r\n\r\n    get isValidFilter() {\r\n      const { currentValue: value } = self;\r\n\r\n      if (!isDefined(value) || isBlank(value)) {\r\n        return false;\r\n      }\r\n      if (FilterValueRange.is(value)) {\r\n        return isDefined(value.min) && isDefined(value.max);\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    get currentValue() {\r\n      let resultValue;\r\n\r\n      if (self.filter.schema === null) {\r\n        resultValue = self.value;\r\n      } else {\r\n        resultValue = self.value?.value ?? self.value ?? null;\r\n      }\r\n\r\n      return resultValue;\r\n    },\r\n\r\n    get cellView() {\r\n      const col = self.filter.field;\r\n\r\n      return CellViews[col.type] ?? CellViews[normalizeCellAlias(col.alias)];\r\n    },\r\n  }))\r\n  .volatile(() => ({\r\n    wasValid: false,\r\n    saved: false,\r\n    saving: false,\r\n  }))\r\n  .actions((self) => ({\r\n    afterAttach() {\r\n      if (self.value === null) {\r\n        self.setDefaultValue();\r\n      }\r\n      if (self.operator === null) {\r\n        self.setOperator(self.component[0].key);\r\n      }\r\n\r\n      // If this filter's column has child_filter metadata and no child filter exists, create it\r\n      // This ensures child filters are automatically recreated after navigation\r\n      if (!self.child_filter && self.filter?.field?.child_filter) {\r\n        self.view?.applyChildFilter(self);\r\n      }\r\n    },\r\n\r\n    setFilter(value, save = true) {\r\n      if (!isDefined(value)) return;\r\n\r\n      self.view.clearChildFilter(self);\r\n\r\n      const previousFilterType = self.filter.currentType;\r\n      const previousFilter = self.filter;\r\n\r\n      self.filter = value;\r\n\r\n      const typeChanged = previousFilterType !== self.filter.currentType;\r\n      const filterChanged = previousFilter !== self.filter;\r\n\r\n      if (typeChanged || filterChanged) {\r\n        self.view.applyChildFilter(self);\r\n\r\n        self.markUnsaved();\r\n      }\r\n\r\n      if (typeChanged) {\r\n        self.setDefaultValue();\r\n        self.setOperator(self.component[0].key);\r\n      }\r\n\r\n      if (filterChanged) {\r\n        self.setValue(null);\r\n      }\r\n\r\n      if (save) self.saved();\r\n    },\r\n\r\n    setFilterDelayed(value) {\r\n      self.setFilter(value, false);\r\n      self.saveDelayed();\r\n    },\r\n\r\n    setOperator(operator) {\r\n      const previousValueType = self.componentValueType;\r\n\r\n      if (self.operator !== operator) {\r\n        self.markUnsaved();\r\n        self.operator = operator;\r\n      }\r\n\r\n      if (previousValueType !== self.componentValueType) {\r\n        self.setDefaultValue();\r\n      }\r\n\r\n      self.save();\r\n    },\r\n\r\n    setValue(newValue) {\r\n      self.value = newValue;\r\n    },\r\n\r\n    delete() {\r\n      self.view.deleteFilter(self);\r\n    },\r\n\r\n    save: flow(function* (force = false) {\r\n      const isValid = self.isValidFilter;\r\n\r\n      if (force !== true) {\r\n        if (self.saved === true) return;\r\n        if (isValid === false) return;\r\n        if (self.wasValid === false && isValid === false) return;\r\n      }\r\n\r\n      if (self.saving) return;\r\n\r\n      self.saving = true;\r\n      self.wasValid = isValid;\r\n      self.markSaved();\r\n      getRoot(self)?.unsetSelection();\r\n      self.view?.clearSelection();\r\n      yield self.view?.save({ interaction: \"filter\" });\r\n      self.saving = false;\r\n    }),\r\n\r\n    setDefaultValue() {\r\n      self.setValue(getOperatorDefaultValue(self.operator) ?? self.filter.defaultValue);\r\n    },\r\n\r\n    setValueDelayed(value) {\r\n      self.setValue(value);\r\n      setTimeout(self.saveDelayed);\r\n    },\r\n\r\n    markSaved() {\r\n      self.saved = true;\r\n    },\r\n\r\n    markUnsaved() {\r\n      self.saved = false;\r\n    },\r\n\r\n    saveDelayed: debounce(() => {\r\n      self.save();\r\n    }, 300),\r\n  }))\r\n  .preProcessSnapshot((sn) => {\r\n    if (!sn) return sn;\r\n    return { ...sn, value: sn.value ?? null };\r\n  });\r\n","import { getRoot, types } from \"mobx-state-tree\";\r\nimport { TabColumn } from \"./tab_column\";\r\n\r\nconst ColumnsList = types.maybeNull(types.array(types.late(() => types.reference(TabColumn))));\r\n\r\nexport const TabHiddenColumns = types\r\n  .model(\"TabHiddenColumns\", {\r\n    explore: types.optional(ColumnsList, []),\r\n    labeling: types.optional(ColumnsList, []),\r\n  })\r\n  .views((self) => ({\r\n    get length() {\r\n      return self.explore.length + self.labeling.length;\r\n    },\r\n\r\n    get activeList() {\r\n      return getRoot(self).isLabeling ? self.labeling : self.explore;\r\n    },\r\n\r\n    set activeList(list) {\r\n      if (getRoot(self).isLabeling) {\r\n        self.labeling = list;\r\n      } else {\r\n        self.explore = list;\r\n      }\r\n      self.activeList;\r\n    },\r\n\r\n    hasColumn(column) {\r\n      return self.activeList.indexOf(column) >= 0;\r\n    },\r\n  }))\r\n  .actions((self) => ({\r\n    add(column) {\r\n      const set = new Set(self.activeList);\r\n\r\n      set.add(column);\r\n      self.activeList = Array.from(set);\r\n    },\r\n\r\n    remove(column) {\r\n      const set = new Set(self.activeList);\r\n\r\n      set.delete(column);\r\n      self.activeList = Array.from(set);\r\n    },\r\n  }))\r\n  .preProcessSnapshot((sn) => {\r\n    return {\r\n      explore: sn?.explore ?? [],\r\n      labeling: sn?.labeling ?? [],\r\n    };\r\n  });\r\n","import { getRoot, types } from \"mobx-state-tree\";\r\nimport { StringOrNumber } from \"../types\";\r\n\r\nexport const TabSelectedItems = types\r\n  .model(\"TabSelectedItems\", {\r\n    all: false,\r\n    list: types.optional(types.array(StringOrNumber), []),\r\n  })\r\n  .views((self) => ({\r\n    get snapshot() {\r\n      return {\r\n        all: self.all,\r\n        [self.listName]: Array.from(self.list),\r\n      };\r\n    },\r\n\r\n    get listName() {\r\n      return self.all ? \"excluded\" : \"included\";\r\n    },\r\n\r\n    get hasSelected() {\r\n      return self.isAllSelected || self.isIndeterminate;\r\n    },\r\n\r\n    get isAllSelected() {\r\n      return self.all && self.list.length === 0;\r\n    },\r\n\r\n    get isIndeterminate() {\r\n      return self.list.length > 0;\r\n    },\r\n\r\n    get length() {\r\n      return self.list.length;\r\n    },\r\n\r\n    get total() {\r\n      if (self.all) {\r\n        const totalCount = getRoot(self).dataStore.total ?? 0;\r\n\r\n        return totalCount - self.length;\r\n      }\r\n      return self.length;\r\n    },\r\n\r\n    isSelected(id) {\r\n      if (self.all) {\r\n        return !self.list.includes(id);\r\n      }\r\n      return self.list.includes(id);\r\n    },\r\n  }))\r\n  .actions((self) => ({\r\n    afterCreate() {\r\n      self._invokeChangeEvent();\r\n    },\r\n\r\n    toggleSelectedAll() {\r\n      if (!self.all || !(self.all && self.isIndeterminate)) {\r\n        self.all = !self.all;\r\n      }\r\n\r\n      self.list = [];\r\n      self._invokeChangeEvent();\r\n    },\r\n\r\n    addItem(id) {\r\n      self.list.push(id);\r\n      self._invokeChangeEvent();\r\n    },\r\n\r\n    removeItem(id) {\r\n      self.list.splice(self.list.indexOf(id), 1);\r\n      self._invokeChangeEvent();\r\n    },\r\n\r\n    toggleItem(id) {\r\n      if (self.list.includes(id)) {\r\n        self.list.splice(self.list.indexOf(id), 1);\r\n      } else {\r\n        self.list.push(id);\r\n      }\r\n      self._invokeChangeEvent();\r\n    },\r\n\r\n    /**\r\n     * Select or unselect multiple items by their IDs (used for shift-click range selection).\r\n     * @param {Array} ids - Array of item IDs to select/unselect\r\n     * @param {boolean} select - true to select, false to unselect\r\n     */\r\n    selectRange(ids, select = true) {\r\n      if (self.all) {\r\n        // In \"all selected\" mode:\r\n        // - To select: remove IDs from the excluded list\r\n        // - To unselect: add IDs to the excluded list\r\n        for (const id of ids) {\r\n          const index = self.list.indexOf(id);\r\n          if (select && index !== -1) {\r\n            self.list.splice(index, 1);\r\n          } else if (!select && index === -1) {\r\n            self.list.push(id);\r\n          }\r\n        }\r\n      } else {\r\n        // In normal mode:\r\n        // - To select: add IDs to the included list\r\n        // - To unselect: remove IDs from the included list\r\n        for (const id of ids) {\r\n          const index = self.list.indexOf(id);\r\n          if (select && index === -1) {\r\n            self.list.push(id);\r\n          } else if (!select && index !== -1) {\r\n            self.list.splice(index, 1);\r\n          }\r\n        }\r\n      }\r\n      self._invokeChangeEvent();\r\n    },\r\n\r\n    update(data) {\r\n      self.all = data?.all ?? self.all;\r\n      self.list = data?.[self.listName] ?? self.list;\r\n      self._invokeChangeEvent();\r\n    },\r\n\r\n    clear() {\r\n      self.all = false;\r\n      self.list = [];\r\n      self._invokeChangeEvent();\r\n    },\r\n\r\n    _invokeChangeEvent() {\r\n      getRoot(self).SDK.invoke(\"taskSelectionChanged\", self);\r\n    },\r\n  }))\r\n  .preProcessSnapshot((sn) => {\r\n    const { included, excluded, all } = sn ?? {};\r\n    const result = { all, list: sn.list ?? (all ? excluded : included) };\r\n\r\n    return result;\r\n  });\r\n","import deepEqual from \"deep-equal\";\r\nimport { clone, destroy, flow, getParent, getRoot, getSnapshot, types } from \"mobx-state-tree\";\r\nimport { guidGenerator } from \"../../utils/random\";\r\nimport { normalizeFilterValue } from \"./filter_utils\";\r\nimport { TabFilter } from \"./tab_filter\";\r\nimport { TabHiddenColumns } from \"./tab_hidden_columns\";\r\nimport { TabSelectedItems } from \"./tab_selected_items\";\r\nimport { History } from \"../../utils/history\";\r\nimport { CustomJSON, StringOrNumberID, ThresholdType } from \"../types\";\r\nimport { clamp } from \"../../utils/helpers\";\r\nimport { FF_ANNOTATION_RESULTS_FILTERING, isFF } from \"../../utils/feature-flags\";\r\n\r\nconst THRESHOLD_MIN = 0;\r\nconst THRESHOLD_MIN_DIFF = 0.001;\r\n\r\nexport const Tab = types\r\n  .model(\"View\", {\r\n    id: StringOrNumberID,\r\n\r\n    title: \"Tasks\",\r\n    oldTitle: types.maybeNull(types.string),\r\n\r\n    key: types.optional(types.string, guidGenerator),\r\n\r\n    type: types.optional(types.enumeration([\"list\", \"grid\"]), \"list\"),\r\n\r\n    target: types.optional(types.enumeration([\"tasks\", \"annotations\"]), \"tasks\"),\r\n\r\n    filters: types.array(types.late(() => TabFilter)),\r\n    conjunction: types.optional(types.enumeration([\"and\", \"or\"]), \"and\"),\r\n    hiddenColumns: types.maybeNull(types.optional(TabHiddenColumns, {})),\r\n    ordering: types.optional(types.array(types.string), []),\r\n    selected: types.optional(TabSelectedItems, {}),\r\n    opener: types.optional(types.maybeNull(types.late(() => Tab)), null),\r\n    columnsWidth: types.map(types.maybeNull(types.number)),\r\n    columnsDisplayType: types.map(types.maybeNull(types.string)),\r\n    gridWidth: 4,\r\n    gridFitImagesToWidth: false,\r\n\r\n    enableFilters: false,\r\n    renameMode: false,\r\n    saved: false,\r\n    virtual: false,\r\n    locked: false,\r\n    editable: true,\r\n    deletable: true,\r\n    semantic_search: types.optional(types.array(CustomJSON), []),\r\n    threshold: types.optional(types.maybeNull(ThresholdType), null),\r\n    agreement_selected: types.optional(CustomJSON, {}),\r\n  })\r\n  .volatile(() => {\r\n    const defaultWidth = getComputedStyle(document.body)\r\n      .getPropertyValue(\"--menu-sidebar-width\")\r\n      .replace(\"px\", \"\")\r\n      .trim();\r\n\r\n    const labelingTableWidth = Number.parseInt(localStorage.getItem(\"labelingTableWidth\") ?? defaultWidth ?? 200);\r\n\r\n    return {\r\n      labelingTableWidth,\r\n    };\r\n  })\r\n  .views((self) => ({\r\n    /** @returns {import(\"../../components/App/App\").AppStore} */\r\n    get root() {\r\n      return getRoot(self);\r\n    },\r\n\r\n    get parent() {\r\n      return getParent(getParent(self));\r\n    },\r\n\r\n    get columns() {\r\n      return self.root.viewsStore.columns;\r\n    },\r\n\r\n    get targetColumns() {\r\n      return self.columns.filter((c) => {\r\n        return c.target === self.target && !c.isAnnotationResultsFilterColumn;\r\n      });\r\n    },\r\n\r\n    // get fields formatted as columns structure for react-table\r\n    get fieldsAsColumns() {\r\n      return self.columns.reduce((res, column) => {\r\n        if (!column.parent) {\r\n          res.push(...column.asField);\r\n        }\r\n        return res;\r\n      }, []);\r\n    },\r\n\r\n    get hiddenColumnsList() {\r\n      return self.columns.filter((c) => c.is_hidden).map((c) => c.key);\r\n    },\r\n\r\n    get availableFilters() {\r\n      return self.parent.availableFilters;\r\n    },\r\n\r\n    get dataStore() {\r\n      return self.root.dataStore;\r\n    },\r\n\r\n    get taskStore() {\r\n      return self.root.taskStore;\r\n    },\r\n\r\n    get annotationStore() {\r\n      return self.root.annotationStore;\r\n    },\r\n\r\n    get currentFilters() {\r\n      return self.filters.filter((f) => {\r\n        const targetMatches = f.target === self.target;\r\n        const annotationResultsOK = isFF(FF_ANNOTATION_RESULTS_FILTERING) || !f.field.isAnnotationResultsFilterColumn;\r\n\r\n        return targetMatches && annotationResultsOK;\r\n      });\r\n    },\r\n\r\n    get currentOrder() {\r\n      return self.ordering.length\r\n        ? self.ordering.reduce((res, field) => {\r\n            const fieldName = field.replace(/^-/, \"\");\r\n            const desc = field[0] === \"-\";\r\n\r\n            return {\r\n              ...res,\r\n              [fieldName]: desc,\r\n              desc,\r\n              field: fieldName,\r\n              column: self.columns.find((c) => c.id === fieldName),\r\n            };\r\n          }, {})\r\n        : null;\r\n    },\r\n\r\n    get filtersApplied() {\r\n      return self.validFilters.length;\r\n    },\r\n\r\n    get validFilters() {\r\n      return self.filters.filter((f) => !!f.isValidFilter);\r\n    },\r\n\r\n    get serializedFilters() {\r\n      const serialize = (filterModel) => {\r\n        const item = {\r\n          ...getSnapshot(filterModel),\r\n          type: filterModel.filter.currentType,\r\n        };\r\n\r\n        // cleanup or recurse on child_filter\r\n        if (item.child_filter) {\r\n          if (!filterModel.child_filter?.isValidFilter) {\r\n            item.child_filter = null;\r\n          } else {\r\n            item.child_filter = serialize(filterModel.child_filter);\r\n          }\r\n        }\r\n\r\n        item.value = normalizeFilterValue(item.type, item.operator, item.value);\r\n        return item;\r\n      };\r\n\r\n      return self.validFilters.map((el) => serialize(el));\r\n    },\r\n\r\n    get selectedCount() {\r\n      const selectedCount = self.selected.list.length;\r\n      const dataLength = self.dataStore.total;\r\n\r\n      return self.selected.all ? dataLength - selectedCount : selectedCount;\r\n    },\r\n\r\n    get allSelected() {\r\n      return self.selectedCount === self.dataStore.total;\r\n    },\r\n\r\n    get filterSnapshot() {\r\n      return {\r\n        conjunction: self.conjunction,\r\n        items: self.serializedFilters,\r\n      };\r\n    },\r\n\r\n    // key used in urls\r\n    get tabKey() {\r\n      return self.virtual ? self.key : self.id;\r\n    },\r\n\r\n    get hiddenColumnsSnapshot() {\r\n      return getSnapshot(self.hiddenColumns);\r\n    },\r\n\r\n    get query() {\r\n      return JSON.stringify({\r\n        filters: self.filterSnapshot,\r\n        ordering: self.ordering.toJSON(),\r\n        hiddenColumns: self.hiddenColumnsSnapshot,\r\n        agreement_selected: self.agreement_selected,\r\n      });\r\n    },\r\n\r\n    serialize() {\r\n      if (self.virtual) {\r\n        return {\r\n          title: self.title,\r\n          filters: self.filterSnapshot,\r\n          ordering: self.ordering.toJSON(),\r\n          agreement_selected: self.agreement_selected,\r\n        };\r\n      }\r\n\r\n      const tab = {};\r\n      const { apiVersion } = self.root;\r\n\r\n      const data = {\r\n        title: self.title,\r\n        ordering: self.ordering.toJSON(),\r\n        type: self.type,\r\n        target: self.target,\r\n        filters: self.filterSnapshot,\r\n        hiddenColumns: getSnapshot(self.hiddenColumns),\r\n        columnsWidth: self.columnsWidth.toPOJO(),\r\n        columnsDisplayType: self.columnsDisplayType.toPOJO(),\r\n        gridWidth: self.gridWidth,\r\n        gridFitImagesToWidth: self.gridFitImagesToWidth,\r\n        semantic_search: self.semantic_search?.toJSON() ?? [],\r\n        threshold: self.threshold?.toJSON(),\r\n        agreement_selected: self.agreement_selected,\r\n      };\r\n\r\n      if (self.saved || apiVersion === 1) {\r\n        tab.id = self.id;\r\n      }\r\n\r\n      if (apiVersion === 2) {\r\n        tab.data = data;\r\n        tab.project = self.root.SDK.projectId;\r\n      } else {\r\n        Object.assign(tab, data);\r\n      }\r\n\r\n      self.root.SDK.invoke(\"tabTypeChanged\", { tab: tab.id, type: self.type });\r\n      return tab;\r\n    },\r\n  }))\r\n  .volatile(() => ({\r\n    snapshot: {},\r\n  }))\r\n  .actions((self) => ({\r\n    lock() {\r\n      self.locked = true;\r\n    },\r\n\r\n    unlock() {\r\n      self.locked = false;\r\n    },\r\n\r\n    setType(type) {\r\n      self.type = type;\r\n      self.root.SDK.invoke(\"tabTypeChanged\", { tab: self.id, type });\r\n      self.save({ reload: false });\r\n    },\r\n\r\n    setTarget(target) {\r\n      self.target = target;\r\n      self.save();\r\n    },\r\n\r\n    setTitle(title) {\r\n      self.title = title;\r\n    },\r\n\r\n    setVirtual(value) {\r\n      self.virtual = value;\r\n    },\r\n\r\n    setRenameMode(mode) {\r\n      self.renameMode = mode;\r\n      if (self.renameMode) self.oldTitle = self.title;\r\n    },\r\n\r\n    setConjunction(value) {\r\n      self.conjunction = value;\r\n      self.save();\r\n    },\r\n\r\n    setOrdering(value) {\r\n      if (value === null) {\r\n        self.ordering = [];\r\n      } else {\r\n        const direction = self.currentOrder?.[value];\r\n        let ordering = value;\r\n\r\n        if (direction !== undefined) {\r\n          ordering = direction ? value : `-${value}`;\r\n        }\r\n\r\n        self.ordering[0] = ordering;\r\n      }\r\n\r\n      self.clearSelection();\r\n      self.save({ interaction: \"ordering\" });\r\n    },\r\n\r\n    setLabelingTableWidth(width) {\r\n      self.labelingTableWidth = width;\r\n      localStorage.setItem(\"labelingTableWidth\", self.labelingTableWidth);\r\n    },\r\n\r\n    setGridWidth(width) {\r\n      self.gridWidth = width;\r\n      self.save();\r\n    },\r\n\r\n    setFitImagesToWidth(responsive) {\r\n      self.gridFitImagesToWidth = responsive;\r\n      self.save();\r\n    },\r\n\r\n    setSelected(ids) {\r\n      self.selected = ids;\r\n    },\r\n\r\n    setSemanticSearch(semanticSearchList, min, max) {\r\n      self.semantic_search = semanticSearchList ?? [];\r\n      /* if no semantic search we have to clean up threshold */\r\n      if (self.semantic_search.length === 0) {\r\n        self.threshold = null;\r\n        return self.save();\r\n      }\r\n      /* if we have a min and max we need to make sure we save that too.\r\n      this prevents firing 2 view save requests to accomplish the same thing */\r\n      return !isNaN(min) && !isNaN(max) ? self.setSemanticSearchThreshold(min, max) : self.save();\r\n    },\r\n\r\n    setSemanticSearchThreshold(_min, max) {\r\n      const min = clamp(_min ?? THRESHOLD_MIN, THRESHOLD_MIN, max - THRESHOLD_MIN_DIFF);\r\n\r\n      if (self.semantic_search?.length && !isNaN(min) && !isNaN(max)) {\r\n        self.threshold = { min, max };\r\n        return self.save();\r\n      }\r\n    },\r\n\r\n    clearSemanticSearchThreshold(save = true) {\r\n      self.threshold = null;\r\n      return save && self.save();\r\n    },\r\n\r\n    selectAll() {\r\n      self.selected.toggleSelectedAll();\r\n    },\r\n\r\n    clearSelection() {\r\n      self.selected.clear();\r\n    },\r\n\r\n    toggleSelected(id) {\r\n      self.selected.toggleItem(id);\r\n    },\r\n\r\n    /**\r\n     * Select or unselect a range of items by their IDs (used for shift-click range selection)\r\n     * @param {Array} ids - Array of item IDs\r\n     * @param {boolean} select - true to select, false to unselect\r\n     */\r\n    selectRange(ids, select = true) {\r\n      self.selected.selectRange(ids, select);\r\n    },\r\n\r\n    setColumnWidth(columnID, width) {\r\n      if (width) {\r\n        self.columnsWidth.set(columnID, width);\r\n      } else {\r\n        self.columnsWidth.delete(columnID);\r\n      }\r\n    },\r\n\r\n    setColumnDisplayType(columnID, type) {\r\n      if (type !== null) {\r\n        const filters = self.filters.filter(({ filter }) => {\r\n          return columnID === filter.field.id;\r\n        });\r\n\r\n        filters.forEach((f) => {\r\n          if (f.type !== type) f.delete();\r\n        });\r\n\r\n        self.columnsDisplayType.set(columnID, type);\r\n      } else {\r\n        self.columnsDisplayType.delete(columnID);\r\n      }\r\n    },\r\n\r\n    createFilter() {\r\n      const filterType = self.availableFilters[0];\r\n      const filter = TabFilter.create({\r\n        filter: filterType,\r\n        view: self.id,\r\n      });\r\n\r\n      self.filters.push(filter);\r\n\r\n      // Immediately materialize child filter for the default column, if any\r\n      self.applyChildFilter(filter);\r\n\r\n      if (filter.isValidFilter) self.save();\r\n    },\r\n\r\n    /**\r\n     * Create a new filter row for the provided filter *type* (column).\r\n     */\r\n    createChildFilterForType(filterType, parentFilter) {\r\n      const filter = TabFilter.create({\r\n        filter: filterType,\r\n        view: self.id,\r\n      });\r\n\r\n      // Don't add to main filters array - child is owned by parent\r\n      parentFilter.child_filter = filter;\r\n\r\n      return filter;\r\n    },\r\n\r\n    toggleColumn(column) {\r\n      if (self.hiddenColumns.hasColumn(column)) {\r\n        self.hiddenColumns.remove(column);\r\n      } else {\r\n        self.hiddenColumns.add(column);\r\n      }\r\n      self.save();\r\n    },\r\n\r\n    setAgreementFilters({\r\n      ground_truth = false,\r\n      annotators = { all: true, ids: [] },\r\n      models = { all: true, ids: [] },\r\n    }) {\r\n      self.agreement_selected = {\r\n        ground_truth,\r\n        annotators: {\r\n          all: annotators.all,\r\n          ids: annotators.ids,\r\n        },\r\n        models: {\r\n          all: models.all,\r\n          ids: models.ids,\r\n        },\r\n      };\r\n    },\r\n\r\n    reload: flow(function* ({ interaction } = {}) {\r\n      if (self.saved) {\r\n        yield self.dataStore.reload({ id: self.id, interaction });\r\n      }\r\n      if (self.virtual) {\r\n        yield self.dataStore.reload({ query: self.query, interaction });\r\n      }\r\n\r\n      getRoot(self).SDK?.invoke?.(\"tabReloaded\", self);\r\n    }),\r\n\r\n    deleteFilter(filter) {\r\n      // Recursively delete child filter first\r\n      if (filter.child_filter) {\r\n        self.deleteFilter(filter.child_filter);\r\n      }\r\n\r\n      const index = self.filters.findIndex((f) => f === filter);\r\n      if (index > -1) {\r\n        self.filters.splice(index, 1);\r\n        destroy(filter);\r\n        self.save();\r\n      }\r\n    },\r\n\r\n    afterAttach() {\r\n      self.hiddenColumns = self.hiddenColumns ?? clone(self.parent.defaultHidden);\r\n    },\r\n\r\n    afterCreate() {\r\n      self.snapshot = self.serialize();\r\n    },\r\n\r\n    save: flow(function* ({ reload, interaction } = {}) {\r\n      const serialized = self.serialize();\r\n\r\n      if (!self.saved || !deepEqual(self.snapshot, serialized)) {\r\n        self.snapshot = serialized;\r\n        if (self.virtual === true) {\r\n          const snapshot = self.serialize();\r\n\r\n          self.key = self.parent.snapshotToUrl(snapshot);\r\n\r\n          const projectId = self.root.SDK.projectId;\r\n\r\n          // Save the virtual tab of the project to local storage to persist between page navigations\r\n          if (projectId) {\r\n            localStorage.setItem(`virtual-tab-${projectId}`, JSON.stringify(snapshot));\r\n          }\r\n\r\n          History.navigate({ tab: self.key }, true);\r\n          self.reload({ interaction });\r\n        } else {\r\n          yield self.parent.saveView(self, { reload, interaction });\r\n        }\r\n      }\r\n    }),\r\n\r\n    saveVirtual: flow(function* (options) {\r\n      const originalId = self.id;\r\n      self.setVirtual(false);\r\n      const newView = yield self.save(options);\r\n\r\n      // If a new view was created (different ID), the old view is destroyed\r\n      // Use the new view for navigation\r\n      if (newView && newView.id !== originalId) {\r\n        History.navigate({ tab: newView.id }, true);\r\n      } else {\r\n        // Same view, ensure virtual is false\r\n        self.setVirtual(false);\r\n        History.navigate({ tab: self.id }, true);\r\n      }\r\n    }),\r\n\r\n    delete: flow(function* () {\r\n      yield self.root.apiCall(\"deleteTab\", { tabID: self.id });\r\n    }),\r\n\r\n    markSaved() {\r\n      self.saved = true;\r\n    },\r\n\r\n    /**\r\n     * Create child filters for a given root filter according to its column's `child_filter` metadata.\r\n     */\r\n    applyChildFilter(rootFilter) {\r\n      if (!rootFilter || !rootFilter.filter || !rootFilter.filter.field) return;\r\n\r\n      const column = rootFilter.field;\r\n      const childFilter = column?.child_filter;\r\n\r\n      if (!childFilter) return;\r\n\r\n      // NOTE: using targetColumns instead of columns means that annotation results columns cannot be used in child_filters, but seems fine for now\r\n      const firstChildColumn = self.targetColumns.find((c) => c.alias === childFilter);\r\n\r\n      if (firstChildColumn && !rootFilter.child_filter) {\r\n        const filterType = self.availableFilters.find((ft) => ft.field.id === firstChildColumn.id);\r\n\r\n        if (filterType) {\r\n          const childFilter = self.createChildFilterForType(filterType, rootFilter);\r\n        }\r\n      }\r\n    },\r\n\r\n    /** Remove any child filters previously created */\r\n    clearChildFilter(rootFilter) {\r\n      if (rootFilter.child_filter) {\r\n        self.deleteFilter(rootFilter.child_filter);\r\n        rootFilter.child_filter = null;\r\n      }\r\n    },\r\n  }))\r\n  .preProcessSnapshot((snapshot) => {\r\n    if (snapshot === null) return snapshot;\r\n\r\n    const { filters, agreement_selected, ...sn } = snapshot ?? {};\r\n\r\n    if (filters && !Array.isArray(filters)) {\r\n      const { conjunction, items } = filters ?? {};\r\n\r\n      Object.assign(sn, {\r\n        filters: items ?? [],\r\n        conjunction: conjunction ?? \"and\",\r\n      });\r\n    } else {\r\n      sn.filters = filters;\r\n    }\r\n\r\n    if (agreement_selected) {\r\n      Object.assign(sn, {\r\n        agreement_selected:\r\n          typeof agreement_selected === \"string\" ? JSON.parse(agreement_selected) : agreement_selected,\r\n      });\r\n    }\r\n    delete sn.selectedItems;\r\n\r\n    return sn;\r\n  });\r\n","import { applySnapshot, clone, destroy, flow, getRoot, getSnapshot, types } from \"mobx-state-tree\";\r\nimport { History } from \"../../utils/history\";\r\nimport { guidGenerator } from \"../../utils/random\";\r\nimport { isDefined, unique } from \"../../utils/utils\";\r\nimport { CustomJSON } from \"../types\";\r\nimport { Tab } from \"./tab\";\r\nimport { TabColumn } from \"./tab_column\";\r\nimport { TabFilterType } from \"./tab_filter_type\";\r\nimport { TabHiddenColumns } from \"./tab_hidden_columns\";\r\nimport { serializeJsonForUrl, deserializeJsonFromUrl } from \"@humansignal/core\";\r\nimport { isEmpty } from \"../../utils/helpers\";\r\n\r\nconst storeValue = (name, value) => {\r\n  window.localStorage.setItem(name, value);\r\n  return value;\r\n};\r\n\r\nconst restoreValue = (name) => {\r\n  const value = window.localStorage.getItem(name);\r\n\r\n  return value ? value === \"true\" : false;\r\n};\r\n\r\nconst dataCleanup = (tab, columns) => {\r\n  const { data } = tab;\r\n\r\n  if (!data) return { ...tab };\r\n\r\n  if (data.filters) {\r\n    data.filters.items = data.filters.items.filter(({ filter }) => {\r\n      return !!columns.find((c) => c.id === filter.replace(/^filter:/, \"\"));\r\n    });\r\n  }\r\n\r\n  [\"columnsDisplayType\", \"columnWidths\"].forEach((key) => {\r\n    data[key] = Object.fromEntries(\r\n      Object.entries(data[key] ?? {}).filter(([col]) => {\r\n        const match = columns.find((c) => c.id === col);\r\n        return !!match && !match.isAnnotationResultsFilterColumn;\r\n      }),\r\n    );\r\n  });\r\n\r\n  Object.entries(data.hiddenColumns ?? {}).forEach(([key, list]) => {\r\n    data.hiddenColumns[key] = list.filter((k) => {\r\n      const match = columns.find((c) => c.id === k);\r\n      return !!match && !match.isAnnotationResultsFilterColumn;\r\n    });\r\n  });\r\n\r\n  return { ...tab, data };\r\n};\r\n\r\nconst createNameCopy = (name) => {\r\n  let newName = name;\r\n  const matcher = /Copy(\\s\\(([\\d]+)\\))?/;\r\n  const copyNum = newName.match(matcher);\r\n\r\n  if (copyNum) {\r\n    newName = newName.replace(matcher, (...match) => {\r\n      const num = match[2];\r\n\r\n      if (num) return `Copy (${Number(num) + 1})`;\r\n\r\n      return \"Copy (2)\";\r\n    });\r\n  } else {\r\n    newName += \" Copy\";\r\n  }\r\n\r\n  return newName;\r\n};\r\n\r\nexport const TabStore = types\r\n  .model(\"TabStore\", {\r\n    selected: types.maybeNull(types.late(() => types.reference(Tab))),\r\n    views: types.optional(types.array(Tab), []),\r\n    availableFilters: types.optional(types.array(TabFilterType), []),\r\n    columnsTargetMap: types.map(types.array(TabColumn)),\r\n    columnsRaw: types.optional(CustomJSON, []),\r\n    sidebarVisible: restoreValue(\"sidebarVisible\"),\r\n    sidebarEnabled: restoreValue(\"sidebarEnabled\"),\r\n  })\r\n  .volatile(() => ({\r\n    defaultHidden: null,\r\n  }))\r\n  .views((self) => ({\r\n    get all() {\r\n      return self.views;\r\n    },\r\n\r\n    get canClose() {\r\n      return self.all.length > 1;\r\n    },\r\n\r\n    get columns() {\r\n      const cols = self.columnsTargetMap ?? new Map();\r\n      return cols.get(self.selected?.target ?? \"tasks\") ?? [];\r\n    },\r\n\r\n    get dataStore() {\r\n      return getRoot(self).dataStore;\r\n    },\r\n\r\n    get taskStore() {\r\n      return getRoot(self).taskStore;\r\n    },\r\n\r\n    get annotationStore() {\r\n      return getRoot(self).annotationStore;\r\n    },\r\n\r\n    get lastView() {\r\n      return self.views[self.views.length - 1];\r\n    },\r\n\r\n    serialize() {\r\n      return self.views.map((v) => v.serialize());\r\n    },\r\n  }))\r\n  .actions((self) => ({\r\n    setSelected: flow(function* (view, options = {}) {\r\n      let selected;\r\n\r\n      if (typeof view === \"string\") {\r\n        selected = yield self.getViewByKey(view);\r\n      } else if (typeof view === \"number\") {\r\n        selected = self.views.find((v) => v.id === view);\r\n      } else if (view && view.id) {\r\n        selected = self.views.find((v) => v.id === view.id);\r\n      }\r\n      if (!selected) {\r\n        selected = self.views[0];\r\n      }\r\n\r\n      if (self.views.length === 0 && options.createDefault !== false) {\r\n        view = null;\r\n        yield self.createDefaultView();\r\n      }\r\n\r\n      if (selected && self.selected !== selected) {\r\n        if (options.pushState !== false || !view) {\r\n          History.navigate({ tab: selected.tabKey }, true);\r\n        }\r\n\r\n        self.dataStore.clear();\r\n        self.selected = selected;\r\n\r\n        yield selected.reload();\r\n\r\n        const root = getRoot(self);\r\n\r\n        root.SDK.invoke(\"tabChanged\", selected);\r\n        selected.selected._invokeChangeEvent();\r\n      }\r\n    }),\r\n\r\n    deleteView: flow(function* (view, { autoselect = true } = {}) {\r\n      if (autoselect && self.selected === view) {\r\n        let newView;\r\n        if (self.selected.opener) {\r\n          newView = self.opener.referrer;\r\n        } else {\r\n          const index = self.views.indexOf(view);\r\n\r\n          newView = index === 0 ? self.views[index + 1] : self.views[index - 1];\r\n        }\r\n\r\n        yield self.setSelected(newView.key);\r\n      }\r\n\r\n      if (view.saved) {\r\n        yield getRoot(self).apiCall(\"deleteTab\", { tabID: view.id });\r\n      }\r\n\r\n      destroy(view);\r\n    }),\r\n\r\n    createSnapshot(viewSnapshot = {}) {\r\n      const isVirtual = !!viewSnapshot?.virtual;\r\n      const tabStorageKey = isVirtual && viewSnapshot.projectId ? `virtual-tab-${viewSnapshot.projectId}` : null;\r\n      const existingTabStorage = isVirtual && localStorage.getItem(tabStorageKey);\r\n      const existingTabStorageParsed = existingTabStorage ? JSON.parse(existingTabStorage) : null;\r\n      const urlTabIsVirtualCandidate = !!(viewSnapshot?.tab && isNaN(viewSnapshot.tab));\r\n      const existingTabUrlParsed =\r\n        isVirtual && urlTabIsVirtualCandidate ? self.snapshotFromUrl(viewSnapshot.tab) : null;\r\n      const urlTabNotEmpty = !isEmpty(existingTabUrlParsed);\r\n      const existingTab = urlTabNotEmpty ? existingTabUrlParsed : existingTabStorageParsed;\r\n      const existingTabKey = urlTabNotEmpty ? viewSnapshot.tab : existingTabStorageParsed?.tab;\r\n      const snapshot = {\r\n        ...viewSnapshot,\r\n        key: existingTabKey,\r\n        tab: existingTabKey,\r\n        ...(existingTab ?? viewSnapshot ?? {}),\r\n      };\r\n      const lastView = self.views[self.views.length - 1];\r\n      const newTitle = snapshot.title ?? `New Tab ${self.views.length + 1}`;\r\n      const newID = snapshot.id ?? (lastView?.id ? lastView.id + 1 : 0);\r\n\r\n      const defaultHiddenColumns = self.defaultHidden\r\n        ? clone(self.defaultHidden)\r\n        : {\r\n            explore: [],\r\n            labeling: [],\r\n          };\r\n\r\n      return {\r\n        ...snapshot,\r\n        id: newID,\r\n        title: newTitle,\r\n        key: snapshot.key ?? guidGenerator(),\r\n        hiddenColumns: snapshot.hiddenColumns ?? defaultHiddenColumns,\r\n      };\r\n    },\r\n\r\n    addView: flow(function* (viewSnapshot = {}, options) {\r\n      const { autoselect = true, autosave = true, reload = true } = options ?? {};\r\n\r\n      const newSnapshot = self.createSnapshot(viewSnapshot);\r\n\r\n      self.views.push(newSnapshot);\r\n      const newView = self.views[self.views.length - 1];\r\n\r\n      if (autosave) {\r\n        // with autosave it will be reloaded anyway\r\n        yield newView.save({ reload: !autosave && reload });\r\n      }\r\n\r\n      if (autoselect) {\r\n        const selectedView = self.views[self.views.length - 1];\r\n\r\n        self.setSelected(selectedView);\r\n      }\r\n\r\n      return newView;\r\n    }),\r\n\r\n    getViewByKey: flow(function* (key) {\r\n      const view = self.views.find((v) => v.key === key);\r\n\r\n      if (view) return view;\r\n      const viewSnapshot = self.snapshotFromUrl(key);\r\n\r\n      if (!viewSnapshot) return null;\r\n\r\n      return yield self.addVirtualView(viewSnapshot);\r\n    }),\r\n\r\n    addVirtualView: flow(function* (viewSnapshot) {\r\n      return yield self.addView(viewSnapshot, {\r\n        autosave: false,\r\n        // No need to select 'cause it's a selecting phase\r\n        autoselect: false,\r\n      });\r\n    }),\r\n\r\n    createDefaultView: flow(function* () {\r\n      self.views.push({\r\n        id: 0,\r\n        title: \"Default\",\r\n        hiddenColumns: self.defaultHidden,\r\n      });\r\n\r\n      let defaultView = self.views[self.views.length - 1];\r\n\r\n      yield defaultView.save(defaultView);\r\n\r\n      // at this point newly created tab does not exist\r\n      // so we need to take in from the list once again\r\n      defaultView = self.views[self.views.length - 1];\r\n      self.selected = defaultView;\r\n      getRoot(self).SDK.hasInterface(\"tabs\") && defaultView.reload();\r\n    }),\r\n\r\n    snapshotFromUrl(viewQueryParam) {\r\n      try {\r\n        const viewSnapshot = deserializeJsonFromUrl(viewQueryParam);\r\n\r\n        viewSnapshot.key = viewQueryParam;\r\n        viewSnapshot.virtual = true;\r\n        return viewSnapshot;\r\n      } catch {\r\n        return null;\r\n      }\r\n    },\r\n\r\n    snapshotToUrl(snapshot) {\r\n      return serializeJsonForUrl(snapshot);\r\n    },\r\n\r\n    saveView: flow(function* (view, { reload, interaction } = {}) {\r\n      const needsLock = [\"ordering\", \"filter\"].includes(interaction);\r\n\r\n      if (needsLock) view.lock();\r\n      const { id: tabID } = view;\r\n      const body = { body: view.snapshot };\r\n      const params = { tabID };\r\n\r\n      if (interaction !== undefined) Object.assign(params, { interaction });\r\n\r\n      const root = getRoot(self);\r\n      const apiMethod = !view.saved && root.apiVersion === 2 ? \"createTab\" : \"updateTab\";\r\n\r\n      const result = yield root.apiCall(apiMethod, params, body, { allowToCancel: root.SDK.type === \"DE\" });\r\n\r\n      if (result.isCanceled) {\r\n        return view;\r\n      }\r\n      const viewSnapshot = getSnapshot(view);\r\n      const newViewSnapshot = {\r\n        ...viewSnapshot,\r\n        ...result,\r\n        saved: true,\r\n        virtual: false,\r\n        filters: viewSnapshot.filters,\r\n        conjunction: viewSnapshot.conjunction,\r\n      };\r\n\r\n      if (result.id !== view.id) {\r\n        self.views.push({ ...newViewSnapshot, saved: true, virtual: false });\r\n        const newView = self.views[self.views.length - 1];\r\n\r\n        root.SDK.hasInterface(\"tabs\") && newView.reload();\r\n        self.setSelected(newView);\r\n        destroy(view);\r\n\r\n        return newView;\r\n      }\r\n      applySnapshot(view, newViewSnapshot);\r\n\r\n      if (reload !== false) {\r\n        view.reload({ interaction });\r\n      }\r\n\r\n      view.unlock();\r\n      return view;\r\n    }),\r\n\r\n    updateViewOrder: flow(function* (source, destination) {\r\n      // Detach the view from the original position\r\n      const [removed] = self.views.splice(source, 1);\r\n      const sn = getSnapshot(removed);\r\n\r\n      // Insert the view at the new position\r\n      self.views.splice(destination, 0, sn);\r\n\r\n      const idList = {\r\n        project: getRoot(self).project.id,\r\n        ids: self.views.map((obj) => {\r\n          return obj.id;\r\n        }),\r\n      };\r\n\r\n      getRoot(self).apiCall(\"orderTab\", {}, { body: idList }, { alwaysExpectJSON: false });\r\n    }),\r\n    duplicateView: flow(function* (view) {\r\n      const sn = getSnapshot(view);\r\n\r\n      self.views.push({\r\n        ...sn,\r\n        id: Number.MAX_SAFE_INTEGER,\r\n        saved: false,\r\n        key: guidGenerator(),\r\n        title: createNameCopy(sn.title),\r\n      });\r\n\r\n      const newView = self.views[self.views.length - 1];\r\n\r\n      yield newView.save();\r\n      self.selected = self.views[self.views.length - 1];\r\n      self.selected.reload();\r\n    }),\r\n\r\n    createView(viewSnapshot) {\r\n      return Tab.create(viewSnapshot ?? {});\r\n    },\r\n\r\n    expandFilters() {\r\n      self.sidebarEnabled = storeValue(\"sidebarEnabled\", true);\r\n      self.sidebarVisible = storeValue(\"sidebarVisible\", true);\r\n    },\r\n\r\n    collapseFilters() {\r\n      self.sidebarEnabled = storeValue(\"sidebarEnabled\", false);\r\n      self.sidebarVisible = storeValue(\"sidebarVisible\", false);\r\n    },\r\n\r\n    toggleSidebar() {\r\n      self.sidebarVisible = storeValue(\"sidebarVisible\", !self.sidebarVisible);\r\n    },\r\n\r\n    fetchColumns() {\r\n      const columns = self.columnsRaw;\r\n      const targets = unique(columns.map((c) => c.target));\r\n      const hiddenColumns = {};\r\n      const addedColumns = new Set();\r\n\r\n      // Clear availableFilters to rebuild it fresh\r\n      self.availableFilters.clear();\r\n\r\n      const createColumnPath = (columns, column) => {\r\n        const result = [];\r\n\r\n        if (column && column.parent) {\r\n          const parentColums = columns.find((c) => {\r\n            return !c.parent && c.id === column.parent && c.target === column.target;\r\n          });\r\n\r\n          result.push(createColumnPath(columns, parentColums).columnPath);\r\n        }\r\n\r\n        const parentPath = result.join(\".\");\r\n\r\n        if (isDefined(column?.id)) {\r\n          result.push(column.id);\r\n        } else {\r\n          console.warn(\"Column or id is not defined\", column);\r\n          console.warn(\"Columns\", columns);\r\n        }\r\n\r\n        const columnPath = result.join(\".\");\r\n\r\n        return { parentPath, columnPath };\r\n      };\r\n\r\n      targets.forEach((target) => {\r\n        self.columnsTargetMap.set(target, []);\r\n      });\r\n\r\n      columns.forEach((col) => {\r\n        if (!isDefined(col)) return;\r\n        const { columnPath, parentPath } = createColumnPath(columns, col);\r\n\r\n        const { target, visibility_defaults: visibility } = col;\r\n\r\n        const columnID = `${target}:${columnPath}`;\r\n\r\n        if (addedColumns.has(columnID)) return;\r\n\r\n        const parent = parentPath ? `${target}:${parentPath}` : undefined;\r\n\r\n        const children = col.children ? col.children.map((ch) => `${target}:${columnPath}.${ch}`) : undefined;\r\n\r\n        const colsList = self.columnsTargetMap.get(col.target);\r\n\r\n        colsList.push({\r\n          ...col,\r\n          id: columnID,\r\n          alias: col.id,\r\n          parent,\r\n          children,\r\n        });\r\n\r\n        const column = colsList[colsList.length - 1];\r\n\r\n        addedColumns.add(column.id);\r\n\r\n        if (!col.children && column.filterable && (col?.visibility_defaults?.filter ?? true)) {\r\n          self.availableFilters.push({\r\n            id: `filter:${columnID}`,\r\n            type: col.type,\r\n            field: columnID,\r\n            schema: col.schema ?? null,\r\n          });\r\n        }\r\n\r\n        Object.entries(visibility ?? {}).forEach(([key, visible]) => {\r\n          if (!visible) {\r\n            hiddenColumns[key] = hiddenColumns[key] ?? [];\r\n            hiddenColumns[key].push(column.id);\r\n          }\r\n        });\r\n      });\r\n\r\n      self.defaultHidden = TabHiddenColumns.create(hiddenColumns);\r\n    },\r\n\r\n    fetchTabs: flow(function* (tab, taskID, labeling) {\r\n      const tabId = Number.parseInt(tab);\r\n      const response = yield getRoot(self).apiCall(\"tabs\");\r\n      const tabs = response.tabs ?? response ?? [];\r\n\r\n      const snapshots = tabs.map((t) => {\r\n        const { data, ...tab } = dataCleanup(t, self.columns ?? []);\r\n\r\n        return {\r\n          ...tab,\r\n          ...(data ?? {}),\r\n          saved: true,\r\n          hasData: !!data,\r\n        };\r\n      });\r\n\r\n      self.views.push(...snapshots);\r\n\r\n      yield self.setSelected(Number.isNaN(tabId) ? tab : tabId, {\r\n        pushState: tab === undefined,\r\n      });\r\n\r\n      yield self.selected?.save();\r\n\r\n      if (labeling) {\r\n        getRoot(self).startLabelStream({\r\n          pushState: false,\r\n        });\r\n      } else if (isDefined(taskID)) {\r\n        const task = { id: Number.parseInt(taskID) };\r\n\r\n        getRoot(self).startLabeling(task, {\r\n          pushState: false,\r\n        });\r\n      }\r\n    }),\r\n\r\n    fetchSingleTab: flow(function* (tabKey, selectedItems) {\r\n      let tab;\r\n      const tabId = Number.parseInt(tabKey);\r\n\r\n      if (!isNaN(tabKey) && !isNaN(tabId)) {\r\n        const tabData = yield getRoot(self).apiCall(\"tab\", { tabId });\r\n        const { data, ...tabClean } = dataCleanup(tabData, self.columns ?? []);\r\n\r\n        self.views.push({\r\n          ...tabClean,\r\n          ...(data ?? {}),\r\n          selected: {\r\n            all: selectedItems?.all,\r\n            list: selectedItems.included ?? selectedItems.excluded ?? [],\r\n          },\r\n          saved: true,\r\n          hasData: !!data,\r\n        });\r\n        tab = self.views[self.views.length - 1];\r\n      } else {\r\n        const viewSnapshot = {\r\n          key: tabKey,\r\n          virtual: true,\r\n          title: tabKey,\r\n          selected: {\r\n            all: selectedItems?.all,\r\n            list: selectedItems?.included ?? selectedItems?.excluded ?? [],\r\n          },\r\n        };\r\n        tab = yield self.addVirtualView(viewSnapshot);\r\n      }\r\n\r\n      self.selected = tab;\r\n    }),\r\n  }));\r\n","export class ActivityObserver {\r\n  active = window.navigator.onLine && !document.hidden;\r\n\r\n  constructor() {\r\n    window.addEventListener(\"online\", this.handler);\r\n    window.addEventListener(\"offline\", this.handler);\r\n    document.addEventListener(\"visibilitychange\", this.handler);\r\n  }\r\n\r\n  destroy() {\r\n    window.removeEventListener(\"online\", this.handler);\r\n    window.removeEventListener(\"offline\", this.handler);\r\n    document.removeEventListener(\"visibilitychange\", this.handler);\r\n  }\r\n\r\n  private handler = () => {\r\n    this.active = window.navigator.onLine && !document.hidden;\r\n  };\r\n}\r\n","import { destroy, flow, types } from \"mobx-state-tree\";\r\nimport { Modal } from \"../components/Common/Modal/Modal\";\r\nimport { FF_DEV_2887, FF_DISABLE_GLOBAL_USER_FETCHING, FF_LOPS_E_3, isFF } from \"../utils/feature-flags\";\r\nimport { History } from \"../utils/history\";\r\nimport { isDefined } from \"../utils/utils\";\r\nimport { Action } from \"./Action\";\r\nimport * as DataStores from \"./DataStores\";\r\nimport { registerModel } from \"./DynamicModel\";\r\nimport { TabStore } from \"./Tabs\";\r\nimport { CustomJSON } from \"./types\";\r\nimport { User } from \"./Users\";\r\nimport { ActivityObserver } from \"../utils/ActivityObserver\";\r\n\r\n/**\r\n * @type {ActivityObserver | null}\r\n */\r\nlet networkActivity = null;\r\n\r\nconst PROJECTS_FETCH_PERIOD = 20 * 1000; // interaction timer for 20 sec fetch period for project api\r\n\r\nexport const AppStore = types\r\n  .model(\"AppStore\", {\r\n    mode: types.optional(types.enumeration([\"explorer\", \"labelstream\", \"labeling\"]), \"explorer\"),\r\n\r\n    viewsStore: types.optional(TabStore, {\r\n      views: [],\r\n    }),\r\n\r\n    project: types.optional(CustomJSON, {}),\r\n\r\n    loading: types.optional(types.boolean, false),\r\n\r\n    loadingData: false,\r\n\r\n    users: types.optional(types.array(User), []),\r\n\r\n    availableActions: types.optional(types.array(Action), []),\r\n\r\n    serverError: types.map(CustomJSON),\r\n\r\n    crashed: false,\r\n\r\n    interfaces: types.map(types.boolean),\r\n\r\n    toolbar: types.string,\r\n  })\r\n  .views((self) => ({\r\n    /** @returns {import(\"../sdk/dm-sdk\").DataManager} */\r\n    get SDK() {\r\n      return self._sdk;\r\n    },\r\n\r\n    /** @returns {import(\"../sdk/lsf-sdk\").LSFWrapper} */\r\n    get LSF() {\r\n      return self.SDK.lsf;\r\n    },\r\n\r\n    /** @returns {import(\"../utils/api-proxy\").APIProxy} */\r\n    get API() {\r\n      return self.SDK.api;\r\n    },\r\n\r\n    get apiVersion() {\r\n      return self.SDK.apiVersion;\r\n    },\r\n\r\n    get isLabeling() {\r\n      return !!self.dataStore?.selected || self.isLabelStreamMode || self.mode === \"labeling\";\r\n    },\r\n\r\n    get isLabelStreamMode() {\r\n      return self.mode === \"labelstream\";\r\n    },\r\n\r\n    get isExplorerMode() {\r\n      return self.mode === \"explorer\" || self.mode === \"labeling\";\r\n    },\r\n\r\n    get currentView() {\r\n      return self.viewsStore.selected;\r\n    },\r\n\r\n    get dataStore() {\r\n      switch (self.target) {\r\n        case \"tasks\":\r\n          return self.taskStore;\r\n        case \"annotations\":\r\n          return self.annotationStore;\r\n        default:\r\n          return null;\r\n      }\r\n    },\r\n\r\n    get target() {\r\n      return self.viewsStore.selected?.target ?? \"tasks\";\r\n    },\r\n\r\n    get labelingIsConfigured() {\r\n      return self.project?.config_has_control_tags === true;\r\n    },\r\n\r\n    get labelingConfig() {\r\n      return self.project.label_config_line ?? self.project.label_config;\r\n    },\r\n\r\n    get showPreviews() {\r\n      return self.SDK.showPreviews;\r\n    },\r\n\r\n    get currentSelection() {\r\n      return self.currentView.selected.snapshot;\r\n    },\r\n\r\n    get currentFilter() {\r\n      return self.currentView.filterSnapshot;\r\n    },\r\n\r\n    get usersMap() {\r\n      return new Map(self.users.map((user) => [user.id, user]));\r\n    },\r\n  }))\r\n  .volatile(() => ({\r\n    needsDataFetch: false,\r\n    projectFetch: false,\r\n    requestsInFlight: new Map(),\r\n  }))\r\n  .actions((self) => ({\r\n    startPolling() {\r\n      if (self._poll) return;\r\n      if (self.SDK.polling === false) return;\r\n\r\n      const poll = async (self) => {\r\n        if (networkActivity.active) await self.fetchProject({ interaction: \"timer\" });\r\n        self._poll = setTimeout(() => poll(self), PROJECTS_FETCH_PERIOD);\r\n      };\r\n\r\n      poll(self);\r\n    },\r\n\r\n    afterCreate() {\r\n      networkActivity?.destroy();\r\n      networkActivity = new ActivityObserver();\r\n    },\r\n\r\n    beforeDestroy() {\r\n      clearTimeout(self._poll);\r\n      window.removeEventListener(\"popstate\", self.handlePopState);\r\n      networkActivity.destroy();\r\n    },\r\n\r\n    setMode(mode) {\r\n      self.mode = mode;\r\n    },\r\n\r\n    setActions(actions) {\r\n      if (!Array.isArray(actions)) throw new Error(\"Actions must be an array\");\r\n      self.availableActions = actions;\r\n    },\r\n\r\n    removeAction(id) {\r\n      const action = self.availableActions.find((action) => action.id === id);\r\n\r\n      if (action) destroy(action);\r\n    },\r\n\r\n    interfaceEnabled(name) {\r\n      return self.interfaces.get(name) === true;\r\n    },\r\n\r\n    enableInterface(name) {\r\n      if (!self.interfaces.has(name)) {\r\n        console.warn(`Unknown interface ${name}`);\r\n      } else {\r\n        self.interfaces.set(name, true);\r\n      }\r\n    },\r\n\r\n    disableInterface(name) {\r\n      if (!self.interfaces.has(name)) {\r\n        console.warn(`Unknown interface ${name}`);\r\n      } else {\r\n        self.interfaces.set(name, false);\r\n      }\r\n    },\r\n\r\n    setToolbar(toolbarString) {\r\n      self.toolbar = toolbarString;\r\n    },\r\n\r\n    setTask: flow(function* ({ taskID, annotationID, pushState }) {\r\n      if (pushState !== false) {\r\n        History.navigate({\r\n          task: taskID,\r\n          annotation: annotationID ?? null,\r\n          interaction: null,\r\n          region: null,\r\n        });\r\n      } else {\r\n        const { task, region, annotation } = History.getParams();\r\n        History.navigate(\r\n          {\r\n            task,\r\n            region,\r\n            annotation,\r\n          },\r\n          true,\r\n        );\r\n      }\r\n\r\n      if (!isDefined(taskID)) return;\r\n\r\n      self.setLoadingData(true);\r\n\r\n      if (self.mode === \"labelstream\") {\r\n        yield self.taskStore.loadNextTask({\r\n          select: !!taskID && !!annotationID,\r\n        });\r\n      }\r\n\r\n      if (annotationID !== undefined) {\r\n        self.annotationStore.setSelected(annotationID);\r\n      } else {\r\n        self.taskStore.setSelected(taskID);\r\n      }\r\n\r\n      const taskPromise = self.taskStore.loadTask(taskID, {\r\n        select: !!taskID && !!annotationID,\r\n      });\r\n\r\n      // wait for the task to be loaded and LSF to be initialized\r\n      yield taskPromise.then(async () => {\r\n        // wait for self.LSF to be initialized with currentAnnotation\r\n        let maxWait = 1000;\r\n        while (!self.LSF?.currentAnnotation && maxWait > 0) {\r\n          await new Promise((resolve) => setTimeout(resolve, 1));\r\n          maxWait -= 1;\r\n        }\r\n\r\n        if (self.LSF) {\r\n          const annotation = self.LSF?.currentAnnotation;\r\n          const id = annotation?.pk ?? annotation?.id;\r\n\r\n          self.LSF?.setLSFTask(self.taskStore.selected, id);\r\n\r\n          const { annotation: annIDFromUrl, region: regionIDFromUrl } = History.getParams();\r\n          const annotationStore = self.LSF?.lsf?.annotationStore;\r\n\r\n          if (annIDFromUrl && annotationStore) {\r\n            const lsfAnnotation = [...annotationStore.annotations, ...annotationStore.predictions].find((a) => {\r\n              return a.pk === annIDFromUrl || a.id === annIDFromUrl;\r\n            });\r\n\r\n            if (lsfAnnotation) {\r\n              const annID = lsfAnnotation.pk ?? lsfAnnotation.id;\r\n              self.LSF?.setLSFTask(self.taskStore.selected, annID, undefined, lsfAnnotation.type === \"prediction\");\r\n            }\r\n          }\r\n          if (regionIDFromUrl) {\r\n            const currentAnn = self.LSF?.currentAnnotation;\r\n            // Focus on the region by hiding all other regions\r\n            currentAnn?.regionStore?.setRegionVisible(regionIDFromUrl);\r\n            // Select the region so outliner details are visible\r\n            currentAnn?.regionStore?.selectRegionByID(regionIDFromUrl);\r\n          }\r\n        } else {\r\n          console.error(\"LSF not initialized properly\");\r\n        }\r\n\r\n        self.setLoadingData(false);\r\n      });\r\n    }),\r\n\r\n    setLoadingData(value) {\r\n      self.loadingData = value;\r\n    },\r\n\r\n    unsetTask(options) {\r\n      try {\r\n        self.annotationStore.unset();\r\n        self.taskStore.unset();\r\n      } catch (_e) {\r\n        /* Something weird */\r\n      }\r\n\r\n      if (options?.pushState !== false) {\r\n        History.navigate({ task: null, annotation: null });\r\n      }\r\n    },\r\n\r\n    unsetSelection() {\r\n      self.annotationStore.unset({ withHightlight: true });\r\n      self.taskStore.unset({ withHightlight: true });\r\n    },\r\n\r\n    createDataStores() {\r\n      const grouppedColumns = self.viewsStore.columns.reduce((res, column) => {\r\n        res.set(column.target, res.get(column.target) ?? []);\r\n        res.get(column.target).push(column);\r\n        return res;\r\n      }, new Map());\r\n\r\n      grouppedColumns.forEach((columns, target) => {\r\n        const dataStore = DataStores[target].create?.(columns);\r\n\r\n        if (dataStore) registerModel(`${target}Store`, dataStore);\r\n      });\r\n    },\r\n\r\n    startLabelStream(options = {}) {\r\n      if (!self.confirmLabelingConfigured()) return;\r\n\r\n      const nextAction = () => {\r\n        self.SDK.setMode(\"labelstream\");\r\n\r\n        if (options?.pushState !== false) {\r\n          History.navigate({ labeling: 1 });\r\n        }\r\n      };\r\n\r\n      if (isFF(FF_DEV_2887) && self.LSF?.lsf?.annotationStore?.selected?.commentStore?.hasUnsaved) {\r\n        Modal.confirm({\r\n          title: \"You have unsaved changes\",\r\n          body: \"There are comments which are not persisted. Please submit the annotation. Continuing will discard these comments.\",\r\n          onOk() {\r\n            nextAction();\r\n          },\r\n          okText: \"Discard and continue\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      nextAction();\r\n    },\r\n\r\n    startLabeling(item, options = {}) {\r\n      if (!self.confirmLabelingConfigured()) return;\r\n\r\n      if (self.dataStore.loadingItem) return;\r\n\r\n      const nextAction = () => {\r\n        self.SDK.setMode(\"labeling\");\r\n\r\n        if (item?.id && !item.isSelected) {\r\n          const labelingParams = {\r\n            pushState: options?.pushState,\r\n          };\r\n\r\n          if (isDefined(item.task_id)) {\r\n            Object.assign(labelingParams, {\r\n              annotationID: item.id,\r\n              taskID: item.task_id,\r\n            });\r\n          } else {\r\n            Object.assign(labelingParams, {\r\n              taskID: item.id,\r\n            });\r\n          }\r\n\r\n          self.setTask(labelingParams);\r\n        } else {\r\n          self.closeLabeling();\r\n        }\r\n      };\r\n\r\n      if (isFF(FF_DEV_2887) && self.LSF?.lsf?.annotationStore?.selected?.commentStore?.hasUnsaved) {\r\n        Modal.confirm({\r\n          title: \"You have unsaved changes\",\r\n          body: \"There are comments which are not persisted. Please submit the annotation. Continuing will discard these comments.\",\r\n          onOk() {\r\n            nextAction();\r\n          },\r\n          okText: \"Discard and continue\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      nextAction();\r\n    },\r\n\r\n    confirmLabelingConfigured() {\r\n      if (!self.labelingIsConfigured) {\r\n        Modal.confirm({\r\n          title: \"You're almost there!\",\r\n          body: \"Before you can annotate the data, set up labeling configuration\",\r\n          onOk() {\r\n            self.SDK.invoke(\"settingsClicked\");\r\n          },\r\n          okText: \"Go to setup\",\r\n        });\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    closeLabeling(options) {\r\n      const { SDK } = self;\r\n\r\n      self.unsetTask(options);\r\n\r\n      let viewId;\r\n      const tabFromURL = History.getParams().tab;\r\n\r\n      if (isDefined(self.currentView)) {\r\n        viewId = self.currentView.tabKey;\r\n      } else if (isDefined(tabFromURL)) {\r\n        viewId = tabFromURL;\r\n      } else if (isDefined(self.viewsStore)) {\r\n        viewId = self.viewsStore.views[0]?.tabKey;\r\n      }\r\n\r\n      if (isDefined(viewId)) {\r\n        History.forceNavigate({ tab: viewId });\r\n      }\r\n\r\n      SDK.setMode(\"explorer\");\r\n      SDK.destroyLSF();\r\n    },\r\n\r\n    handlePopState: (({ state }) => {\r\n      const { tab, task, annotation, labeling, region } = state ?? {};\r\n\r\n      if (tab) {\r\n        const tabId = Number.parseInt(tab);\r\n\r\n        self.viewsStore.setSelected(Number.isNaN(tabId) ? tab : tabId, {\r\n          pushState: false,\r\n          createDefault: false,\r\n        });\r\n      }\r\n\r\n      if (task) {\r\n        const params = {};\r\n\r\n        if (annotation) {\r\n          params.task_id = Number.parseInt(task);\r\n          params.id = Number.parseInt(annotation);\r\n        } else {\r\n          params.id = Number.parseInt(task);\r\n        }\r\n        if (region) {\r\n          params.region = region;\r\n        } else {\r\n          delete params.region;\r\n        }\r\n\r\n        self.startLabeling(params, { pushState: false });\r\n      } else if (labeling) {\r\n        self.startLabelStream({ pushState: false });\r\n      } else {\r\n        self.closeLabeling({ pushState: false });\r\n      }\r\n    }).bind(self),\r\n\r\n    resolveURLParams() {\r\n      window.addEventListener(\"popstate\", self.handlePopState);\r\n    },\r\n\r\n    setLoading(value) {\r\n      self.loading = value;\r\n    },\r\n\r\n    fetchProject: flow(function* (options = {}) {\r\n      self.projectFetch = options.force === true;\r\n\r\n      const isTimer = options.interaction === \"timer\";\r\n      const params =\r\n        options && options.interaction\r\n          ? {\r\n              interaction: options.interaction,\r\n              ...(isTimer\r\n                ? {\r\n                    include: [\r\n                      \"task_count\",\r\n                      \"task_number\",\r\n                      \"annotation_count\",\r\n                      \"num_tasks_with_annotations\",\r\n                      \"queue_total\",\r\n                    ].join(\",\"),\r\n                  }\r\n                : null),\r\n            }\r\n          : null;\r\n\r\n      try {\r\n        const newProject = yield self.apiCall(\"project\", params);\r\n        const hasExistingProjectData = Object.entries(self.project ?? {}).length > 0;\r\n        const hasNewProjectData = Object.entries(newProject ?? {}).length > 0;\r\n\r\n        self.needsDataFetch =\r\n          options.force !== true && hasExistingProjectData && hasNewProjectData\r\n            ? self.project.task_count !== newProject.task_count ||\r\n              self.project.task_number !== newProject.task_number ||\r\n              self.project.annotation_count !== newProject.annotation_count ||\r\n              self.project.num_tasks_with_annotations !== newProject.num_tasks_with_annotations\r\n            : false;\r\n\r\n        if (options.interaction === \"timer\") {\r\n          self.project = Object.assign(self.project ?? {}, newProject ?? {});\r\n        } else if (JSON.stringify(newProject ?? {}) !== JSON.stringify(self.project ?? {})) {\r\n          self.project = newProject;\r\n        }\r\n        if (isFF(FF_LOPS_E_3)) {\r\n          const itemType = self.SDK.type === \"DE\" ? \"dataset\" : \"project\";\r\n\r\n          self.SDK.invoke(`${itemType}Updated`, self.project);\r\n        }\r\n      } catch {\r\n        // When in timer (polling project counts) mode, we can still continue\r\n        // but we need to crash for non-polling interactions\r\n        // because we can't display the app without the project itself and will need to redirect\r\n        if (options.interaction !== \"timer\") {\r\n          self.crash({\r\n            error: `Project ID: ${self.SDK.projectId} does not exist or is no longer available`,\r\n            redirect: true,\r\n          });\r\n        }\r\n        return false;\r\n      }\r\n      self.projectFetch = false;\r\n      return true;\r\n    }),\r\n\r\n    /**\r\n     * @deprecated Use the useActions hook instead for better caching and performance\r\n     * This method is kept for backward compatibility but is no longer actively used\r\n     */\r\n    fetchActions: flow(function* () {\r\n      try {\r\n        const serverActions = yield self.apiCall(\"actions\");\r\n\r\n        const actions = (serverActions ?? []).map((action) => {\r\n          return [action, undefined];\r\n        });\r\n\r\n        self.SDK.updateActions(actions);\r\n      } catch (error) {\r\n        console.error(\"Error fetching actions:\", error);\r\n      }\r\n    }),\r\n\r\n    fetchActionForm: flow(function* (actionId) {\r\n      const form = yield self.apiCall(\"actionForm\", { actionId });\r\n      return form;\r\n    }),\r\n\r\n    fetchUsers: flow(function* () {\r\n      const list = yield self.apiCall(\"users\", {\r\n        __useQueryCache: {\r\n          prefixKey: \"organizationMembers\",\r\n          staleTime: 60 * 1000,\r\n        },\r\n      });\r\n\r\n      self.users.push(...list);\r\n    }),\r\n\r\n    fetchData: flow(function* ({ isLabelStream } = {}) {\r\n      self.setLoading(true);\r\n\r\n      const { tab, task, labeling, query } = History.getParams();\r\n\r\n      self.viewsStore.fetchColumns();\r\n\r\n      const requests = [self.fetchProject()];\r\n\r\n      // Only fetch all users if not disabled globally\r\n      if (!isFF(FF_DISABLE_GLOBAL_USER_FETCHING)) {\r\n        requests.push(self.fetchUsers());\r\n      }\r\n\r\n      if (!isLabelStream || (self.project?.show_annotation_history && task)) {\r\n        if (self.SDK.settings?.onlyVirtualTabs && self.project?.show_annotation_history && !task) {\r\n          requests.push(\r\n            self.viewsStore.addView(\r\n              {\r\n                virtual: true,\r\n                projectId: self.SDK.projectId,\r\n                tab,\r\n              },\r\n              { autosave: false, reload: false },\r\n            ),\r\n          );\r\n        } else if (self.SDK.type === \"labelops\") {\r\n          requests.push(\r\n            self.viewsStore.addView(\r\n              {\r\n                virtual: false,\r\n                projectId: self.SDK.projectId,\r\n                tab,\r\n              },\r\n              { autosave: false, autoSelect: true, reload: true },\r\n            ),\r\n          );\r\n        } else {\r\n          requests.push(self.viewsStore.fetchTabs(tab, task, labeling));\r\n        }\r\n      } else if (isLabelStream && !!tab) {\r\n        const { selectedItems } = JSON.parse(decodeURIComponent(query ?? \"{}\"));\r\n\r\n        requests.push(self.viewsStore.fetchSingleTab(tab, selectedItems ?? {}));\r\n      }\r\n\r\n      const [projectFetched] = yield Promise.all(requests);\r\n\r\n      if (projectFetched) {\r\n        self.resolveURLParams();\r\n\r\n        self.setLoading(false);\r\n\r\n        self.startPolling();\r\n      }\r\n    }),\r\n\r\n    /**\r\n     * Main API calls provider for the whole application.\r\n     * `params` are used both for var substitution and query params if var is unknown:\r\n     * `{ project: 123, order: \"desc\" }` for method `\"tasks\": \"/project/:pk/tasks\"`\r\n     * will produce `/project/123/tasks?order=desc` url\r\n     * @param {string} methodName one of the methods in api-config\r\n     * @param {object} params url vars and query string params\r\n     * @param {object} body for POST/PATCH requests\r\n     * @param {{ errorHandler?: fn, headers?: object, allowToCancel?: boolean }} [options] additional options like errorHandler\r\n     */\r\n    apiCall: flow(function* (methodName, params, body, options) {\r\n      const isAllowCancel = options?.allowToCancel;\r\n      const controller = new AbortController();\r\n      const signal = controller.signal;\r\n      const apiTransform = self.SDK.apiTransform?.[methodName];\r\n      const requestParams = apiTransform?.params?.(params) ?? params ?? {};\r\n      const requestBody = apiTransform?.body?.(body) ?? body ?? {};\r\n      const requestHeaders = apiTransform?.headers?.(options?.headers) ?? options?.headers ?? {};\r\n      const requestKey = `${methodName}_${JSON.stringify(params || {})}`;\r\n\r\n      if (isAllowCancel) {\r\n        requestHeaders.signal = signal;\r\n        if (self.requestsInFlight.has(requestKey)) {\r\n          /* if already in flight cancel the first in favor of new one */\r\n          self.requestsInFlight.get(requestKey).abort();\r\n          console.log(`Request ${requestKey} canceled`);\r\n        }\r\n        self.requestsInFlight.set(requestKey, controller);\r\n      }\r\n      const result = yield self.API[methodName](requestParams, {\r\n        headers: requestHeaders,\r\n        body: requestBody.body ?? requestBody,\r\n        options,\r\n      });\r\n\r\n      if (isAllowCancel) {\r\n        result.isCanceled = signal.aborted;\r\n        self.requestsInFlight.delete(requestKey);\r\n      }\r\n      // We don't want to show errors when loading data in polling mode\r\n      // we will just allow it to try again later\r\n      if (result.error && result.status !== 404 && !signal.aborted && params.interaction !== \"timer\") {\r\n        if (options?.errorHandler?.(result)) {\r\n          return result;\r\n        }\r\n\r\n        if (result.response) {\r\n          try {\r\n            self.serverError.set(methodName, {\r\n              error: \"Something went wrong\",\r\n              response: result.response,\r\n            });\r\n          } catch {\r\n            // ignore\r\n          }\r\n        }\r\n\r\n        console.warn({\r\n          message: \"Error occurred when loading data\",\r\n          description: result?.response?.detail ?? result.error,\r\n        });\r\n\r\n        self.SDK.invoke(\"error\", result);\r\n\r\n        // notification.error({\r\n        //   message: \"Error occurred when loading data\",\r\n        //   description: result?.response?.detail ?? result.error,\r\n        // });\r\n      } else {\r\n        try {\r\n          self.serverError.delete(methodName);\r\n        } catch {\r\n          // ignore\r\n        }\r\n      }\r\n\r\n      return result;\r\n    }),\r\n\r\n    invokeAction: flow(function* (actionId, options = {}) {\r\n      const view = self.currentView ?? {};\r\n      const viewReloaded = view;\r\n      let projectFetched = self.project;\r\n\r\n      const needsLock = self.availableActions.findIndex((a) => a.id === actionId) >= 0;\r\n\r\n      const { selected } = view;\r\n      const actionCallback = self.SDK.getAction(actionId);\r\n\r\n      if (view && needsLock && !actionCallback) view.lock();\r\n\r\n      const labelStreamMode = localStorage.getItem(\"dm:labelstream:mode\");\r\n\r\n      // @todo this is dirty way to sync across nested apps\r\n      // don't apply filters for \"all\" on \"next_task\"\r\n      const actionParams = {\r\n        ordering: view.ordering,\r\n        selectedItems: selected?.snapshot ?? { all: false, included: [] },\r\n        filters: {\r\n          conjunction: view.conjunction ?? \"and\",\r\n          items: view.serializedFilters ?? [],\r\n        },\r\n      };\r\n\r\n      if (actionId === \"next_task\") {\r\n        const isSelectAll = actionParams.selectedItems.all === true;\r\n        const isAllLabelStreamMode = labelStreamMode === \"all\";\r\n        const isFilteredLabelStreamMode = labelStreamMode === \"filtered\";\r\n        if (isAllLabelStreamMode && !isSelectAll) {\r\n          delete actionParams.filters;\r\n\r\n          if (actionParams.selectedItems.all === false && actionParams.selectedItems.included.length === 0) {\r\n            delete actionParams.selectedItems;\r\n            delete actionParams.ordering;\r\n          }\r\n        } else if (isFilteredLabelStreamMode) {\r\n          delete actionParams.selectedItems;\r\n        }\r\n      }\r\n\r\n      if (actionCallback instanceof Function) {\r\n        const result = actionCallback(actionParams, view);\r\n        self.SDK.invoke(\"actionDialogOkComplete\", actionId, {\r\n          result,\r\n          view: viewReloaded,\r\n          project: projectFetched,\r\n        });\r\n        return result;\r\n      }\r\n\r\n      const requestParams = {\r\n        id: actionId,\r\n      };\r\n\r\n      if (isDefined(view.id) && !view?.virtual) {\r\n        requestParams.tabID = view.id;\r\n      }\r\n\r\n      if (options.body) {\r\n        Object.assign(actionParams, options.body);\r\n      }\r\n\r\n      const result = yield self.apiCall(\"invokeAction\", requestParams, {\r\n        body: actionParams,\r\n      });\r\n\r\n      if (result.async) {\r\n        self.SDK.invoke(\"toast\", { message: \"Your action is being processed in the background.\", type: \"info\" });\r\n      }\r\n\r\n      if (result.reload) {\r\n        self.SDK.reload();\r\n        self.SDK.invoke(\"actionDialogOkComplete\", actionId, {\r\n          result,\r\n          view: viewReloaded,\r\n          project: projectFetched,\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (options.reload !== false) {\r\n        yield view.reload();\r\n        yield self.fetchProject();\r\n        projectFetched = self.project;\r\n        view.clearSelection();\r\n      }\r\n\r\n      view?.unlock?.();\r\n\r\n      self.SDK.invoke(\"actionDialogOkComplete\", actionId, {\r\n        result,\r\n        view: viewReloaded,\r\n        project: projectFetched,\r\n      });\r\n      return result;\r\n    }),\r\n\r\n    crash(options = {}) {\r\n      if (options.redirect !== true) {\r\n        self.destroy();\r\n        self.crashed = true;\r\n      }\r\n      self.SDK.invoke(\"crash\", options);\r\n    },\r\n\r\n    destroy() {\r\n      if (self.taskStore) {\r\n        self.taskStore?.clear();\r\n        self.taskStore = undefined;\r\n      }\r\n\r\n      if (self.annotationStore) {\r\n        self.annotationStore?.clear();\r\n        self.annotationStore = undefined;\r\n      }\r\n\r\n      clearTimeout(self._poll);\r\n    },\r\n  }));\r\n","import ReactDOM from \"react-dom\";\r\nimport { App } from \"../components/App/App\";\r\nimport { AppStore } from \"../stores/AppStore\";\r\nimport * as DataStores from \"../stores/DataStores\";\r\nimport { DynamicModel, registerModel } from \"../stores/DynamicModel\";\r\nimport { types } from \"mobx-state-tree\";\r\n\r\nconst createDynamicModels = (columns) => {\r\n  const grouppedColumns = columns.reduce((res, column) => {\r\n    res.set(column.target, res.get(column.target) ?? []);\r\n    res.get(column.target).push(column);\r\n    return res;\r\n  }, new Map());\r\n\r\n  grouppedColumns.forEach((columns, target) => {\r\n    const dataStore = DataStores[target].create?.(columns);\r\n\r\n    if (dataStore) registerModel(`${target}Store`, dataStore);\r\n  });\r\n\r\n  if (columns.length === 0) {\r\n    registerModel(\"tasksStore\", DataStores.tasks?.create());\r\n  }\r\n\r\n  /** temporary solution until we'll have annotations */\r\n  registerModel(\"annotationsStore\", DataStores.annotations?.create());\r\n};\r\n\r\n/**\r\n * Create DM React app\r\n * @param {HTMLElement} rootNode\r\n * @param {import(\"./dm-sdk\").DataManager} datamanager\r\n * @returns {Promise<AppStore>}\r\n */\r\nexport const createApp = async (rootNode, datamanager) => {\r\n  const isLabelStream = datamanager.mode === \"labelstream\";\r\n\r\n  const response = await datamanager.api.columns();\r\n\r\n  if (!response || response.error) {\r\n    const message = `\r\n      ${response?.error ?? \"\"}\r\n      LS API not available; check \\`API_GATEWAY\\` and \\`LS_ACCESS_TOKEN\\` env vars;\r\n      also check \\`data-project-id\\` in \\`public/index.html\\`\r\n    `;\r\n\r\n    throw new Error(message);\r\n  }\r\n\r\n  const columns = response.columns ?? (Array.isArray(response) ? response : []);\r\n\r\n  createDynamicModels(columns);\r\n\r\n  // types.late is resolved once in MST, although,\r\n  // we need it to be resolved each time DM is initialized\r\n  // so both taskStore and annotationStore moved here to dynamically\r\n  // initialized\r\n  //\r\n  // without it the columns set will be cached during navigation resulting\r\n  // in incorrect dynamic columns and mapping mismatch\r\n  const FinalStore = types.compose(\r\n    AppStore,\r\n    types.model(\"DataStore\", {\r\n      taskStore: types.optional(\r\n        types.late(() => DynamicModel.get(\"tasksStore\")),\r\n        {},\r\n      ),\r\n      annotationStore: types.optional(\r\n        types.late(() => DynamicModel.get(\"annotationsStore\")),\r\n        {},\r\n      ),\r\n    }),\r\n  );\r\n\r\n  const appStore = FinalStore.create({\r\n    viewsStore: {\r\n      views: [],\r\n      columnsRaw: columns,\r\n    },\r\n    project: datamanager.project ?? {},\r\n    mode: datamanager.mode,\r\n    showPreviews: datamanager.showPreviews,\r\n    interfaces: Object.fromEntries(datamanager.interfaces),\r\n    toolbar: datamanager.toolbar,\r\n    availableActions: Array.from(datamanager.actions.values()).map(({ action }) => action),\r\n  });\r\n\r\n  appStore._sdk = datamanager;\r\n\r\n  appStore.fetchData({ isLabelStream });\r\n\r\n  window.DM = appStore;\r\n\r\n  ReactDOM.render(<App app={appStore} />, rootNode);\r\n\r\n  return appStore;\r\n};\r\n","import { FF_DEV_3034, isFF } from \"../utils/feature-flags\";\r\n\r\nexport class CommentsSdk {\r\n  constructor(lsf, dm) {\r\n    this.lsf = lsf;\r\n    this.dm = dm;\r\n    this.bindEventHandlers();\r\n  }\r\n\r\n  bindEventHandlers() {\r\n    [\"comments:create\", \"comments:update\", \"comments:delete\", \"comments:list\"].forEach((evt) => this.lsf.off(evt));\r\n\r\n    this.lsf.on(\"comments:create\", this.createComment);\r\n    this.lsf.on(\"comments:update\", this.updateComment);\r\n    this.lsf.on(\"comments:delete\", this.deleteComment);\r\n    this.lsf.on(\"comments:list\", this.listComments);\r\n  }\r\n\r\n  createComment = async (comment) => {\r\n    const body = {\r\n      is_resolved: comment.is_resolved,\r\n      text: comment.text,\r\n      region_ref: comment.region_ref,\r\n      classifications: comment.classifications,\r\n    };\r\n\r\n    if (comment.annotation) {\r\n      body.annotation = comment.annotation;\r\n    } else if (isFF(FF_DEV_3034) && comment.draft) {\r\n      body.draft = comment.draft;\r\n    }\r\n    const { $meta: _, ...newComment } = await this.dm.apiCall(\"createComment\", undefined, {\r\n      body,\r\n    });\r\n\r\n    return newComment;\r\n  };\r\n\r\n  updateComment = async (comment) => {\r\n    if (!comment.id || comment.id < 0) return; // Don't allow an update with an incorrect id\r\n\r\n    const res = await this.dm.apiCall(\"updateComment\", { id: comment.id }, { body: comment });\r\n\r\n    return res;\r\n  };\r\n\r\n  listComments = async (params) => {\r\n    const listParams = {\r\n      ordering: params.ordering || \"-id\",\r\n      expand_created_by: true,\r\n    };\r\n\r\n    if (params.annotation) {\r\n      listParams.annotation = params.annotation;\r\n    } else if (isFF(FF_DEV_3034) && params.draft) {\r\n      listParams.draft = params.draft;\r\n    } else {\r\n      return [];\r\n    }\r\n\r\n    const res = await this.dm.apiCall(\"listComments\", listParams);\r\n\r\n    // Ensure request is went through and res is an array\r\n    if (!res?.length) {\r\n      return [];\r\n    }\r\n\r\n    const commentUsers = [];\r\n    const comments = res.map((comment) => {\r\n      commentUsers.push(comment.created_by);\r\n      return { ...comment, created_by: comment.created_by.id };\r\n    });\r\n\r\n    if (commentUsers.length && this.lsf?.store?.enrichUsers) {\r\n      try {\r\n        this.lsf.store.enrichUsers(commentUsers);\r\n      } catch (error) {\r\n        console.warn(\"Failed to enrich comment users:\", error.message);\r\n        return [];\r\n      }\r\n    }\r\n\r\n    return comments;\r\n  };\r\n\r\n  deleteComment = async (comment) => {\r\n    if (!comment.id || comment.id < 0) return; // Don't allow an update with an incorrect id\r\n\r\n    const res = await this.dm.apiCall(\"deleteComment\", { id: comment.id }, { body: comment });\r\n\r\n    return res;\r\n  };\r\n}\r\n","import { Button } from \"@humansignal/ui\";\r\nimport {\r\n  FF_DEV_1752,\r\n  FF_DEV_2186,\r\n  FF_DEV_2887,\r\n  FF_DEV_3034,\r\n  FF_LSDV_4620_3_ML,\r\n  FF_FIT_1304_STRICT_OVERLAP,\r\n  isFF,\r\n} from \"../utils/feature-flags\";\r\nimport { isActive, FF_FIT_720_LAZY_LOAD_ANNOTATIONS } from \"@humansignal/core/lib/utils/feature-flags\";\r\nimport { isDefined } from \"../utils/utils\";\r\nimport { Modal } from \"../components/Common/Modal/Modal\";\r\nimport { CommentsSdk } from \"./comments-sdk\";\r\n// import { LSFHistory } from \"./lsf-history\";\r\nimport { annotationToServer, taskToLSFormat } from \"./lsf-utils\";\r\nimport { when } from \"mobx\";\r\nimport { imageCache } from \"@humansignal/core\";\r\n\r\nconst DEFAULT_INTERFACES = [\r\n  \"basic\",\r\n  \"controls\",\r\n  \"submit\",\r\n  \"update\",\r\n  \"predictions\",\r\n  \"topbar\",\r\n  \"predictions:menu\", // right menu with prediction items\r\n  \"annotations:menu\", // right menu with annotation items\r\n  \"annotations:current\",\r\n  \"side-column\", // entity\r\n  \"edit-history\", // undo/redo\r\n];\r\n\r\nlet LabelStudioDM;\r\n\r\nconst resolveLabelStudio = () => {\r\n  if (LabelStudioDM) {\r\n    return LabelStudioDM;\r\n  }\r\n  if (window.LabelStudio) {\r\n    return (LabelStudioDM = window.LabelStudio);\r\n  }\r\n};\r\n\r\n// Returns true to suppress (swallow) the error, false to bubble to global handler.\r\n// We allow certain errors to bubble so the app-level ApiProvider can show modals:\r\n// - 403 PAUSED: User is paused in the project\r\n// - 400 OVERLAP_REACHED: Annotation overlap limit has been reached (only when feature flag is enabled)\r\nconst errorHandlerAllowSpecialErrors = (result) => {\r\n  const isPaused =\r\n    result?.status === 403 &&\r\n    typeof result?.response === \"object\" &&\r\n    result?.response?.display_context?.reason === \"PAUSED\";\r\n\r\n  // Only handle OVERLAP_REACHED when feature flag is enabled\r\n  const isOverlapReached =\r\n    isFF(FF_FIT_1304_STRICT_OVERLAP) &&\r\n    result?.status === 400 &&\r\n    typeof result?.response === \"object\" &&\r\n    result?.response?.display_context?.reason === \"OVERLAP_REACHED\";\r\n\r\n  // Return false to allow these errors to bubble up to the global handler\r\n  return !(isPaused || isOverlapReached);\r\n};\r\n\r\n// Support portal URL constants used to construct error reporting links\r\n// These are used in showOperationToast() to create support links with request IDs\r\n// for better error tracking and customer support\r\nexport const SUPPORT_URL = \"https://support.humansignal.com/hc/en-us/requests/new\";\r\nexport const SUPPORT_URL_REQUEST_ID_PARAM = \"tf_37934448633869\"; // request_id field ID in ZD\r\n\r\n// Toast ID for overlap reached message - used to dismiss this specific toast\r\n// without affecting other toasts like \"Annotation Saved\"\r\nconst OVERLAP_TOAST_ID = \"overlap-reached-toast\";\r\n\r\nexport class LSFWrapper {\r\n  /** @type {HTMLElement} */\r\n  root = null;\r\n\r\n  /** @type {DataManager} */\r\n  datamanager = null;\r\n\r\n  /** @type {Task} */\r\n  task = null;\r\n\r\n  /** @type {Annotation} */\r\n  initialAnnotation = null;\r\n\r\n  /** @type {LabelStudio} */\r\n  lsf = null;\r\n\r\n  /** @type {LSFHistory} */\r\n  // history = null;\r\n\r\n  /** @type {boolean} */\r\n  labelStream = false;\r\n\r\n  /** @type {boolean} */\r\n  isInteractivePreannotations = false;\r\n\r\n  /** @type {function} */\r\n  interfacesModifier = (interfaces) => interfaces;\r\n\r\n  /**\r\n   *\r\n   * @param {DataManager} dm\r\n   * @param {HTMLElement} element\r\n   * @param {LSFOptions} options\r\n   */\r\n  constructor(dm, element, options) {\r\n    // we need to pass the rest of the options to LSF below\r\n    const {\r\n      task,\r\n      preload,\r\n      isLabelStream,\r\n      annotation,\r\n      interfacesModifier,\r\n      isInteractivePreannotations,\r\n      user,\r\n      keymap,\r\n      messages,\r\n      ...restOptions\r\n    } = options;\r\n\r\n    this.datamanager = dm;\r\n    this.store = dm.store;\r\n    this.root = element;\r\n    this.task = task;\r\n    this.preload = preload;\r\n    this.labelStream = isLabelStream ?? false;\r\n    this.initialAnnotation = annotation;\r\n    this.interfacesModifier = interfacesModifier;\r\n    this.isInteractivePreannotations = isInteractivePreannotations ?? false;\r\n\r\n    // Listen for overlap error modal events (only when feature flag is enabled)\r\n    if (isFF(FF_FIT_1304_STRICT_OVERLAP)) {\r\n      this.handleOverlapNextTask = () => this.loadTask();\r\n      this.handleOverlapCloseTask = () => this.closeTask();\r\n      this.handleOverlapExitStream = () => this.exitStream();\r\n      window.addEventListener(\"overlap-error-next-task\", this.handleOverlapNextTask);\r\n      window.addEventListener(\"overlap-error-close-task\", this.handleOverlapCloseTask);\r\n      window.addEventListener(\"overlap-error-exit-stream\", this.handleOverlapExitStream);\r\n    }\r\n\r\n    let interfaces = [...DEFAULT_INTERFACES];\r\n\r\n    if (this.project.enable_empty_annotation === false) {\r\n      interfaces.push(\"annotations:deny-empty\");\r\n    }\r\n\r\n    if (window.APP_SETTINGS.annotator_reviewer_firewall_enabled && this.labelStream) {\r\n      interfaces.push(\"annotations:hide-info\");\r\n    }\r\n\r\n    if (this.labelStream) {\r\n      interfaces.push(\"infobar\");\r\n      if (!window.APP_SETTINGS.label_stream_navigation_disabled) interfaces.push(\"topbar:prevnext\");\r\n      if (FF_DEV_2186 && this.project.review_settings?.require_comment_on_reject) {\r\n        interfaces.push(\"comments:update\");\r\n      }\r\n      if (this.project.show_skip_button) {\r\n        interfaces.push(\"skip\");\r\n      }\r\n    } else {\r\n      interfaces.push(\r\n        \"infobar\",\r\n        \"annotations:add-new\",\r\n        \"annotations:view-all\",\r\n        \"annotations:delete\",\r\n        \"annotations:tabs\",\r\n        \"predictions:tabs\",\r\n        \"annotations:copy-link\",\r\n      );\r\n    }\r\n\r\n    if (this.datamanager.hasInterface(\"instruction\")) {\r\n      interfaces.push(\"instruction\");\r\n    }\r\n\r\n    if (!this.labelStream && this.datamanager.hasInterface(\"groundTruth\")) {\r\n      interfaces.push(\"ground-truth\");\r\n    }\r\n\r\n    if (this.datamanager.hasInterface(\"autoAnnotation\")) {\r\n      interfaces.push(\"auto-annotation\");\r\n    }\r\n\r\n    if (isFF(FF_DEV_2887)) {\r\n      interfaces.push(\"annotations:comments\");\r\n      interfaces.push(\"comments:resolve-any\");\r\n    }\r\n\r\n    if (this.project.review_settings?.require_comment_on_reject) {\r\n      interfaces.push(\"comments:reject\");\r\n    }\r\n\r\n    if (this.interfacesModifier) {\r\n      interfaces = this.interfacesModifier(interfaces, this.labelStream);\r\n    }\r\n\r\n    if (!this.shouldLoadNext()) {\r\n      interfaces = interfaces.filter((item) => {\r\n        return ![\"topbar:prevnext\", \"skip\"].includes(item);\r\n      });\r\n    }\r\n\r\n    const queueTotal = dm.store.project.reviewer_queue_total || dm.store.project.queue_total;\r\n    const queueDone = dm.store.project.queue_done;\r\n    const queueLeft = dm.store.project.queue_left;\r\n    const queuePosition = queueDone ? queueDone + 1 : queueLeft ? queueTotal - queueLeft + 1 : 1;\r\n    const commentClassificationConfig = dm.store.project.comment_classification_config;\r\n\r\n    const lsfProperties = {\r\n      user: options.user,\r\n      config: this.lsfConfig,\r\n      task: taskToLSFormat(this.task),\r\n      description: this.instruction,\r\n      interfaces,\r\n      users: dm.store.users.map((u) => u.toJSON()),\r\n      keymap: options.keymap,\r\n      forceAutoAnnotation: this.isInteractivePreannotations,\r\n      forceAutoAcceptSuggestions: this.isInteractivePreannotations,\r\n      messages: options.messages,\r\n      queueTotal,\r\n      queuePosition,\r\n      commentClassificationConfig,\r\n\r\n      /* EVENTS */\r\n      onSubmitDraft: this.onSubmitDraft,\r\n      onLabelStudioLoad: this.onLabelStudioLoad,\r\n      onTaskLoad: this.onTaskLoad,\r\n      onPresignUrlForProject: this.onPresignUrlForProject,\r\n      onStorageInitialized: this.onStorageInitialized,\r\n      onSubmitAnnotation: this.onSubmitAnnotation,\r\n      onUpdateAnnotation: this.onUpdateAnnotation,\r\n      onDeleteAnnotation: this.onDeleteAnnotation,\r\n      onSkipTask: this.onSkipTask,\r\n      onUnskipTask: this.onUnskipTask,\r\n      onGroundTruth: this.onGroundTruth,\r\n      onEntityCreate: this.onEntityCreate,\r\n      onEntityDelete: this.onEntityDelete,\r\n      onSelectAnnotation: this.onSelectAnnotation,\r\n      onNextTask: this.onNextTask,\r\n      onPrevTask: this.onPrevTask,\r\n\r\n      ...restOptions,\r\n    };\r\n\r\n    this.initLabelStudio(lsfProperties);\r\n  }\r\n\r\n  /** @private */\r\n  initLabelStudio(settings) {\r\n    try {\r\n      const LSF = resolveLabelStudio();\r\n\r\n      this.lsfInstance = new LSF(this.root, settings);\r\n\r\n      this.lsfInstance.on(\"presignUrlForProject\", this.onPresignUrlForProject);\r\n\r\n      const names = Array.from(this.datamanager.callbacks.keys()).filter((k) => k.startsWith(\"lsf:\"));\r\n\r\n      names.forEach((name) => {\r\n        this.datamanager.getEventCallbacks(name).forEach((clb) => {\r\n          this.lsfInstance.on(name.replace(/^lsf:/, \"\"), clb);\r\n        });\r\n      });\r\n\r\n      if (isFF(FF_DEV_2887)) {\r\n        new CommentsSdk(this.lsfInstance, this.datamanager);\r\n      }\r\n\r\n      this.datamanager.invoke(\"lsfInit\", this, this.lsfInstance);\r\n    } catch (err) {\r\n      console.error(\"Failed to initialize LabelStudio\", settings);\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n  /** @private */\r\n  async preloadTask() {\r\n    const { comment: commentId, task: taskID } = this.preload;\r\n    const api = this.datamanager.api;\r\n    const params = { taskID };\r\n\r\n    if (commentId) {\r\n      params.with_comment = commentId;\r\n    }\r\n\r\n    if (params) {\r\n      const task = await api.call(\"task\", { params });\r\n      const noData = !task || (!task.annotations?.length && !task.drafts?.length);\r\n      const body = `Task #${taskID}${commentId ? ` with comment #${commentId}` : \"\"} was not found!`;\r\n\r\n      if (noData) {\r\n        Modal.modal({\r\n          title: \"Can't find task\",\r\n          body,\r\n        });\r\n        return false;\r\n      }\r\n\r\n      // for preload it's good to always load the first one\r\n      const annotation = task.annotations[0];\r\n\r\n      this.selectTask(task, annotation?.id, true);\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /** @private */\r\n  async loadTask(taskID, annotationID, fromHistory = false) {\r\n    if (!this.lsf) {\r\n      return console.error(\"Make sure that LSF was properly initialized\");\r\n    }\r\n\r\n    const nextAction = async () => {\r\n      const tasks = this.datamanager.store.taskStore;\r\n\r\n      const newTask = await this.withinLoadingState(async () => {\r\n        let nextTask;\r\n\r\n        if (!isDefined(taskID)) {\r\n          nextTask = await tasks.loadNextTask();\r\n        } else {\r\n          nextTask = await tasks.loadTask(taskID);\r\n        }\r\n\r\n        /**\r\n         * If we're in label stream and there's no task  end the stream\r\n         * Otherwise allow user to continue exploring tasks after finished labelling\r\n         */\r\n        const noTask = this.labelStream && !nextTask;\r\n\r\n        this.lsf.setFlags({ noTask });\r\n\r\n        return nextTask;\r\n      });\r\n\r\n      // Add new data from received task\r\n      if (newTask) this.selectTask(newTask, annotationID, fromHistory);\r\n    };\r\n\r\n    if (isFF(FF_DEV_2887) && this.lsf?.commentStore?.hasUnsaved) {\r\n      Modal.confirm({\r\n        title: \"You have unsaved changes\",\r\n        body: \"There are comments which are not persisted. Please submit the annotation. Continuing will discard these comments.\",\r\n        onOk() {\r\n          nextAction();\r\n        },\r\n        okText: \"Discard and continue\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    await nextAction();\r\n  }\r\n\r\n  exitStream() {\r\n    this.datamanager.invoke(\"navigate\", \"projects\");\r\n  }\r\n\r\n  selectTask(task, annotationID, fromHistory = false) {\r\n    const needsAnnotationsMerge = task && this.task?.id === task.id;\r\n    const annotations = needsAnnotationsMerge ? [...this.annotations] : [];\r\n\r\n    this.task = task;\r\n\r\n    if (needsAnnotationsMerge) {\r\n      this.task.mergeAnnotations(annotations);\r\n    }\r\n\r\n    this.loadUserLabels();\r\n\r\n    this.setLSFTask(task, annotationID, fromHistory);\r\n  }\r\n\r\n  setLSFTask(task, annotationID, fromHistory, selectPrediction = false) {\r\n    if (!this.lsf) return;\r\n\r\n    if (isFF(FF_FIT_1304_STRICT_OVERLAP)) {\r\n      this.dismissOverlapToast();\r\n    }\r\n\r\n    const hasChangedTasks = this.lsf?.task?.id !== task?.id && task?.id;\r\n\r\n    this.setLoading(true, hasChangedTasks);\r\n    const lsfTask = taskToLSFormat(task);\r\n    const isRejectedQueue = isDefined(task.default_selected_annotation);\r\n    const taskList = this.datamanager.store.taskStore.list;\r\n    // annotations are set in LSF only and order in DM only, so combine them\r\n    const taskHistory = taskList\r\n      .map((task) => this.taskHistory.find((item) => item.taskId === task.id))\r\n      .filter(Boolean);\r\n\r\n    const extracted = taskHistory.find((item) => item.taskId === task.id);\r\n\r\n    if (!fromHistory && extracted) {\r\n      taskHistory.splice(taskHistory.indexOf(extracted), 1);\r\n      taskHistory.push(extracted);\r\n    }\r\n\r\n    if (!extracted) {\r\n      taskHistory.push({ taskId: task.id, annotationId: null });\r\n    }\r\n\r\n    if (isRejectedQueue && !annotationID) {\r\n      annotationID = task.default_selected_annotation;\r\n    }\r\n\r\n    if (hasChangedTasks) {\r\n      this.lsf.resetState();\r\n    } else {\r\n      this.lsf.resetAnnotationStore();\r\n    }\r\n\r\n    // Initial idea to show counter for Manual assignment only\r\n    // But currently we decided to hide it for any stream\r\n    // const distribution = this.project.assignment_settings.label_stream_task_distribution;\r\n    // const isManuallyAssigned = distribution === \"assigned_only\";\r\n\r\n    // undefined or true for backward compatibility\r\n    this.lsf.toggleInterface(\"postpone\", this.task.allow_postpone !== false);\r\n    this.lsf.toggleInterface(\"topbar:task-counter\", true);\r\n\r\n    if (isFF(FF_FIT_1304_STRICT_OVERLAP)) {\r\n      // Handle strict task overlap - disable submission controls when overlap is reached\r\n      // Only process when feature flag is enabled\r\n      const overlapReached = this.task.overlap_reached === true;\r\n      this.overlapReached = overlapReached;\r\n      this.overlapReachedMessage =\r\n        this.task.overlap_reached_message ||\r\n        \"Annotation overlap has been reached for this task. Your draft is preserved but cannot be submitted.\";\r\n\r\n      // Set overlap state on LSF store - this will disable buttons with tooltips\r\n      this.lsf.setFlags({\r\n        overlapReached,\r\n        overlapReachedMessage: this.overlapReachedMessage,\r\n      });\r\n    } else {\r\n      this.overlapReached = false;\r\n      this.overlapReachedMessage = \"\";\r\n    }\r\n\r\n    this.lsf.assignTask(task);\r\n    this.lsf.initializeStore(lsfTask);\r\n    this.setAnnotation(annotationID, fromHistory || isRejectedQueue, selectPrediction);\r\n    this.setLoading(false);\r\n\r\n    if (isFF(FF_FIT_1304_STRICT_OVERLAP) && this.overlapReached) {\r\n      // Show informational message if overlap is reached (only when feature flag is enabled)\r\n      this.showOverlapReachedMessage();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show informational message when overlap is reached\r\n   * @private\r\n   */\r\n  showOverlapReachedMessage() {\r\n    // Use info toast to communicate the overlap status\r\n    // This is informational, not an error, so we use a neutral tone\r\n    // Use a specific ID so we can dismiss this toast without affecting others\r\n    this.datamanager.invoke(\"toast\", {\r\n      id: OVERLAP_TOAST_ID,\r\n      message: (\r\n        <div className=\"flex items-center justify-between\">\r\n          <span>{this.overlapReachedMessage}</span>\r\n          <Button\r\n            onClick={() => {\r\n              this.datamanager.invoke(\"toast:dismiss\", { id: OVERLAP_TOAST_ID });\r\n              this.handleOverlapNextTask();\r\n            }}\r\n            className=\"ml-4\"\r\n            size=\"small\"\r\n            look=\"outlined\"\r\n          >\r\n            Next Task\r\n          </Button>\r\n        </div>\r\n      ),\r\n      type: \"info\",\r\n      duration: -1,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Dismiss the overlap reached toast if it's showing\r\n   * @private\r\n   */\r\n  dismissOverlapToast() {\r\n    this.datamanager.invoke(\"toast:dismiss\", { id: OVERLAP_TOAST_ID });\r\n  }\r\n\r\n  /** @private */\r\n  setAnnotation(annotationID, selectAnnotation = false, selectPrediction = false) {\r\n    const id = annotationID ? annotationID.toString() : null;\r\n    const { annotationStore: cs } = this.lsf;\r\n    let annotation;\r\n    const activeDrafts = cs.annotations.map((a) => a.draftId).filter(Boolean);\r\n\r\n    if (this.task.drafts) {\r\n      for (const draft of this.task.drafts) {\r\n        if (activeDrafts.includes(draft.id)) continue;\r\n        let c;\r\n\r\n        if (draft.annotation) {\r\n          // Annotation existed - add draft to existed annotation\r\n          const draftAnnotationPk = String(draft.annotation);\r\n\r\n          c = cs.annotations.find((c) => c.pk === draftAnnotationPk);\r\n          if (c) {\r\n            c.history.freeze();\r\n            c.addVersions({ draft: draft.result });\r\n            c.deleteAllRegions({ deleteReadOnly: true });\r\n          } else {\r\n            // that shouldn't happen\r\n            console.error(`No annotation found for pk=${draftAnnotationPk}`);\r\n            continue;\r\n          }\r\n        } else {\r\n          // Annotation not found - restore annotation from draft\r\n          c = cs.addAnnotation({\r\n            draft: draft.result,\r\n            userGenerate: true,\r\n            comment_count: draft.comment_count,\r\n            unresolved_comment_count: draft.unresolved_comment_count,\r\n            createdBy: draft.created_username,\r\n            createdAgo: draft.created_ago,\r\n            createdDate: draft.created_at,\r\n          });\r\n        }\r\n        cs.selectAnnotation(c.id);\r\n        c.deserializeResults(draft.result);\r\n        c.setDraftId(draft.id);\r\n        c.setDraftSaved(draft.created_at);\r\n        c.history.safeUnfreeze();\r\n        c.history.reinit();\r\n      }\r\n    }\r\n    const first = this.annotations?.length ? this.annotations[0] : null;\r\n    // if we have annotations created automatically, we don't need to create another one\r\n    // automatically === created here and haven't saved yet, so they don't have pk\r\n    // @todo because of some weird reason pk may be string uid, so check flags then\r\n    const hasAutoAnnotations = !!first && (!first.pk || (first.userGenerate && first.sentUserGenerate === false));\r\n    const showPredictions = this.project.show_collab_predictions === true;\r\n\r\n    if (this.labelStream) {\r\n      if (first?.draftId) {\r\n        // not submitted draft, most likely from previous labeling session\r\n        annotation = first;\r\n      } else if (isDefined(annotationID) && selectAnnotation) {\r\n        annotation = this.annotations.find(({ pk }) => pk === annotationID);\r\n      } else if (showPredictions && this.predictions.length > 0 && !this.isInteractivePreannotations) {\r\n        annotation = cs.addAnnotationFromPrediction(this.predictions[0]);\r\n      } else {\r\n        annotation = cs.createAnnotation();\r\n      }\r\n    } else {\r\n      if (selectPrediction) {\r\n        annotation = this.predictions.find((p) => p.pk === id);\r\n        annotation ??= first; // if prediction not found, select first annotation and resume existing behaviour\r\n      } else if (this.annotations.length === 0 && this.predictions.length > 0 && !this.isInteractivePreannotations) {\r\n        const predictionByModelVersion = this.predictions.find((p) => p.createdBy === this.project.model_version);\r\n        annotation = cs.addAnnotationFromPrediction(predictionByModelVersion ?? this.predictions[0]);\r\n      } else if (this.annotations.length > 0 && id && id !== \"auto\") {\r\n        annotation = this.annotations.find((c) => c.pk === id || c.id === id);\r\n      } else if (this.annotations.length > 0 && (id === \"auto\" || hasAutoAnnotations)) {\r\n        annotation = first;\r\n      } else {\r\n        annotation = cs.createAnnotation();\r\n      }\r\n    }\r\n\r\n    if (annotation) {\r\n      // We want to be sure this is explicitly understood to be a prediction and the\r\n      // user wants to select it directly\r\n      if (selectPrediction && annotation.type === \"prediction\") {\r\n        cs.selectPrediction(annotation.id);\r\n      } else {\r\n        // Otherwise we default the behaviour to being as was before\r\n        cs.selectAnnotation(annotation.id);\r\n      }\r\n      this.datamanager.invoke(\"annotationSet\", annotation);\r\n    }\r\n  }\r\n\r\n  saveUserLabels = async () => {\r\n    const body = [];\r\n    const userLabels = this.lsf?.userLabels?.controls;\r\n\r\n    if (!userLabels) return;\r\n\r\n    for (const from_name in userLabels) {\r\n      for (const label of userLabels[from_name]) {\r\n        body.push({\r\n          value: label.path,\r\n          title: [from_name, JSON.stringify(label.path)].join(\":\"),\r\n          from_name,\r\n          project: this.project.id,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (!body.length) return;\r\n\r\n    await this.datamanager.apiCall(\"saveUserLabels\", {}, { body });\r\n  };\r\n\r\n  async loadUserLabels() {\r\n    if (!this.lsf?.userLabels) return;\r\n\r\n    const userLabels = await this.datamanager.apiCall(\"userLabelsForProject\", {\r\n      project: this.project.id,\r\n      expand: \"label\",\r\n    });\r\n\r\n    if (!userLabels) return;\r\n\r\n    const controls = {};\r\n\r\n    for (const result of userLabels.results ?? []) {\r\n      // don't trust server's response!\r\n      if (!result?.label?.value?.length) continue;\r\n\r\n      const control = result.from_name;\r\n\r\n      if (!controls[control]) controls[control] = [];\r\n      controls[control].push(result.label.value);\r\n    }\r\n\r\n    this.lsf.userLabels.init(controls);\r\n  }\r\n\r\n  onLabelStudioLoad = async (ls) => {\r\n    this.datamanager.invoke(\"labelStudioLoad\", ls);\r\n    this.lsf = ls;\r\n\r\n    if (!this.lsf.task) this.setLoading(true);\r\n\r\n    const _taskHistory = await this.datamanager.store.taskStore.loadTaskHistory({\r\n      projectId: this.datamanager.store.project.id,\r\n    });\r\n\r\n    this.lsf.setTaskHistory(_taskHistory);\r\n\r\n    await this.loadUserLabels();\r\n\r\n    if (this.canPreloadTask && isFF(FF_DEV_1752)) {\r\n      await this.preloadTask();\r\n    } else if (this.labelStream) {\r\n      await this.loadTask();\r\n    }\r\n\r\n    this.setLoading(false);\r\n  };\r\n\r\n  /** @private */\r\n  onTaskLoad = async (...args) => {\r\n    this.datamanager.invoke(\"onSelectAnnotation\", ...args);\r\n  };\r\n\r\n  /**\r\n   * Proxy urls to presign them if storage is connected\r\n   * @param {*} _ LS instance\r\n   * @param {string} url http/https are not proxied and returned as is\r\n   */\r\n  onPresignUrlForProject = (_, url) => {\r\n    // if URL is a relative, presigned url (url matches /tasks|projects/:id/resolve/.*) make it absolute\r\n    const presignedUrlPattern = /^\\/(?:tasks|projects)\\/\\d+\\/resolve\\/?/;\r\n    if (presignedUrlPattern.test(url)) {\r\n      url = new URL(url, document.location.origin).toString();\r\n    }\r\n\r\n    const parsedUrl = new URL(url);\r\n\r\n    // return same url if http(s)\r\n    if ([\"http:\", \"https:\"].includes(parsedUrl.protocol)) return url;\r\n\r\n    const api = this.datamanager.api;\r\n    const projectId = this.project.id;\r\n    const fileuri = btoa(url);\r\n\r\n    return api.createUrl(api.endpoints.presignUrlForProject, { projectId, fileuri }).url;\r\n  };\r\n\r\n  onStorageInitialized = async (ls) => {\r\n    this.datamanager.invoke(\"onStorageInitialized\", ls);\r\n\r\n    if (this.task && this.labelStream === false) {\r\n      const annotationID =\r\n        this.initialAnnotation?.pk ?? this.task.lastAnnotation?.pk ?? this.task.lastAnnotation?.id ?? \"auto\";\r\n\r\n      this.setAnnotation(annotationID);\r\n    }\r\n  };\r\n\r\n  /** @private */\r\n  showOperationToast(status, successMessage, errorAction, result) {\r\n    if (status === 200 || status === 201) {\r\n      this.datamanager.invoke(\"toast\", { message: successMessage, type: \"info\" });\r\n    } else if (status !== undefined) {\r\n      // Skip toast for errors that are handled by global modal handlers via display_context\r\n      // These errors bubble up to ApiProvider which shows appropriate modals\r\n      // Note: display_context is in result.response for API error responses\r\n      const displayReason = result?.response?.display_context?.reason;\r\n      const isPausedError = displayReason === \"PAUSED\";\r\n      const isOverlapError = isFF(FF_FIT_1304_STRICT_OVERLAP) && displayReason === \"OVERLAP_REACHED\";\r\n      if (isPausedError || isOverlapError) {\r\n        // Also update local state for overlap reached (only when feature flag is enabled)\r\n        if (isOverlapError) {\r\n          this.overlapReached = true;\r\n          this.overlapReachedMessage =\r\n            result?.response?.detail ||\r\n            \"Annotation overlap has been reached for this task. Your draft is preserved but cannot be submitted.\";\r\n          // Set overlap state on LSF store - this will disable buttons with tooltips\r\n          this.lsf.setFlags({\r\n            overlapReached: true,\r\n            overlapReachedMessage: this.overlapReachedMessage,\r\n          });\r\n        }\r\n        return;\r\n      }\r\n\r\n      const requestId = result?.$meta?.headers?.get(\"x-ls-request-id\");\r\n      const supportUrl = requestId ? `${SUPPORT_URL}?${SUPPORT_URL_REQUEST_ID_PARAM}=${requestId}` : SUPPORT_URL;\r\n\r\n      this.datamanager.invoke(\"toast\", {\r\n        message: (\r\n          <span>\r\n            {errorAction}, please try again or{\" \"}\r\n            <a\r\n              href={supportUrl}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              style={{ color: \"inherit\", textDecoration: \"underline\" }}\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              contact our team\r\n            </a>{\" \"}\r\n            if it doesn't help.\r\n          </span>\r\n        ),\r\n        type: \"error\",\r\n      });\r\n    }\r\n  }\r\n\r\n  /** @private */\r\n  onSubmitAnnotation = async () => {\r\n    // Prevent submission if overlap is reached (only when feature flag is enabled)\r\n    if (isFF(FF_FIT_1304_STRICT_OVERLAP) && this.overlapReached) {\r\n      this.showOverlapReachedMessage();\r\n      return;\r\n    }\r\n\r\n    const exitStream = this.shouldExitStream();\r\n    const loadNext = exitStream ? false : this.shouldLoadNext();\r\n    const result = await this.submitCurrentAnnotation(\r\n      \"submitAnnotation\",\r\n      async (taskID, body) => {\r\n        return await this.datamanager.apiCall(\r\n          \"submitAnnotation\",\r\n          { taskID },\r\n          { body },\r\n          // errors are displayed by \"toast\" event - we don't want to show blocking modal\r\n          { errorHandler: errorHandlerAllowSpecialErrors },\r\n        );\r\n      },\r\n      false,\r\n      loadNext,\r\n    );\r\n    const status = result?.$meta?.status;\r\n\r\n    this.showOperationToast(status, \"Annotation saved successfully\", \"Annotation is not saved\", result);\r\n\r\n    if (exitStream) return this.exitStream();\r\n  };\r\n\r\n  /** @private */\r\n  onUpdateAnnotation = async (ls, annotation, extraData) => {\r\n    const { task } = this;\r\n    const serializedAnnotation = this.prepareData(annotation);\r\n    const exitStream = this.shouldExitStream();\r\n\r\n    Object.assign(serializedAnnotation, extraData);\r\n\r\n    await this.saveUserLabels();\r\n\r\n    const result = await this.withinLoadingState(async () => {\r\n      return this.datamanager.apiCall(\r\n        \"updateAnnotation\",\r\n        {\r\n          taskID: task.id,\r\n          annotationID: annotation.pk,\r\n        },\r\n        {\r\n          body: serializedAnnotation,\r\n        },\r\n        // errors are displayed by \"toast\" event - we don't want to show blocking modal\r\n        { errorHandler: errorHandlerAllowSpecialErrors },\r\n      );\r\n    });\r\n    const status = result?.$meta?.status;\r\n\r\n    this.showOperationToast(status, \"Annotation updated successfully\", \"Annotation is not updated\", result);\r\n\r\n    this.datamanager.invoke(\"updateAnnotation\", ls, annotation, result);\r\n\r\n    if (exitStream) return this.exitStream();\r\n\r\n    if (status >= 400) {\r\n      return;\r\n    }\r\n\r\n    const isRejectedQueue = isDefined(task.default_selected_annotation);\r\n\r\n    if (isRejectedQueue) {\r\n      // load next task if that one was updated task from rejected queue\r\n      await this.loadTask();\r\n    } else {\r\n      await this.loadTask(this.task.id, annotation.pk, true);\r\n    }\r\n  };\r\n\r\n  deleteDraft = async (id) => {\r\n    const response = await this.datamanager.apiCall(\"deleteDraft\", {\r\n      draftID: id,\r\n    });\r\n\r\n    this.task.deleteDraft(id);\r\n    return response;\r\n  };\r\n\r\n  /**@private */\r\n  onDeleteAnnotation = async (ls, annotation) => {\r\n    const { task } = this;\r\n    let response;\r\n\r\n    task.deleteAnnotation(annotation);\r\n\r\n    if (annotation.userGenerate && annotation.sentUserGenerate === false) {\r\n      if (annotation.draftId) {\r\n        response = await this.deleteDraft(annotation.draftId);\r\n      } else {\r\n        response = { ok: true };\r\n      }\r\n    } else {\r\n      response = await this.withinLoadingState(async () => {\r\n        return this.datamanager.apiCall(\"deleteAnnotation\", {\r\n          taskID: task.id,\r\n          annotationID: annotation.pk,\r\n        });\r\n      });\r\n\r\n      // this.task.deleteAnnotation(annotation);\r\n      this.datamanager.invoke(\"deleteAnnotation\", ls, annotation);\r\n    }\r\n\r\n    if (response.ok) {\r\n      const lastAnnotation = this.annotations[this.annotations.length - 1] ?? {};\r\n      const annotationID = lastAnnotation.pk ?? undefined;\r\n\r\n      this.setAnnotation(annotationID);\r\n    }\r\n  };\r\n\r\n  draftToast = (status, result = null) => {\r\n    this.showOperationToast(status, \"Draft saved successfully\", \"Draft is not saved\", result);\r\n  };\r\n\r\n  needsDraftSave = (annotation) => {\r\n    if (annotation.history?.hasChanges && !annotation.draftSaved) return true;\r\n    if (\r\n      annotation.history?.hasChanges &&\r\n      new Date(annotation.history.lastAdditionTime) > new Date(annotation.draftSaved)\r\n    )\r\n      return true;\r\n    return false;\r\n  };\r\n\r\n  saveDraft = async (target = null) => {\r\n    const selected = target || this.lsf?.annotationStore?.selected;\r\n    const hasChanges = selected ? this.needsDraftSave(selected) : false;\r\n\r\n    if (selected?.isDraftSaving) {\r\n      await when(() => !selected.isDraftSaving);\r\n      this.draftToast(200);\r\n    } else if (hasChanges && selected) {\r\n      const res = await selected?.saveDraftImmediatelyWithResults();\r\n\r\n      this.draftToast(res.$meta?.status, res);\r\n    }\r\n  };\r\n\r\n  onSubmitDraft = async (studio, annotation, params = {}) => {\r\n    // It should be preserved as soon as possible because each `await` will allow it to be changed\r\n    const taskId = this.task.id;\r\n    const annotationDoesntExist = !annotation.pk;\r\n    const data = { body: this.prepareData(annotation, { isNewDraft: true }) }; // serializedAnnotation\r\n    const hasChanges = this.needsDraftSave(annotation);\r\n    const showToast = params?.useToast && hasChanges;\r\n    // console.log('onSubmitDraft', params?.useToast, hasChanges);\r\n\r\n    if (params?.useToast) delete params.useToast;\r\n\r\n    Object.assign(data.body, params);\r\n\r\n    await this.saveUserLabels();\r\n\r\n    if (annotation.draftId > 0) {\r\n      // draft has been already created\r\n      const res = await this.datamanager.apiCall(\"updateDraft\", { draftID: annotation.draftId }, data);\r\n\r\n      showToast && this.draftToast(res.$meta?.status, res);\r\n      this.datamanager.invoke(\"submitDraft\", this, annotation, res);\r\n      return res;\r\n    }\r\n    let response;\r\n\r\n    if (annotationDoesntExist) {\r\n      response = await this.datamanager.apiCall(\"createDraftForTask\", { taskID: taskId }, data);\r\n    } else {\r\n      response = await this.datamanager.apiCall(\r\n        \"createDraftForAnnotation\",\r\n        { taskID: taskId, annotationID: annotation.pk },\r\n        data,\r\n      );\r\n    }\r\n    response?.id && annotation.setDraftId(response?.id);\r\n    showToast && this.draftToast(response.$meta?.status, response);\r\n    this.datamanager.invoke(\"submitDraft\", this, annotation, response);\r\n\r\n    return response;\r\n  };\r\n\r\n  onSkipTask = async (_, { comment } = {}) => {\r\n    // Prevent skipping if overlap is reached (only when feature flag is enabled)\r\n    if (isFF(FF_FIT_1304_STRICT_OVERLAP) && this.overlapReached) {\r\n      this.showOverlapReachedMessage();\r\n      return;\r\n    }\r\n\r\n    // Manager roles that can force-skip unskippable tasks (OW=Owner, AD=Admin, MA=Manager)\r\n    const MANAGER_ROLES = [\"OW\", \"AD\", \"MA\"];\r\n    const task = this.task;\r\n    const isEnterprise = window.APP_SETTINGS?.billing?.enterprise;\r\n    const skipDisabled = isEnterprise ? task?.allow_skip === false : false;\r\n    const userRole = window.APP_SETTINGS?.user?.role;\r\n    const hasForceSkipPermission = MANAGER_ROLES.includes(userRole);\r\n    const canSkip = !skipDisabled || hasForceSkipPermission;\r\n    if (!canSkip) {\r\n      console.warn(\"Task cannot be skipped: allow_skip is false and user lacks manager role\");\r\n      this.showOperationToast(400, null, \"This task cannot be skipped\", {\r\n        error: \"Task cannot be skipped\",\r\n      });\r\n      return;\r\n    }\r\n    const result = await this.submitCurrentAnnotation(\r\n      \"skipTask\",\r\n      async (taskID, body) => {\r\n        const { id, ...annotation } = body;\r\n        const params = { taskID };\r\n        const options = { body: { ...annotation, was_cancelled: true } };\r\n\r\n        if (comment) options.body.comment = comment;\r\n\r\n        if (id !== undefined) params.annotationID = id;\r\n\r\n        return await this.datamanager.apiCall(\r\n          id === undefined ? \"submitAnnotation\" : \"updateAnnotation\",\r\n          params,\r\n          options,\r\n          { errorHandler: errorHandlerAllowSpecialErrors },\r\n        );\r\n      },\r\n      true,\r\n      this.shouldLoadNext(),\r\n    );\r\n    const status = result?.$meta?.status;\r\n\r\n    this.showOperationToast(status, \"Task skipped successfully\", \"Task is not skipped\", result);\r\n  };\r\n\r\n  onUnskipTask = async () => {\r\n    const { task, currentAnnotation } = this;\r\n\r\n    if (!isDefined(currentAnnotation) && !isDefined(currentAnnotation.pk)) {\r\n      console.error(\"Annotation must be on unskip\");\r\n      return;\r\n    }\r\n\r\n    await this.withinLoadingState(async () => {\r\n      currentAnnotation.pauseAutosave();\r\n\r\n      if (isFF(FF_DEV_3034)) {\r\n        await this.datamanager.apiCall(\"convertToDraft\", {\r\n          annotationID: currentAnnotation.pk,\r\n        });\r\n      } else {\r\n        if (currentAnnotation.draftId > 0) {\r\n          await this.datamanager.apiCall(\r\n            \"updateDraft\",\r\n            {\r\n              draftID: currentAnnotation.draftId,\r\n            },\r\n            {\r\n              body: { annotation: null },\r\n            },\r\n          );\r\n        } else {\r\n          const annotationData = { body: this.prepareData(currentAnnotation) };\r\n\r\n          await this.datamanager.apiCall(\r\n            \"createDraftForTask\",\r\n            {\r\n              taskID: this.task.id,\r\n            },\r\n            annotationData,\r\n          );\r\n        }\r\n\r\n        // Carry over any comments to when the annotation draft is eventually submitted\r\n        if (isFF(FF_DEV_2887) && this.lsf?.commentStore?.toCache) {\r\n          this.lsf.commentStore.toCache(`task.${task.id}`);\r\n        }\r\n\r\n        await this.datamanager.apiCall(\"deleteAnnotation\", {\r\n          taskID: task.id,\r\n          annotationID: currentAnnotation.pk,\r\n        });\r\n      }\r\n    });\r\n    await this.loadTask(task.id);\r\n    this.datamanager.invoke(\"unskipTask\");\r\n  };\r\n\r\n  shouldLoadNext = () => {\r\n    if (!this.labelStream) return false;\r\n\r\n    // validating if URL is from notification, in case of notification it shouldn't load next task\r\n    const urlParam = new URLSearchParams(location.search).get(\"interaction\");\r\n\r\n    return urlParam !== \"notifications\";\r\n  };\r\n\r\n  shouldExitStream = () => {\r\n    const paramName = \"exitStream\";\r\n    const urlParam = new URLSearchParams(location.search).get(paramName);\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n\r\n    searchParams.delete(paramName);\r\n    let newRelativePathQuery = window.location.pathname;\r\n\r\n    if (searchParams.toString()) newRelativePathQuery += `?${searchParams.toString()}`;\r\n    window.history.pushState(null, \"\", newRelativePathQuery);\r\n    return !!urlParam;\r\n  };\r\n\r\n  // Proxy events that are unused by DM integration\r\n  onEntityCreate = (...args) => this.datamanager.invoke(\"onEntityCreate\", ...args);\r\n  onEntityDelete = (...args) => this.datamanager.invoke(\"onEntityDelete\", ...args);\r\n  onSelectAnnotation = (prevAnnotation, nextAnnotation, options) => {\r\n    if (window.APP_SETTINGS.read_only_quick_view_enabled && !this.labelStream) {\r\n      prevAnnotation?.setEditable(false);\r\n    }\r\n    if (nextAnnotation?.history?.undoIdx) {\r\n      this.saveDraft(nextAnnotation).then(() => {\r\n        this.datamanager.invoke(\"onSelectAnnotation\", prevAnnotation, nextAnnotation, options, this);\r\n      });\r\n    } else {\r\n      this.datamanager.invoke(\"onSelectAnnotation\", prevAnnotation, nextAnnotation, options, this);\r\n    }\r\n  };\r\n\r\n  onNextTask = async (nextTaskId, nextAnnotationId) => {\r\n    this.saveDraft();\r\n    this.loadTask(nextTaskId, nextAnnotationId, true);\r\n  };\r\n  onPrevTask = async (prevTaskId, prevAnnotationId) => {\r\n    this.saveDraft();\r\n    this.loadTask(prevTaskId, prevAnnotationId, true);\r\n  };\r\n  async submitCurrentAnnotation(eventName, submit, includeId = false, loadNext = true) {\r\n    const { taskID, currentAnnotation } = this;\r\n    const unique_id = this.task.unique_lock_id;\r\n    const serializedAnnotation = this.prepareData(currentAnnotation, { includeId });\r\n\r\n    if (unique_id) {\r\n      serializedAnnotation.unique_id = unique_id;\r\n    }\r\n\r\n    this.setLoading(true);\r\n\r\n    await this.saveUserLabels();\r\n\r\n    const result = await this.withinLoadingState(async () => {\r\n      const result = await submit(taskID, serializedAnnotation);\r\n\r\n      return result;\r\n    });\r\n\r\n    if (result && result.id !== undefined) {\r\n      const annotationId = result.id.toString();\r\n\r\n      currentAnnotation.updatePersonalKey(annotationId);\r\n\r\n      const eventData = annotationToServer(currentAnnotation);\r\n\r\n      this.datamanager.invoke(eventName, this.lsf, eventData, result);\r\n\r\n      // Persist any queued comments which are not currently attached to an annotation\r\n      if (\r\n        isFF(FF_DEV_2887) &&\r\n        [\"submitAnnotation\", \"skipTask\"].includes(eventName) &&\r\n        this.lsf?.commentStore?.persistQueuedComments\r\n      ) {\r\n        await this.lsf.commentStore.persistQueuedComments();\r\n      }\r\n    }\r\n\r\n    this.setLoading(false);\r\n    if (result?.$meta?.status >= 400) {\r\n      // don't reload the task on error to avoid losing the user's changes\r\n      return result;\r\n    }\r\n\r\n    if (!loadNext || this.datamanager.isExplorer) {\r\n      await this.loadTask(taskID, currentAnnotation.pk, true);\r\n    } else {\r\n      await this.loadTask();\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Finds the active draft for the given annotation.\r\n   * @param {Object} annotation - The annotation object.\r\n   * @returns {Object|undefined} The active draft or undefined if no draft is found.\r\n   * @private\r\n   */\r\n  findActiveDraft(annotation) {\r\n    if (isDefined(annotation.draftId)) {\r\n      return this.task.drafts.find((possibleDraft) => possibleDraft.id === annotation.draftId);\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * Calculates the startedAt time for an annotation.\r\n   * @param {Object|undefined} currentDraft - The current draft object, if any.\r\n   * @param {Date} loadedDate - The date when the annotation was loaded.\r\n   * @returns {Date} The calculated startedAt time.\r\n   * @private\r\n   */\r\n  calculateStartedAt(currentDraft, loadedDate) {\r\n    if (currentDraft) {\r\n      const draftStartedAt = new Date(currentDraft.created_at);\r\n      const draftLeadTime = Number(currentDraft.lead_time ?? 0);\r\n      const adjustedStartedAt = new Date(Date.now() - draftLeadTime * 1000);\r\n\r\n      if (adjustedStartedAt < draftStartedAt) return draftStartedAt;\r\n\r\n      return adjustedStartedAt;\r\n    }\r\n    return loadedDate;\r\n  }\r\n\r\n  /**\r\n   * Prepare data for draft/submission of annotation\r\n   * @param {Object} annotation - The annotation object.\r\n   * @param {Object} options - The options object.\r\n   * @param {boolean} options.includeId - Whether to include the id in the result.\r\n   * @param {boolean} options.isNewDraft - Whether the draft is new.\r\n   * @returns {Object} The prepared data.\r\n   * @private\r\n   */\r\n  prepareData(annotation, { includeId, isNewDraft } = {}) {\r\n    const userGenerate = !annotation.userGenerate || annotation.sentUserGenerate;\r\n    const currentDraft = this.findActiveDraft(annotation);\r\n    const sessionTime = (Date.now() - annotation.loadedDate.getTime()) / 1000;\r\n    const submittedTime = isNewDraft ? 0 : Number(annotation.leadTime ?? 0);\r\n    const draftTime = Number(currentDraft?.lead_time ?? 0);\r\n    const leadTime = submittedTime + draftTime + sessionTime;\r\n    const startedAt = this.calculateStartedAt(currentDraft, annotation.loadedDate);\r\n\r\n    const result = {\r\n      lead_time: leadTime,\r\n      result: (isNewDraft ? annotation.versions.draft : annotation.serializeAnnotation()) ?? [],\r\n      draft_id: annotation.draftId,\r\n      parent_prediction: annotation.parent_prediction,\r\n      parent_annotation: annotation.parent_annotation,\r\n      started_at: startedAt.toISOString(),\r\n    };\r\n\r\n    if (includeId && userGenerate) {\r\n      result.id = Number.parseInt(annotation.pk);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /** @private */\r\n  setLoading(isLoading, shouldReset = false) {\r\n    if (isFF(FF_LSDV_4620_3_ML) && shouldReset) this.lsf.clearApp();\r\n    this.lsf.setFlags({ isLoading });\r\n    if (isFF(FF_LSDV_4620_3_ML) && shouldReset) this.lsf.renderApp();\r\n  }\r\n\r\n  async withinLoadingState(callback) {\r\n    let result;\r\n\r\n    this.setLoading(true);\r\n    if (callback) {\r\n      result = await callback.call(this);\r\n    }\r\n    this.setLoading(false);\r\n\r\n    return result;\r\n  }\r\n\r\n  destroy() {\r\n    // Clean up overlap error event listeners and dismiss toast (only when feature flag is enabled)\r\n    if (isFF(FF_FIT_1304_STRICT_OVERLAP)) {\r\n      window.removeEventListener(\"overlap-error-next-task\", this.handleOverlapNextTask);\r\n      window.removeEventListener(\"overlap-error-close-task\", this.handleOverlapCloseTask);\r\n      window.removeEventListener(\"overlap-error-exit-stream\", this.handleOverlapExitStream);\r\n      // Dismiss the overlap toast if it's showing - this ensures the toast doesn't\r\n      // persist after leaving the labeling interface\r\n      this.dismissOverlapToast();\r\n    }\r\n\r\n    if (isActive(FF_FIT_720_LAZY_LOAD_ANNOTATIONS)) {\r\n      imageCache?.forceClear?.();\r\n    }\r\n\r\n    this.lsfInstance?.destroy?.();\r\n    this.lsfInstance = null;\r\n  }\r\n\r\n  /**\r\n   * Close the current task panel (for DataManager context)\r\n   */\r\n  closeTask() {\r\n    // Invoke the data manager's close task action\r\n    this.datamanager.invoke(\"closeTask\");\r\n  }\r\n\r\n  get taskID() {\r\n    return this.task.id;\r\n  }\r\n\r\n  get taskHistory() {\r\n    return this.lsf.taskHistory;\r\n  }\r\n\r\n  get currentAnnotation() {\r\n    try {\r\n      return this.lsf.annotationStore.selected;\r\n    } catch {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get annotations() {\r\n    return this.lsf.annotationStore.annotations;\r\n  }\r\n\r\n  get predictions() {\r\n    return this.lsf.annotationStore.predictions;\r\n  }\r\n\r\n  /** @returns {string|null} */\r\n  get lsfConfig() {\r\n    return this.datamanager.store.labelingConfig;\r\n  }\r\n\r\n  /** @returns {Dict} */\r\n  get project() {\r\n    return this.datamanager.store.project;\r\n  }\r\n\r\n  /** @returns {string|null} */\r\n  get instruction() {\r\n    return (this.project.instruction ?? this.project.expert_instruction ?? \"\").trim() || null;\r\n  }\r\n\r\n  get canPreloadTask() {\r\n    return Boolean(this.preload?.interaction);\r\n  }\r\n}\r\n","/** @global LSF * /\r\n\r\n/**\r\n * @typedef {{\r\n *  hiddenColumns?: {\r\n *    labeling?: string[],\r\n *    explore?: string[],\r\n *  },\r\n *  visibleColumns?: {\r\n *    labeling?: string[],\r\n *    explore?: string[],\r\n *  }\r\n * }} TableConfig\r\n */\r\n\r\n/**\r\n * @typedef {{\r\n * root: HTMLElement,\r\n * polling: boolean,\r\n * apiGateway: string | URL,\r\n * apiEndpoints: import(\"../utils/api-proxy\").Endpoints,\r\n * apiMockDisabled: boolean,\r\n * apiHeaders?: Dict<string>,\r\n * settings: Dict<any>,\r\n * labelStudio: Dict<any>,\r\n * env: \"development\" | \"production\",\r\n * mode: \"labelstream\" | \"explorer\",\r\n * table: TableConfig,\r\n * links: Dict<string|null>,\r\n * showPreviews: boolean,\r\n * projectId?: number,\r\n * datasetId?: number,\r\n * interfaces: Dict<boolean>,\r\n * instruments: Dict<any>,\r\n * toolbar?: string,\r\n * spinner?: import(\"react\").ReactNode\r\n * apiTransform?: Record<string, Record<string, Function>\r\n * tabControls?: { add?: boolean, delete?: boolean, edit?: boolean, duplicate?: boolean },\r\n * }} DMConfig\r\n */\r\n\r\nimport { inject, observer } from \"mobx-react\";\r\nimport { destroy } from \"mobx-state-tree\";\r\nimport { unmountComponentAtNode } from \"react-dom\";\r\nimport camelCase from \"lodash/camelCase\";\r\nimport { instruments } from \"../components/DataManager/Toolbar/instruments\";\r\nimport { APIProxy } from \"../utils/api-proxy\";\r\nimport { objectToMap } from \"../utils/helpers\";\r\nimport { serializeJsonForUrl, deserializeJsonFromUrl } from \"@humansignal/core\";\r\nimport { isDefined } from \"../utils/utils\";\r\nimport { APIConfig } from \"./api-config\";\r\nimport { createApp } from \"./app-create\";\r\nimport { LSFWrapper } from \"./lsf-sdk\";\r\nimport { taskToLSFormat } from \"./lsf-utils\";\r\n\r\nconst DEFAULT_TOOLBAR =\r\n  \"actions columns filters ordering label-button loading-possum error-box | refresh import-button export-button density-toggle grid-size view-toggle\";\r\n\r\nconst prepareInstruments = (instruments) => {\r\n  const result = Object.entries(instruments).map(([name, builder]) => [name, builder({ inject, observer })]);\r\n\r\n  return objectToMap(Object.fromEntries(result));\r\n};\r\n\r\nexport class DataManager {\r\n  /** @type {HTMLElement} */\r\n  root = null;\r\n\r\n  /** @type {APIProxy} */\r\n  api = null;\r\n\r\n  /** @type {import(\"./lsf-sdk\").LSFWrapper} */\r\n  lsf = null;\r\n\r\n  /** @type {Dict} */\r\n  settings = {};\r\n\r\n  /** @type {import(\"../stores/AppStore\").AppStore} */\r\n  store = null;\r\n\r\n  /** @type {Dict<any>} */\r\n  labelStudioOptions = {};\r\n\r\n  /** @type {\"development\" | \"production\"} */\r\n  env = \"development\";\r\n\r\n  /** @type {\"explorer\" | \"labelstream\"} */\r\n  mode = \"explorer\";\r\n\r\n  /** @type {TableConfig} */\r\n  tableConfig = {};\r\n\r\n  /** @type {Dict<string|null>} */\r\n  links = {\r\n    import: \"/import\",\r\n    export: \"/export\",\r\n    settings: \"./settings\",\r\n  };\r\n\r\n  /**\r\n   * @private\r\n   * @type {Map<String, Set<Function>>}\r\n   */\r\n  callbacks = new Map();\r\n\r\n  /**\r\n   * @private\r\n   * @type {Map<String, Set<Function>>}\r\n   */\r\n  actions = new Map();\r\n\r\n  /** @type {Number} */\r\n  apiVersion = 1;\r\n\r\n  /** @type {boolean} */\r\n  showPreviews = false;\r\n\r\n  /** @type {boolean} */\r\n  polling = true;\r\n\r\n  /** @type {boolean} */\r\n  started = false;\r\n\r\n  instruments = new Map();\r\n\r\n  /**\r\n   * @type {DMConfig.tabControls}\r\n   */\r\n  tabControls = {\r\n    add: true,\r\n    delete: true,\r\n    edit: true,\r\n    duplicate: true,\r\n  };\r\n\r\n  /** @type {\"dm\" | \"labelops\"} */\r\n  type = \"dm\";\r\n\r\n  /** @type {string} */\r\n  role = null;\r\n\r\n  /**\r\n   * Constructor\r\n   * @param {DMConfig} config\r\n   */\r\n  constructor(config) {\r\n    this.root = config.root;\r\n    this.project = config.project;\r\n    this.projectId = config.projectId ?? this?.project?.id;\r\n    this.dataset = config.dataset;\r\n    this.datasetId = config.datasetId;\r\n    this.settings = config.settings;\r\n    this.labelStudioOptions = config.labelStudio;\r\n    this.env = config.env ?? process.env.NODE_ENV ?? this.env;\r\n    this.mode = config.mode ?? this.mode;\r\n    this.tableConfig = config.table ?? {};\r\n    this.apiVersion = config?.apiVersion ?? 1;\r\n    this.links = Object.assign(this.links, config.links ?? {});\r\n    this.showPreviews = config.showPreviews ?? false;\r\n    this.polling = config.polling;\r\n    this.toolbar = config.toolbar ?? DEFAULT_TOOLBAR;\r\n    this.spinner = config.spinner;\r\n    this.spinnerSize = config.spinnerSize;\r\n    this.instruments = prepareInstruments(config.instruments ?? {});\r\n    this.apiTransform = config.apiTransform ?? {};\r\n    this.preload = config.preload ?? {};\r\n    this.role = config.role ?? null;\r\n    this.interfaces = objectToMap({\r\n      tabs: true,\r\n      toolbar: true,\r\n      import: true,\r\n      export: true,\r\n      labelButton: true,\r\n      backButton: true,\r\n      labelingHeader: true,\r\n      groundTruth: false,\r\n      instruction: false,\r\n      autoAnnotation: false,\r\n      ...config.interfaces,\r\n    });\r\n\r\n    this.api = new APIProxy(\r\n      this.apiConfig({\r\n        apiGateway: config.apiGateway,\r\n        apiEndpoints: config.apiEndpoints,\r\n        apiMockDisabled: config.apiMockDisabled,\r\n        apiSharedParams: config.apiSharedParams,\r\n        apiHeaders: config.apiHeaders,\r\n      }),\r\n    );\r\n\r\n    Object.assign(this.tabControls, config.tabControls ?? {});\r\n\r\n    this.updateActions(config.actions);\r\n\r\n    this.type = config.type ?? \"dm\";\r\n\r\n    this.initApp();\r\n  }\r\n\r\n  get isExplorer() {\r\n    return this.mode === \"labeling\";\r\n  }\r\n\r\n  get isLabelStream() {\r\n    return this.mode === \"labelstream\";\r\n  }\r\n\r\n  get projectId() {\r\n    return (this._projectId = this._projectId ?? this.root?.dataset?.projectId);\r\n  }\r\n\r\n  set projectId(value) {\r\n    this._projectId = value;\r\n  }\r\n\r\n  apiConfig({ apiGateway, apiEndpoints, apiMockDisabled, apiSharedParams, apiHeaders }) {\r\n    const config = Object.assign({}, APIConfig);\r\n\r\n    config.gateway = apiGateway ?? config.gateway;\r\n    config.mockDisabled = apiMockDisabled;\r\n    config.commonHeaders = apiHeaders;\r\n\r\n    Object.assign(config.endpoints, apiEndpoints ?? {});\r\n    const sharedParams = {};\r\n\r\n    if (!isNaN(this.projectId)) {\r\n      sharedParams.project = this.projectId;\r\n    }\r\n    if (!isNaN(this.datasetId)) {\r\n      sharedParams.dataset = this.datasetId;\r\n    }\r\n    Object.assign(config, {\r\n      sharedParams: {\r\n        ...sharedParams,\r\n        ...(apiSharedParams ?? {}),\r\n      },\r\n    });\r\n\r\n    return config;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../stores/Action.js\").Action} action\r\n   */\r\n  addAction(action, callback) {\r\n    const { id } = action;\r\n\r\n    if (!id) throw new Error(\"Action must provide a unique ID\");\r\n\r\n    this.actions.set(id, { action, callback });\r\n\r\n    const actions = Array.from(this.actions.values()).map(({ action }) => action);\r\n\r\n    this.store?.setActions(actions);\r\n  }\r\n\r\n  removeAction(id) {\r\n    this.actions.delete(id);\r\n    this.store.removeAction(id);\r\n  }\r\n\r\n  getAction(id) {\r\n    return this.actions.get(id)?.callback;\r\n  }\r\n\r\n  installActions() {\r\n    this.actions.forEach(({ action, callback }) => {\r\n      this.addAction(action, callback);\r\n    });\r\n  }\r\n\r\n  updateActions(actions) {\r\n    if (!Array.isArray(actions)) return;\r\n\r\n    actions.forEach(([action, callback]) => {\r\n      if (!isDefined(action.id)) {\r\n        throw new Error(\"Every action must provide a unique ID\");\r\n      }\r\n      this.addAction(action, callback);\r\n    });\r\n  }\r\n\r\n  registerInstrument(name, initializer) {\r\n    if (instruments[name]) {\r\n      return console.warn(`Can't override native instrument ${name}`);\r\n    }\r\n\r\n    this.instruments.set(\r\n      name,\r\n      initializer({\r\n        store: this.store,\r\n        observer,\r\n        inject,\r\n      }),\r\n    );\r\n\r\n    this.store.updateInstruments();\r\n  }\r\n\r\n  /**\r\n   * Assign an event handler\r\n   * @param {string} eventName\r\n   * @param {Function} callback\r\n   */\r\n  on(eventName, callback) {\r\n    if (this.lsf && eventName.startsWith(\"lsf:\")) {\r\n      const evt = camelCase(eventName.replace(/^lsf:/, \"\"));\r\n\r\n      this.lsf?.lsfInstance?.on(evt, callback);\r\n    }\r\n\r\n    const events = this.getEventCallbacks(eventName);\r\n\r\n    events.add(callback);\r\n    this.callbacks.set(eventName, events);\r\n  }\r\n\r\n  /**\r\n   * Remove an event handler\r\n   * If no callback provided, all assigned callbacks will be removed\r\n   * @param {string} eventName\r\n   * @param {Function?} callback\r\n   */\r\n  off(eventName, callback) {\r\n    if (this.lsf && eventName.startsWith(\"lsf:\")) {\r\n      const evt = camelCase(eventName.replace(/^lsf:/, \"\"));\r\n\r\n      this.lsf?.lsfInstance?.off(evt, callback);\r\n    }\r\n\r\n    const events = this.getEventCallbacks(eventName);\r\n\r\n    if (callback) {\r\n      events.delete(callback);\r\n    } else {\r\n      events.clear();\r\n    }\r\n  }\r\n\r\n  removeAllListeners() {\r\n    const lsfEvents = Array.from(this.callbacks.keys()).filter((evt) => evt.startsWith(\"lsf:\"));\r\n\r\n    lsfEvents.forEach((evt) => {\r\n      const callbacks = Array.from(this.getEventCallbacks(evt));\r\n      const eventName = camelCase(evt.replace(/^lsf:/, \"\"));\r\n\r\n      callbacks.forEach((clb) => this.lsf?.lsfInstance?.off(eventName, clb));\r\n    });\r\n\r\n    this.callbacks.clear();\r\n  }\r\n\r\n  /**\r\n   * Check if an event has at least one handler\r\n   * @param {string} eventName Name of the event to check\r\n   */\r\n  hasHandler(eventName) {\r\n    return this.getEventCallbacks(eventName).size > 0;\r\n  }\r\n\r\n  /**\r\n   * Check if interface is enabled\r\n   * @param {string} name Name of the interface\r\n   */\r\n  interfaceEnabled(name) {\r\n    return this.store.interfaceEnabled(name);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {\"explorer\" | \"labelstream\"} mode\r\n   */\r\n  setMode(mode) {\r\n    const modeChanged = mode !== this.mode;\r\n\r\n    this.mode = mode;\r\n    this.store.setMode(mode);\r\n\r\n    if (modeChanged) this.invoke(\"modeChanged\", this.mode);\r\n  }\r\n\r\n  /**\r\n   * Invoke handlers assigned to an event\r\n   * @param {string} eventName\r\n   * @param {any[]} args\r\n   */\r\n  async invoke(eventName, ...args) {\r\n    if (eventName.startsWith(\"lsf:\")) return;\r\n\r\n    this.getEventCallbacks(eventName).forEach((callback) => callback.apply(this, args));\r\n  }\r\n\r\n  /**\r\n   * Get callbacks set for a particular event\r\n   * @param {string} eventName\r\n   */\r\n  getEventCallbacks(eventName) {\r\n    return this.callbacks.get(eventName) ?? new Set();\r\n  }\r\n\r\n  /** @private */\r\n  async initApp() {\r\n    this.store = await createApp(this.root, this);\r\n    this.invoke(\"ready\", [this]);\r\n  }\r\n\r\n  initLSF(element) {\r\n    if (this.lsf) return;\r\n\r\n    this.lsf = new LSFWrapper(this, element, {\r\n      ...this.labelStudioOptions,\r\n      task: this.store.taskStore.selected,\r\n      preload: this.preload,\r\n      // annotation: this.store.annotationStore.selected,\r\n      isLabelStream: this.mode === \"labelstream\",\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initialize LSF or use already initialized instance.\r\n   * Render LSF interface and load task for labeling.\r\n   * @param {HTMLElement} element Root element LSF will be rendered into\r\n   * @param {import(\"../stores/Tasks\").TaskModel} task\r\n   */\r\n  async startLabeling() {\r\n    if (!this.lsf) return;\r\n\r\n    const [task, annotation] = [this.store.taskStore.selected, this.store.annotationStore.selected];\r\n\r\n    const isLabelStream = this.mode === \"labelstream\";\r\n    const taskExists = isDefined(this.lsf.task) && isDefined(task);\r\n    const taskSelected = this.lsf.task?.id === task?.id;\r\n\r\n    // do nothing if the task is already selected\r\n    if (taskExists && taskSelected) {\r\n      return;\r\n    }\r\n\r\n    if (!isLabelStream && (!taskSelected || isDefined(annotation))) {\r\n      const annotationID = annotation?.id ?? task.lastAnnotation?.id;\r\n\r\n      // this.lsf.loadTask(task.id, annotationID);\r\n      this.lsf.selectTask(task, annotationID);\r\n    }\r\n  }\r\n\r\n  destroyLSF() {\r\n    this.invoke(\"beforeLsfDestroy\", this, this.lsf?.lsfInstance);\r\n    this.lsf?.destroy();\r\n    this.lsf = undefined;\r\n  }\r\n\r\n  destroy(detachCallbacks = true) {\r\n    this.destroyLSF();\r\n    unmountComponentAtNode(this.root);\r\n\r\n    if (this.store) {\r\n      destroy(this.store);\r\n    }\r\n\r\n    if (detachCallbacks) {\r\n      this.callbacks.forEach((callbacks) => callbacks.clear());\r\n      this.callbacks.clear();\r\n    }\r\n  }\r\n\r\n  reload() {\r\n    this.destroy(false);\r\n    this.initApp();\r\n    this.installActions();\r\n  }\r\n\r\n  async apiCall(...args) {\r\n    return this.store.apiCall(...args);\r\n  }\r\n\r\n  getInstrument(name) {\r\n    return instruments[name] ?? this.instruments.get(name) ?? null;\r\n  }\r\n\r\n  hasInterface(name) {\r\n    return this.interfaces.get(name) === true;\r\n  }\r\n\r\n  get toolbarInstruments() {\r\n    const sections = this.toolbar.split(\"|\").map((s) => s.trim());\r\n\r\n    const instrumentsList = sections.map((section) => {\r\n      return section.split(\" \").filter((instrument) => {\r\n        const nativeInstrument = !!instruments[instrument];\r\n        const customInstrument = !!this.instruments.has(instrument);\r\n\r\n        if (!nativeInstrument && !customInstrument) {\r\n          console.warn(`Unknwown instrument detected: ${instrument}. Did you forget to register it?`);\r\n        }\r\n\r\n        return nativeInstrument || customInstrument;\r\n      });\r\n    });\r\n\r\n    return instrumentsList;\r\n  }\r\n  static urlJSON = { serializeJsonForUrl, deserializeJsonFromUrl };\r\n  static taskToLSFormat = taskToLSFormat;\r\n}\r\n","import { DataManager } from \"./sdk\";\r\n\r\nwindow.DataManager = DataManager;\r\n\r\nexport default DataManager;\r\n","/**\r\n * Returns the base URL for documentation depending on deployment type.\r\n * - Enterprise: https://docs.humansignal.com/\r\n * - Open Source: https://labelstud.io/\r\n */\r\nexport function getDocsBaseUrl(): string {\r\n  if (typeof window !== \"undefined\" && window.APP_SETTINGS?.billing?.enterprise) {\r\n    return \"https://docs.humansignal.com/\";\r\n  }\r\n  return \"https://labelstud.io/\";\r\n}\r\n\r\n/**\r\n * Returns a full documentation URL for the current deployment type.\r\n *\r\n * Usage:\r\n *   getDocsUrl('guide/labeling') // same path for both domains\r\n *   getDocsUrl('guide/labeling', 'guide/label-guide') // first param for labelstud.io, second for docs.humansignal.com\r\n *\r\n * @param pathOSS - Path for labelstud.io (and default for both if only one param)\r\n * @param pathEnterprise - Optional path for docs.humansignal.com\r\n * @returns {string} Full documentation URL\r\n */\r\nexport function getDocsUrl(pathOSS: string, pathEnterprise?: string): string {\r\n  const base = getDocsBaseUrl();\r\n  const isEnterprise = typeof window !== \"undefined\" && window.APP_SETTINGS?.billing?.enterprise;\r\n  const path = isEnterprise && pathEnterprise ? pathEnterprise : pathOSS;\r\n  return `${base.replace(/\\/$/, \"\")}/${path.replace(/^\\//, \"\")}`;\r\n}\r\n"],"names":["MenuContext","React","menuCN","cn","Menu","children","className","style","size","selectedKeys","closeDropdownOnItemClick","ref","dropdown","useDropdown","selected","useMemo","Set","clickHandler","useCallback","e","elem","closest","target","close","collapsed","_jsx","Provider","value","clsx","toString","mod","onClick","Item","_ref","name","label","icon","to","href","danger","variant","exact","forceReload","active","disabled","tooltip","tooltipAlignment","rest","_objectWithoutPropertiesLoose","_excluded","rootClass","isActive","pathname","window","location","replace","url","has","includes","linkContent","_jsxs","_Fragment","isNegative","linkAttributes","Object","assign","look","mix","preventDefault","stopPropagation","undefined","menuItem","Tooltip","title","alignment","Spacer","Divider","Builder","menuItems","map","item","index","path","Group","ErrorRenderer","error","i","_error$response","response","detail","ErrorBox","inject","store","errors","serverErrors","injector","Dropdown","Trigger","content","Array","from","values","Button","type","leading","IconInfo","_store$currentView$ta","_store$currentView","columns","currentView","targetColumns","FieldsMenu","observer","WrapperComponent","onReset","resetTitle","MenuItem","col","_col$enterprise_badge","_col$original","enterpriseBadge","enterprise_badge","original","shouldDisable","titleContent","key","wra","column","EnterpriseBadge","ghost","wrap","parent","FieldsButton","wrapper","trailingIcon","filter","tooltipTheme","openUpwardForShortViewport","dataTestId","push","maxHeight","overflow","toClassName","zIndex","trailing","length","Checkbox","width","display","alignItems","justifyContent","gap","flex","minWidth","checked","is_hidden","onChange","toggleVisibility","flexShrink","colors","red","volcano","orange","gold","yellow","lime","green","cyan","blue","geekBlue","purple","magenta","Tag","color","finalColor","entries","colorString","baseColor","background","desaturate","brighten","prepareColor","_colors$colorString","reduce","res","styles","isDefined","compareCase","caseValue","isArray","Oneof","selectedChild","find","c","props","case","cloneElement","join","FormContext","createContext","displayName","FormValidationContext","FormSubmissionContext","FormStateContext","FormResponseContext","jsonReviverWithBigInt","_key","context","source","Math","abs","Number","MAX_SAFE_INTEGER","objectToMap","object","Map","filename","string","_string$split$slice$","_string$split$slice$2","split","slice","match","isEmptyString","trim","isEmpty","keys","isEmptyObject","isEmptyArray","camelizeKeys","pairs","prototype","call","camelCase","fromEntries","hasProperties","obj","properties","all","prop","hasOwnProperty","findIndex","objectClean","cleanObject","required","fieldName","matchPattern","pattern","RegExp","json","err","test","JSON","parse","regexp","FormField","forwardRef","validate","skip","allowEmpty","skipAutofill","setValue","dependency","validators","useContext","dependencyField","setDependencyField","useState","field","useRef","validation","forEach","validator","validatorFunc","Validators","useEffect","dep","getFieldContext","handler","onDependencyChanged","addEventListener","console","warn","removeEventListener","setValueCallback","current","formField","HTMLElement","log","Function","evt","document","createEvent","initEvent","dispatchEvent","isProtected","registerField","unregisterField","useValueTracker","defaultValue","initialValue","finalValue","Label","text","placement","description","large","simple","flat","tagName","mods","withDescription","empty","createElement","allowedKeys","CounterContext","CounterButton","currentValue","min","max","onClickHandler","compareLimit","onMouseDownCapture","IconMinus","IconPlus","_props$min","_props$max","_props$autofocus","_props$disabled","labelProps","editable","postfix","NEGATIVE_INFINITY","POSITIVE_INFINITY","normalizeValue","val","String","setCurrentValue","focused","setFocused","autofocus","setDisabled","setNewValue","newValue","increase","_props$step","step","decrease","_props$step2","onInputHandler","allowedKey","k","metaKey","onPasteHandler","nativeEvent","clipboardData","getData","onChangeHandler","onFocusHandler","onFocus","onBlurHandler","onBlur","input","_document$activeEleme","activeElement","blur","focus","getSelection","removeAllRanges","f","depDisabled","fieldDisabled","contextValue","displayValue","withPostfix","readOnly","onKeyDown","onPaste","under","classList","options","contentClassName","selectWrapper","SelectUI","triggerClassName","toJSON","_ref3","defaultChecked","initialChecked","_ref2","isChecked","setIsChecked","UiToggle","Space","direction","spread","stretch","align","SDKContext","SDKProvider","sdk","useSDK","MultiProvider","_props$providers","providers","reverse","provider","PASSWORD_PROTECTED_VALUE","Form","Component","constructor","args","_this","this","state","showValidation","submitting","formElement","createRef","apiRef","fields","onFormSubmitted","async","validateFields","setState","submit","onFormChanged","autosubmit","api","componentDidMount","formData","fillFormData","componentDidUpdate","prevProps","_prevProps$formData","_this$props$formData","shallowEqualObjects","render","lastResponse","action","onSubmit","autoComplete","autoSave","ValidationRenderer","existingField","add","setTimeout","fillWithFormData","delete","getField","_this$getFieldContext","disableValidationMessage","enableValidationMessage","onAutoSubmit","clearTimeout","submittibg","debounce","assembleFormData","asJSON","full","fieldsFilter","requestBody","_field$dataset$type","skipEmpty","skipProtected","skipField","fieldType","dataset","inputValue","FormData","append","_this$props$prepareDa","_this$props$prepareDa2","_this$props","rawAction","getAttribute","useApi","isValidMethod","data","body","prepareData","success","submitWithAPI","submitWithFetch","_this$props$params","_this$props$onSubmit","_this$props3","urlParams","params","_this$props$onError","_this$props2","onError","_this$props$method","method","toUpperCase","fetch","_this$props$onError2","_this$props5","result","_this$props$onSubmit2","_this$props4","validation_errors","messages","set","ok","_this$props$onError3","_this$props6","resetValidation","clear","validateField","_element$value","element","_this$props$formData2","message","Validator","Row","columnCount","rowGap","defaultFields","defaultFormData","fetchFields","fetchFormData","formRowStyle","withActions","triggerAction","formRef","setFields","setFormData","renderFields","_formData$field$name","_field$name","trigger_form_update","restProps","_excluded2","getValue","commonProps","updateFields","updateFormData","InputComponent","Select","Counter","Toggle","Input","renderColumns","columnClassName","newFields","stringify","newFormData","handleOnSubmit","Actions","contextType","valid","extra","Indicator","ResponseParser","callback","Error","FilterDropdown","placeholder","items","multiple","optionRender","dropdownClassName","outputFormat","searchFilter","parseItems","_item$original","_item$title","_item$value","_item$disabled","_item$options","OptionVisuals","_item$label","_outputFormat","searchable","isVirtualList","func","wait","immediate","timeout","callNow","later","apply","BooleanFilter","valueType","_props$value","Common","DatePicker","selectRange","showTime","dateFormat","timeFormat","finalFormat","datepickerRef","dropdownRef","formatDate","date","parsedDate","Date","now","isValid","format","initialStartDate","initialEndDate","concat","realStartDate","setRealStartDate","realEndDate","setRealEndDate","startDate","setStartDate","endDate","setEndDate","updateDate","dateSetter","realDateSetter","isMatch","realDate","dateRange","_dropdownRef$current","_dropdownRef$current2","toggle","DP","onSelect","monthsShown","selectsRange","showTimeSelect","inline","backgroundColor","borderRadius","range","DateTimeInput","time","onValueChange","selectedDate","d","toISOString","dateValue","DateFields","extraProps","DateFilter","DatetimeFilter","defaultFilterItems","VariantSelect","schema","_filter$cellView","_filter$cellView2","_filter$cellView3","selectedValue","filterItems","cellView","FilterItem","ListFilter","_props$schema","_props$schema2","FilterInput","inputRef","rawClassName","_inputRef$current$val","_inputRef$current","_inputRef$current2","NumberInput","cleaned","valueFilter","RangeInput","_value$min","_value$max","padding","NumberFilter","BaseInput","StringFilter","stateRegistry","getStatesByEntityType","textLabel","formatStateName","colorClasses","getStateColorClass","Badge","onSearch","option","toLowerCase","selectedValueRenderer","TaskStateFilter","EXCLUDED_FILTER_OPERATIONS","DE","dm","allowedFilterOperations","operationsList","op","FilterOperation","operator","_cellView$customOpera","_FilterInputs$filter$","_getRoot","_filter$schema$multip2","_filter$schema2","types","customOperators","FilterInputs","currentType","t","setOperator","saveFilter","save","availableOperators","filterOperators","operatorList","getRoot","SDK","isAnnotationResultsFilterColumn","allowedOperators","some","o","operators","_filter$schema$multip","_filter$schema","columnClass","selectedKey","_createElement","id","Icon","Conjunction","view","conjunction","textAlign","setConjunction","FilterLine","availableFilters","sidebar","childFilter","child_filter","hasChild","fontSize","paddingRight","query","_option$original","_original$field$title","_original$field","_original$field$paren","_original$field2","setFilterDelayed","showEnterpriseBadge","marginLeft","border","IconClose","dropdownWidth","_option$original2","_original$field$title2","_original$field3","_original$field$paren2","_original$field4","Filters","_store$currentView$cu","views","viewsStore","filters","currentFilters","sidebarEnabled","_res$target","groupTitle","s","group","withFilters","createFilter","expandFilters","IconChevronRight","FiltersButton","_viewsStore$sidebarEn","_currentView$filtersA","activeFiltersNumber","filtersApplied","buttonInjector","hasFilters","toggleSidebar","IconChevronDown","FiltersPane","_store$viewsStore$sid","_store$viewsStore","_dropdown$current","isChildValid","ele","Interface","interfaces","get","SDKButton","_props$size","_props$look","_props$variant","eventName","testId","hasHandler","invoke","ImportButton","_objectDestructuringEmpty","ExportButton","_ref4","FF_DEV_2536","FF_DEV_2887","FF_DEV_3034","FF_LOPS_E_3","FF_LSDV_4620_3_ML","FF_DISABLE_GLOBAL_USER_FETCHING","FF_FIT_1304_STRICT_OVERLAP","flags","isFF","_window","_window$APP_SETTINGS2","featureFlags","_window$APP_SETTINGS","APP_SETTINGS","feature_flags","override","fflag_fix_front_lsdv_4620_memory_leaks_100723_short","sentry_environment","feature_flags_default_value","isFFLOPSE3","_store$currentView$se","hasSelected","DialogContent","form","isLoading","setIsLoading","fetchActionForm","then","finally","marginTop","Spinner","paddingTop","ActionButton","parentRef","_action$children","_store$currentView3","_action$children2","isDeleteAction","hasChildren","submenuRef","_store$currentView2","_parentRef$current","snapshot","invokeAction","titleContainer","hasSeperator","hasSubMenu","isSeparator","isTitle","disabledReason","childAction","IconTrash","disabled_reason","destructive","dialog","_Modal$dialogType","dialogType","Modal","confirm","dialogTitle","dialogText","okButtonText","objectType","delete_tasks","delete_annotations","delete_predictions","delete_reviews","delete_reviewers","delete_annotators","delete_ground_truths","word","charAt","buttonLook","okText","onOk","_formRef$current","closeOnClickOutside","ActionsButton","selectedCount","isOpen","setIsOpen","actions","serverActions","isFetching","useActions","enabled","staleTime","cacheTime","projectId","queryKey","isError","refetch","useQuery","queryFn","_window2","DM","apiCall","actionButtons","availableActions","a","hidden","sort","b","order","recordTypeLabel","onToggle","RadioContext","RadioGroup","DENSITY_STORAGE_KEY","DENSITY_COMFORTABLE","DENSITY_COMPACT","DensityToggle","densityInjector","storageKey","density","setDensity","localStorage","getItem","setItem","CustomEvent","IconRows3","IconRows4","GridWidthButton","_view$fieldsAsColumns","_cols$some","hasImage","fieldsAsColumns","isGrid","gridWidth","fitImagesToWidth","gridFitImagesToWidth","setWidth","setGridWidthStore","setGridWidth","newWidth","handleFitImagesToWidthToggle","setFitImagesToWidth","ButtonGroup","IconSettings","LabelButton","_store$project$task_c","_store$project","_store$project2","_dataStore$total","_currentView$target","dataStore","totalTasks","project","task_count","task_number","foundTasks","total","canLabel","allSelected","triggerRef","handleClickOutside","el","contains","capture","primaryStyle","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","onLabelAll","startLabelStream","onLabelVisible","default","x1","x2","visible","_SDK$spinnerSize$larg","_SDK$spinnerSize","_SDK$spinnerSize$midd","_SDK$spinnerSize2","_SDK$spinnerSize$smal","_SDK$spinnerSize3","_SDK$spinnerSize$midd2","_SDK$spinnerSize4","spinnerSize","middle","small","Running","ExternalSpinner","spinner","height","src","srcSet","objectFit","alt","LoadingPossum","loading","locked","OrderButton","ordering","currentOrder","_ordering$column","marginRight","setOrdering","_col$orderable","orderable","desc","IconSortUp","IconSortDown","RefreshButton","needsDataFetch","projectFetch","waiting","fetchProject","force","interaction","reload","IconRefresh","viewInjector","ViewToggle","setType","IconList","IconGrid","setTarget","ImportButtonWithChecks","_window$APP_SETTINGS$","_window$APP_SETTINGS$2","simpleButton","isOpenSource","billing","isStarterCloud","isStarterCloudPlan","isTrialExpired","checks","is_license_expired","subscriptionPeriodEnd","subscription","current_period_end","isStarterCloudExpiredTrial","isStarterCloudExpiredSubscription","maxWidth","instruments","view-toggle","density-toggle","iconProps","grid-size","refresh","loading-possum","label-button","error-box","import-button","export-button","APIProxy","_options$commonHeader","_options$mockDelay","_options$mockDisabled","_options$sharedParams","_options$alwaysExpect","gateway","commonHeaders","mockDelay","mockDisabled","requestMode","sharedParams","resolveGateway","detectMode","alwaysExpectJSON","endpoints","resolveMethods","headers","URL","search","hash","origin","parentPath","settings","methodName","_this$getSettings","getSettings","scope","restSettings","defineProperty","createApiCallExecutor","methodSettings","raw","responseResult","responseMeta","queryCacheParams","_methodSettings$param","_this$sharedParams","_methodSettings$metho","_this$commonHeaders","_methodSettings$heade","finalParams","__useQueryCache","paramsForRequest","_useQueryCache$stale","_useQueryCache$prefi","keyPrefix","prefixKey","apiCallURL","createUrl","requestMethod","initialheaders","getDefaultHeaders","requestHeaders","Headers","requestParams","mode","credentials","doFetch","contentType","extendedBody","createRequestBody","bodyToJSON","rawResponse","mock","isCanceled","status","responseText","responseData","jsonString","convert","generateException","generateError","configurable","enumerable","writable","cacheKey","queryClient","fetchQuery","shouldBypassCache","exception","getSettingsByMethodName","endpoint","usedKeys","resolvedPath","resolvedMethod","resolveEndpoint","p","processedPath","keyRaw","optional","searchParams","_finalEndpoint$match","finalEndpoint","methodRegexp","formDataToJPO","fetchResponse","_exception$message","statusCodes","details","parsedDetails","mockRequest","request","_this2","Promise","resolve","fakeRequest","Request","APIConfig","users","user","tabs","tab","createTab","updateTab","orderTab","deleteTab","userLabelsForProject","saveUserLabels","tasks","taskHistory","annotations","task","nextTask","annotation","presignUrlForTask","presignUrlForProject","submitAnnotation","updateAnnotation","deleteAnnotation","taskDrafts","updateDraft","deleteDraft","createDraftForAnnotation","createDraftForTask","convertToDraft","setSelectedItems","addSelectedItem","actionForm","deleteSelectedItem","listComments","createComment","updateComment","deleteComment","TabsMenu","closable","clonable","virtual","willLeave","showDivider","domEvent","TabsContext","tabsCN","Tabs","activeTab","onAdd","onDragEnd","tabBarExtraContent","allowedActions","addIcon","selectedTab","setSelectedTab","switchTab","lastTab","role","DragDropContext","Droppable","droppableId","provided","innerRef","droppableProps","TabsItem","onFinishEditing","onCancelEditing","onClose","onDuplicate","onSave","deletable","managable","currentTitle","setCurrentTitle","savedTitle","setSavedTitle","renameMode","setRenameMode","isMenuOpen","setIsMenuOpen","tabIsEditable","edit","tabIsDeletable","tabIsCloneable","duplicate","showMenu","saveTabTitle","ev","isEnter","isEscape","handleKeyDown","tabLabel","menuOpen","IconDragIndicator","tabIndex","autoFocus","whiteSpace","textOverflow","IconEllipsisVertical","FiltersSidebar","sidebarVisible","sidebarInjector","collapseFilters","IconChevronLeft","keymap","shortcut","useShortcut","actionName","showShortcut","dependencies","_action$shortcut","isMacos","navigator","platform","macos","other","customMapping","lookupHotkey","useHotkeys","keyup","str","toStudlyCaps","readableShortcut","formatNumber","num","number","toFixed","Agreement","cell","setContent","basePopoverEnabled","enterprise","colId","alias","isDimensionAgreementColumn","pop","startsWith","isAgreementPopoverEnabled","handleClick","jsx","score","percentage","Popover","trigger","userSelectable","AgreementSelected","threshold","agreement_selected_threshold","total_annotations","IconInfoOutline","HeaderCell","agreementFilters","SelectSize","UserSelect","_filter$view","setSearch","setSelectedValue","debouncedSearch","hasMore","loadMore","useDataManagerUsers","pageSize","isDeleted","_data$pages$flatMap","_data$pages$0$count","_data$pages$","FF_DM_FILTER_MEMBERS","hasNextPage","fetchNextPage","isFetchingNextPage","useInfiniteQuery","pageParam","page","page_size","is_deleted","selected_value","count","_queryClient$getQuery","getQueryData","pages","selectedUser","results","getNextPageParam","lastPage","allPages","totalCount","currentPage","flatMap","_page$results","userDisplayName","email","username","Userpic","showName","_onChange","queryString","_user$id","_user$email","_user$displayName","_user$username","SMALL","itemCount","isFilterMembers","Annotators","_window$APP_SETTINGS$3","maxUsersToDisplay","data_manager","max_users_to_display","userList","userPickBadge","annotatorsCN","isEnterprise","extraCount","getCountField","annotators_count","reviewers_count","comment_authors_count","_item$user","annotated","reviewed","review","userpicIsFaded","suppressStats","fullName","faded","badge","bottomRight","IconCrossAlt","IconCheckAlt","addCount","UsersInjector","userId","usersMap","firstName","lastName","_option$value","filterable","MediaSeeker","currentTime","duration","buffer","onSeekStart","onSeekEnd","video","seekerRef","progress","buffered","setBuffered","handleMouseDown","left","getBoundingClientRect","initialX","pageX","clickedProgress","seekProgress","newX","newProgress","cancelEvents","start","end","Duration","parsed","substr","unit","mediaDefaultProps","crossOrigin","initialState","loaded","playing","resetSource","globalAudioRef","MediaPlayer","media","wasPlaying","hasReloaded","currentTimeRef","setEnabled","dispatch","useReducer","payload","play","_media$current","pause","_media$current2","togglePlay","_globalAudioRef$curre","onSeek","waitForPlayer","mediaProps","controls","preload","onPlay","onPause","onTimeUpdate","onDurationChange","onCanPlay","onProgress","load","showError","MediaSource","IconTimelinePause","IconTimelinePlay","AudioCell","AudioPlusCell","BooleanCell","boolValue","dateTimeFormat","DateTimeCell","displayType","taskToLSFormat","predictions","createdAt","created_at","annotationToLSF","predictionToLSF","_annotation$lead_time","_annotation$was_cance","createdDate","draft_created_at","pk","createdAgo","created_ago","createdBy","created_username","leadTime","lead_time","skipped","was_cancelled","prediction","_prediction$model_ver","_prediction$model_ver2","model_version","getAnnotationSnapshot","serializeAnnotation","userGenerate","sentUserGenerate","imgDefaultProps","PreviewGenerator","getInstance","labelingConfig","_instance","running","queue","root","querySelector","lsf","LabelStudio","config","onLabelStudioLoad","startQueue","generatePreview","processJob","_annotation$pk","taskRaw","shift","resetState","assignTask","initializeStore","annotationStore","selectAnnotation","createPreviews","attempts","generatePreviews","AnnotationPreview","generator","preview","setPreview","position","top","transform","fallbackImage","opacity","ImageCell","renderImagePreview","showPreviews","imgSrc","NumberCell","valueToString","_unused","StringCell","lineHeight","TimeCell","formatTime","VideoCell","ProjectLink","projectID","ProjectCell","projectList","projectRef","taskStore","associatedList","proj","project_id","Boolean","Fragment","TaskState","taskId","TaskStateChip","interactive","normalizeCellAlias","safeAlias","info","modal","IndeterminateCheckbox","indeterminate","TableCheckboxCell","ariaLabel","shiftKey","tableCN","TableContext","CustomJSON","custom","toSnapshot","fromSnapshot","isTargetType","getValidationMessage","StringOrNumber","union","StringOrNumberID","identifier","identifierNumber","CustomCalback","HtmlOrReact","isValidElement","ThresholdType","model","maybeNull","ViewColumnType","enumeration","typeShortMap","Datetime","Image","Audio","AudioPlus","Video","Text","HyperText","TimeSeries","Time","ViewColumnTypeShort","typeNameMap","ViewColumnTypeName","TabColumn","defaultHidden","boolean","late","reference","array","help","self","_self$parentView$hidd","_self$parentView","boolArray","check","parentView","hiddenColumns","hasColumn","accessor","_data$self$parent$ali","_self$parent","getSnapshot","renderer","_value$toString","canOrder","isLabeling","_self$parentView2","columnsDisplayType","asField","childColumns","subColumn","IconAnnotation","IconBanSquare","IconSparkSquare","IconThumbsUp","IconThumbsDown","IconStarSquare","IconCommentCheck","IconCommentRed","readableType","_self$parentView$colu","_self$parentView3","columnsWidth","_CellViews$self$type","CellViews","endsWith","toggleColumn","setColumnDisplayType","setColumnWidth","resetWidth","calculateWidth","currentX","offset","Resizer","handleStyle","initialWidth","showResizerLine","onResize","onResizeCallback","onResizeFinished","isResizing","setIsResizing","resizeHandler","handleResize","stopResize","removeProperty","userSelect","resizing","quickview","onMouseDown","onDoubleClick","TableCell","TableCellContent","prepareColumns","getProperty","property","_result","getStyle","cellViews","decoration","_col$width","resolvedStyle","resolveStyle","cellStyle","_cellStyle","tableHeadCN","DropdownWrapper","_types","selectable","cursor","AgreementSelectedWrapper","selectedView","agreement_selected","closeHandler","_ref$current","setAgreementFilters","paddingLeft","flexGrow","ColumnRenderer","columnInput","columnHeaderExtra","sortingEnabled","stopInteractions","onTypeChange","_column$original","_style$justifyContent","_style$width","_style$minWidth","Header","headerClassName","isDE","Decoration","headContent","isAgreementSelected","FF_AGREEMENT_FILTERED","TableHead","headerRenderers","states","useLocalStore","orderedColumns","setOrderedColumns","updatedColumns","getOrderedColumns","_toJS","toJS","isDragging","setIsDragging","getIsDragging","initialDragPos","setInitialDragPos","initPos","getInitialDragPos","draggedCol","setDraggedCol","getDraggedCol","colRefs","getUpdatedColOrder","cols","colIndex","_ref$current2","event","droppable","onDragOver","setProperty","draggable","onDragStart","dataTransfer","effectAllowed","x","offsetLeft","y","offsetTop","curColumns","curCol","newIndex","_ref$current$parentEl","_ref$current3","colRefrence","clientX","parentElement","scrollLeft","clientWidth","splice","updatedColOrder","SkeletonLine","lineCount","rows","SkeletonGap","SkeletonLoader","lightColor","darkColor","CellRenderer","colInput","_id$split$","_cellViews$altType","Cell","cellClassName","valuePath","altType","Renderer","renderProps","cellIsLoading","TableRow","even","wrapperStyle","rowWrapperCN","tableRowCN","isSelected","highlighted","isHighlighted","CodeView","copied","setCopied","handleCopy","clipboard","writeText","IconCopyOutline","onViewChange","TabsList","TabsTrigger","TASK_SOURCE_FILTERS","filterFn","nodeData","TaskSourceViewer","onTaskLoad","sdkType","renderToggle","isInteractiveViewerEnabled","taskData","setTaskData","setView","resolveUrls","setResolveUrls","handleViewChange","newView","resolveUri","formatted","_response$annotations","_response$predictions","handleResolveUrlsChange","JsonViewer","inset","viewOnly","showSearch","customFilters","minHeight","readerViewThreshold","toolbarExtra","Table","_JSON$parse","selectedItems","focusedItem","onColumnResize","onColumnReset","headerExtra","onDensityChange","onRangeSelect","colOrderKey","tableHead","colOrder","setColOrder","listRef","found","resolver","Decorator","isQuickView","toolbarVisible","setToolbarVisible","lastClickedId","_listRef$current","_listRef","resetAfterIndex","rowHeight","headerCheckboxCell","isAllSelected","isIndeterminate","onSelectAll","rowCheckBoxCell","rowData","lastClickedIndex","currentIndex","startIndex","endIndex","rangeIds","onSelectRow","unshift","_data$source","_out","_out2","_out3","_out4","out","_options$resolveUri","taskID","resolve_uri","_out5","modalInstance","header","update","IconCode","renderTableToolbar","renderTableHeader","onSetOrder","list","renderRow","dataIndex","row","isEven","onRowClick","fitContent","shouldApplyBackground","isItemLoaded","cachedScrollOffset","initialScrollOffset","h","indexOf","scrollOffset","itemKey","_data$index$key","_data$index","_listRef$current2","listComponent","scrollToItem","tableWrapper","handleScroll","fit","fitToContent","StickyList","overscanCount","itemHeight","innerElementType","stickyItems","stickyItemsHeight","stickyComponent","toolbarHeight","headerHeight","onScroll","StickyListContext","ItemWrapper","headerTopOffset","itemData","StickyComponent","heightAdjustment","parseInt","getComputedStyle","documentElement","getPropertyValue","AutoSizerTable","itemSize","_excluded3","Consumer","topPosition","childrenArray","toolbar","bodyRows","AudioDataGroup","boxSizing","ImageDataGroup","imageHeight","TextDataGroup","output","ImagePreview","_task$data$field","_task$data","containerRef","imageRef","imageLoaded","setImageLoaded","containerSize","setContainerSize","imageSize","setImageSize","scale","setScale","setOffset","dragParams","dragAnchor","startOffset","constrainOffset","newOffset","containerWidth","containerHeight","minX","minY","maxX","maxY","handleImageLoad","img","currentTarget","containerRect","coverScaleX","naturalWidth","coverScaleY","naturalHeight","imageScale","scaledWidth","scaledHeight","initialY","handleWheel","rect","cursorX","cursorY","clientY","newScale","deltaY","scaleDelta","newY","handleMouseMove","oldX","oldY","offsetX","offsetY","handleMouseUp","once","containerStyle","imageStyle","transformOrigin","imageContainer","onWheel","image","onLoad","ImagePreviewWrapper","GridViewContext","imageField","currentTaskId","setCurrentTaskId","TaskModal","goToNext","goToPrev","toggleSelected","QuestionCircleOutlined","CloseOutlined","GridViewProvider","_fields$find","modalRef","_modalRef$current","bare","onHidden","_modalRef$current2","GridHeader","GridBody","groupBy","_f$parent","cnm","_field$id$split$","field_type","GridDataGroup","DataTypeComponent","DataGroups","GridCell","handleBodyClick","responsive","GridView","hiddenFields","_view$gridWidth","prevColumnCountRef","getCellIndex","fieldsData","finalRowHeight","_f$parent2","_DataGroups$f$current","loadedRows","ceil","renderItem","rowIndex","columnIndex","onItemsRenderedWrap","cb","visibleRowStartIndex","visibleRowStopIndex","overscanRowStopIndex","overscanRowStartIndex","visibleItemStopIndex","shouldLoadMore","needsMoreItemsForDisplay","hasInsufficientItems","hasVeryFewItems","overscanStartIndex","overscanStopIndex","visibleStartIndex","visibleStopIndex","rowExists","prevColumnCount","currentColumnCount","estimatedVisibleItems","innerHeight","customLoadMore","AutoSizer","InfiniteLoader","loadMoreItems","floor","minimumBatchSize","onItemsRendered","FixedSizeGrid","overscanRowCount","rowCount","columnWidth","overflowX","renderEmptyStateLayout","iconBackground","iconColor","additionalContent","footer","ariaLabelledBy","ariaDescribedBy","wrapperClassName","iconWithSize","Typography","isSingleAction","toArray","StorageProviderIcons","IconCloudProviderS3","IconCloudProviderGCS","IconCloudProviderAzure","IconCloudProviderRedis","DocumentationLink","whitelabel_is_active","getDocsUrl","rel","IconExternal","EmptyState","canImport","onOpenSourceStorageModal","onOpenImportModal","userRole","hasData","_hasData","_canLabel","onLabelAllTasks","onClearFilters","isImportEnabled","permissions","useAuth","IconSearch","IconCheck","_project$assignment_s","_project$assignment_s2","isAutoDistribution","assignment_settings","label_stream_task_distribution","isManualDistribution","IconLsLabeling","IconInbox","IconUpload","can","ABILITY","can_manage_storage","DataView","_currentView$type","_currentView$fieldsAs","_currentView$selected","_currentView$selected2","_store$isLabeling","_dataStore$list","_dataStore$total2","_dataStore$loading","_currentView$locked","_store$project$task_c2","_store$project3","_store$project4","_dataStore$selected","_store$SDK$role","_store$SDK","_store$project5","updated","viewType","hiddenColumnsList","isLocked","_store$SDK$dataset","datasetStatusID","setDatasetStatusID","_localStorage$getItem","handleDensityChange","_original$readableTyp","fontWeight","compact","IconQuestionOutline","selectAll","onRowSelect","ids","select","_item$task_id","itemID","task_id","ctrlKey","open","_store$_sdk$lsf","_sdk","saveDraft","startLabeling","renderContent","_getRoot2","deleteFilter","decorationContent","_column$help","commonDecoration","_getRoot3","_getRoot4","focusPrev","focusNext","closeLabeling","updateDatasetStatus","_dataset$status","_dataset$status2","on","off","pointerEvents","Toolbar","toolbarInstruments","section","instrument","Instrument","getInstrument","tabContentCN","shrinkWidth","summaryInjector","_project$task_count","_taskStore$total","_taskStore$totalAnnot","_taskStore$totalPredi","_project$target_synci","totalFoundTasks","totalAnnotations","totalPredictions","cloudSync","target_syncing","source_syncing","switchInjector","_store$viewsStore$all","_store$viewsStore2","_store$viewsStore3","ProjectSummary","TabsSwitch","tabControls","destination","updateViewOrder","addView","setSelected","Draggable","draggableId","draggableProps","dragHandleProps","setTitle","duplicateView","deleteView","saveVirtual","DataManager","shrink","LabelingHeader","isExplorerMode","labelStream","interfaceEnabled","IconGearNewUI","Labeling","loadingData","lsfRef","isLabelStream","initLabeling","initLSF","destroyLSF","setLabelingTableWidth","Event","innerWidth","labelingTableWidth","animated","ErrorBoundary","componentDidCatch","App","AppComponent","app","rootCN","rootClassName","QueryClientProvider","client","AuthProvider","crashed","History","getParams","urlInstance","setParams","navigate","history","replaceState","pushState","forceNavigate","resultParams","currentParams","SelectOptions","ActionFormField","ActionFormCoulmn","ActionFormRow","ActionDialog","Action","integer","newStyle","volatile","caller","guidGenerator","lgth","uniqueID","nanoid","getStoredPageSize","MixinBase","loadingItem","loadingItems","API","totalPages","itemIsLoading","_self$selected","loadTask","hasRecord","unset","withHightlight","setList","newEntity","n","setLoading","finishLoading","DataStore","modelName","listItemType","apiMethod","associatedItemType","selectedId","highlightedId","_item$id","_item$id2","requestId","debouncedFetch","updateItem","patch","create","initDebouncedFetch","timeoutId","pendingPromise","reject","cancel","_performFetch","flow","pageNumber","currentViewId","currentViewQuery","allowToCancel","highlightedID","apiMethodSettings","associatedType","listIncludes","postProcessData","compose","DataStoreItem","getParent","_self$parent2","newData","applySnapshot","markUpdated","registry","registerModel","DynamicModel","modelProperties","typeWrapper","propertyType","AnnotationModelBase","AnnotationModel","annotationID","remoteTask","rootStore","unsetTask","User","lastActivity","avatar","initials","preProcessSnapshot","sn","UserOrReference","dispatcher","cases","Assignee","user_id","hasUserProperties","fileAttributes","certainty","distance","exportedModel","TaskModelBase","comment_authors","annotators","reviewers","drafts","frozen","overlap_reached","overlap_reached_message","assigned_task","default_selected_annotation","allow_postpone","allow_skip","unique_lock_id","updated_by","_additional","candidate_task_id","lastAnnotation","mergeAnnotations","existingAnnotation","ec","draftId","loadAnnotations","TaskModel","AssociatedType","workspace","loadTaskHistory","_task$annotationId","annotationId","_getRoot$SDK","taskParams","redirect","applyTaskSnapshot","loadNextTask","_taskData$$meta","_getRoot$SDK2","$meta","labelStreamModeChanged","_getRoot$annotationSt","selectedAnnotationID","LSF","mergeSnapshot","_p$model_version$trim","_p$model_version","created_by","total_predictions","similarity_score_upper_limit","isNaN","similarityUpperLimit","_sn$reviewers","r","filterFormatters","FilterValue","FilterItemValue","FilterItemType","FilterValueList","FilterValueRange","FilterValueType","$treenode","FilterSchema","null","TabFilterType","_view$columnsDisplayT","viewColumnDisplayType","operatorNames","Operators","TabFilter","_parent","component","_Filters$self$filter$","componentValueType","_self$component","isValidFilter","isBlank","is","resultValue","_self$value$value","_self$value","_CellViews$col$type","wasValid","saved","saving","afterAttach","_self$filter","_self$view","setDefaultValue","applyChildFilter","setFilter","clearChildFilter","previousFilterType","previousFilter","typeChanged","filterChanged","markUnsaved","saveDelayed","previousValueType","_self$view2","_self$view3","markSaved","unsetSelection","clearSelection","_getOperatorDefaultVa","setValueDelayed","_sn$value","ColumnsList","TabHiddenColumns","explore","labeling","activeList","remove","_sn$explore","_sn$labeling","TabSelectedItems","listName","_getRoot$dataStore$to","afterCreate","_invokeChangeEvent","toggleSelectedAll","addItem","removeItem","toggleItem","_data$all","_data$self$listName","_sn$list","included","excluded","Tab","oldTitle","opener","enableFilters","semantic_search","defaultWidth","targetMatches","annotationResultsOK","validFilters","serializedFilters","serialize","filterModel","_filterModel$child_fi","normalizeFilterValue","formatter","dataLength","filterSnapshot","tabKey","hiddenColumnsSnapshot","_self$semantic_search","_self$semantic_search2","_self$threshold","apiVersion","toPOJO","lock","unlock","setVirtual","_self$currentOrder","setSemanticSearch","semanticSearchList","setSemanticSearchThreshold","_min","_self$semantic_search3","clamp","clearSemanticSearchThreshold","columnID","filterType","createChildFilterForType","parentFilter","ground_truth","models","destroy","_self$hiddenColumns","clone","serialized","deepEqual","snapshotToUrl","saveView","originalId","tabID","rootFilter","firstChildColumn","ft","storeValue","restoreValue","dataCleanup","_data$hiddenColumns","_data$key","createNameCopy","newName","matcher","TabStore","columnsTargetMap","columnsRaw","canClose","_self$columnsTargetMa","_cols$get","_self$selected$target","lastView","v","getViewByKey","createDefault","createDefaultView","autoselect","referrer","createSnapshot","viewSnapshot","_snapshot$title","_snapshot$id","_snapshot$key","_snapshot$hiddenColum","isVirtual","tabStorageKey","existingTabStorage","existingTabStorageParsed","urlTabIsVirtualCandidate","existingTabUrlParsed","snapshotFromUrl","urlTabNotEmpty","existingTab","existingTabKey","newTitle","newID","defaultHiddenColumns","autosave","newSnapshot","addVirtualView","defaultView","hasInterface","viewQueryParam","deserializeJsonFromUrl","serializeJsonForUrl","newViewSnapshot","removed","idList","createView","fetchColumns","targets","addedColumns","createColumnPath","parentColums","columnPath","_col$visibility_defau","_col$visibility_defau2","visibility_defaults","visibility","ch","colsList","_col$schema","_hiddenColumns$key","fetchTabs","_response$tabs","_self$selected2","tabId","snapshots","_self$columns","_dataCleanup","fetchSingleTab","_selectedItems$includ2","_self$columns2","_selectedItems$includ","tabData","_dataCleanup2","tabClean","ActivityObserver","onLine","networkActivity","AppStore","serverError","_self$dataStore","isLabelStreamMode","_self$viewsStore$sele","_self$viewsStore$sele2","labelingIsConfigured","_self$project","config_has_control_tags","_self$project$label_c","label_config_line","label_config","currentSelection","currentFilter","requestsInFlight","startPolling","_poll","polling","poll","_networkActivity","beforeDestroy","handlePopState","setMode","setActions","removeAction","enableInterface","disableInterface","setToolbar","toolbarString","setTask","region","setLoadingData","taskPromise","maxWait","_self$LSF","currentAnnotation","_self$LSF2","_self$LSF3","_self$LSF4","setLSFTask","annIDFromUrl","regionIDFromUrl","lsfAnnotation","_lsfAnnotation$pk","_self$LSF5","annID","_self$LSF6","_currentAnn$regionSto","_currentAnn$regionSto2","currentAnn","regionStore","setRegionVisible","selectRegionByID","_e","createDataStores","_res$get","_DataStores$target$cr","_DataStores$target","DataStores","_self$LSF7","confirmLabelingConfigured","nextAction","commentStore","hasUnsaved","_self$LSF8","labelingParams","viewId","tabFromURL","_self$viewsStore$view","bind","resolveURLParams","isTimer","include","_self$project2","_self$project4","newProject","hasExistingProjectData","hasNewProjectData","_self$project3","annotation_count","num_tasks_with_annotations","itemType","crash","fetchActions","updateActions","actionId","fetchUsers","fetchData","_self$project5","requests","_self$SDK$settings","_self$project6","show_annotation_history","onlyVirtualTabs","autoSelect","decodeURIComponent","projectFetched","_self$SDK$apiTransfor","_apiTransform$params","_apiTransform$body","_apiTransform$headers","_requestBody$body","isAllowCancel","controller","AbortController","signal","apiTransform","requestKey","abort","aborted","_result$response$deta","_result$response","errorHandler","_unused2","_unused3","_self$currentView","_selected$snapshot","_view$conjunction","_view$serializedFilte","viewReloaded","needsLock","actionCallback","getAction","labelStreamMode","actionParams","isSelectAll","isFilteredLabelStreamMode","_self$taskStore","_self$annotationStore","createApp","rootNode","datamanager","_response$columns","_datamanager$project","_response$error","_DataStores$annotatio","_DataStores$tasks","createDynamicModels","appStore","ReactDOM","CommentsSdk","comment","is_resolved","region_ref","classifications","draft","_await$_this$dm$apiCa","_this$lsf","listParams","expand_created_by","commentUsers","comments","enrichUsers","bindEventHandlers","DEFAULT_INTERFACES","LabelStudioDM","errorHandlerAllowSpecialErrors","_result$response2","isPaused","display_context","reason","isOverlapReached","SUPPORT_URL","OVERLAP_TOAST_ID","LSFWrapper","_this$project$review_2","initialAnnotation","isInteractivePreannotations","interfacesModifier","userLabels","from_name","ls","_taskHistory","setTaskHistory","loadUserLabels","canPreloadTask","preloadTask","onPresignUrlForProject","_","parsedUrl","protocol","fileuri","btoa","onStorageInitialized","_this$initialAnnotati","_this$initialAnnotati2","_this$task$lastAnnota","_this$task$lastAnnota2","setAnnotation","onSubmitAnnotation","_result$$meta","overlapReached","showOverlapReachedMessage","exitStream","shouldExitStream","loadNext","shouldLoadNext","submitCurrentAnnotation","showOperationToast","onUpdateAnnotation","extraData","_result$$meta2","serializedAnnotation","withinLoadingState","draftID","onDeleteAnnotation","_this$annotations","_lastAnnotation$pk","draftToast","needsDraftSave","_annotation$history","_annotation$history2","hasChanges","draftSaved","lastAdditionTime","_this$lsf2","isDraftSaving","when","_res$$meta","saveDraftImmediatelyWithResults","onSubmitDraft","studio","_response","_response2","_response$$meta","annotationDoesntExist","isNewDraft","showToast","useToast","_res$$meta2","setDraftId","onSkipTask","_result$$meta3","skipDisabled","hasForceSkipPermission","onUnskipTask","pauseAutosave","_this$lsf3","annotationData","toCache","URLSearchParams","paramName","urlParam","newRelativePathQuery","onEntityCreate","onEntityDelete","onSelectAnnotation","prevAnnotation","nextAnnotation","_nextAnnotation$histo","read_only_quick_view_enabled","setEditable","undoIdx","onNextTask","nextTaskId","nextAnnotationId","onPrevTask","prevTaskId","prevAnnotationId","restOptions","handleOverlapNextTask","handleOverlapCloseTask","closeTask","handleOverlapExitStream","_this$project$review_","enable_empty_annotation","annotator_reviewer_firewall_enabled","label_stream_navigation_disabled","review_settings","require_comment_on_reject","show_skip_button","queueTotal","reviewer_queue_total","queue_total","queueDone","queue_done","queueLeft","queue_left","queuePosition","commentClassificationConfig","comment_classification_config","lsfProperties","lsfConfig","instruction","u","forceAutoAnnotation","forceAutoAcceptSuggestions","onGroundTruth","initLabelStudio","lsfInstance","callbacks","getEventCallbacks","clb","commentId","with_comment","_task$annotations","_task$drafts","selectTask","fromHistory","_this$lsf4","newTask","noTask","setFlags","_this$task","needsAnnotationsMerge","selectPrediction","_this$lsf5","dismissOverlapToast","hasChangedTasks","lsfTask","isRejectedQueue","extracted","resetAnnotationStore","toggleInterface","overlapReachedMessage","_this$annotations2","cs","activeDrafts","draftAnnotationPk","freeze","addVersions","deleteAllRegions","deleteReadOnly","addAnnotation","comment_count","unresolved_comment_count","deserializeResults","setDraftSaved","safeUnfreeze","reinit","first","hasAutoAnnotations","showPredictions","show_collab_predictions","addAnnotationFromPrediction","createAnnotation","predictionByModelVersion","_this$lsf6","expand","_userLabels$results","_result$label","control","init","successMessage","errorAction","_result$response3","_result$$meta4","displayReason","isPausedError","isOverlapError","_result$response4","supportUrl","textDecoration","includeId","_result$$meta5","unique_id","_this$lsf7","updatePersonalKey","eventData","persistQueuedComments","isExplorer","findActiveDraft","possibleDraft","calculateStartedAt","currentDraft","loadedDate","_currentDraft$lead_ti","draftStartedAt","draftLeadTime","adjustedStartedAt","_annotation$leadTime","_currentDraft$lead_ti2","sessionTime","getTime","startedAt","versions","draft_id","parent_prediction","parent_annotation","started_at","shouldReset","clearApp","renderApp","_this$lsfInstance","FF_FIT_720_LAZY_LOAD_ANNOTATIONS","imageCache","forceClear","_this$project$instruc","expert_instruction","_this$preload","_config$projectId","_this$project","_config$env","_config$mode","_config$table","_config$apiVersion","_config$links","_config$showPreviews","_config$toolbar","_config$instruments","_config$apiTransform","_config$preload","_config$role","_config$tabControls","_config$type","labelStudioOptions","env","tableConfig","links","import","export","started","datasetId","labelStudio","process","table","builder","prepareInstruments","labelButton","backButton","labelingHeader","groundTruth","autoAnnotation","apiConfig","apiGateway","apiEndpoints","apiMockDisabled","apiSharedParams","apiHeaders","initApp","_this$_projectId","_this$root","_projectId","addAction","_this$store","_this$actions$get","installActions","registerInstrument","initializer","updateInstruments","events","removeAllListeners","modeChanged","_this$callbacks$get","_this$lsf$task","taskExists","taskSelected","_annotation$id","_task$lastAnnotation","detachCallbacks","unmountComponentAtNode","_instruments$name","nativeInstrument","customInstrument","urlJSON","pathOSS","pathEnterprise","base"],"sourceRoot":""}